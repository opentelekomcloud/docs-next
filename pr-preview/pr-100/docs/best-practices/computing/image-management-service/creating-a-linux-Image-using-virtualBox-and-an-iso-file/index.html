<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Creating a Linux Image Using VirtualBox and an ISO File | Architecture Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://akyriako.github.io/docs-next/pr-preview/pr-100/img/open-telekom-cloud-social-card.png"><meta data-rh="true" name="twitter:image" content="https://akyriako.github.io/docs-next/pr-preview/pr-100/img/open-telekom-cloud-social-card.png"><meta data-rh="true" property="og:url" content="https://akyriako.github.io/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating a Linux Image Using VirtualBox and an ISO File | Architecture Center"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/docs-next/pr-preview/pr-100/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://akyriako.github.io/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file"><link data-rh="true" rel="alternate" href="https://akyriako.github.io/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file" hreflang="en"><link data-rh="true" rel="alternate" href="https://akyriako.github.io/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docs-next/pr-preview/pr-100/blog/rss.xml" title="Architecture Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-next/pr-preview/pr-100/blog/atom.xml" title="Architecture Center Atom Feed">



<link rel="preconnect" href="https://analytics.example.de">
<script async defer="defer" src="https://analytics.example.de/script.js" data-website-id="00000" data-host-url="https://analytics.example.de" data-auto-track data-do-not-track data-cache data-domains="akyriako.github.io"></script><link rel="stylesheet" href="/docs-next/pr-preview/pr-100/assets/css/styles.e4677b78.css">
<script src="/docs-next/pr-preview/pr-100/assets/js/runtime~main.dd2804c9.js" defer="defer"></script>
<script src="/docs-next/pr-preview/pr-100/assets/js/main.168984ab.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-next/pr-preview/pr-100/"><div class="navbar__logo"><img src="/docs-next/pr-preview/pr-100/img/logo_headline_kombination_m_s_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-next/pr-preview/pr-100/img/logo_headline_kombination_m_w_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-100/docs/best-practices/">Best Practices</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-100/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a href="https://auth.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--terminal-link" aria-label="Open Telekom Cloud Console"></a><a href="https://github.com/opentelekomcloud-blueprints" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Creating a Linux Image Using VirtualBox and an ISO File</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#introduction">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="virtualbox">VirtualBox<a class="hash-link" aria-label="Direct link to VirtualBox" title="Direct link to VirtualBox" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#virtualbox">​</a></h4>
<p>VirtualBox is free, open-source virtualization software. It was first offered by InnoTek GmbH from Germany and re-branded as Oracle VM VirtualBox when InnoTek was acquired by Oracle Corporation.</p>
<p>For more information about VirtualBox, visit the Oracle official website. Click <a href="https://www.virtualbox.org/wiki/Guest_OSes" target="_blank" rel="noopener noreferrer">here</a> to see the guest OSs that can work with VirtualBox.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenarios">Scenarios<a class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#scenarios">​</a></h4>
<p>You can use a 32-bit or 64-bit Linux guest OS provided by VirtualBox to create an image file in VHD format.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="advantages">Advantages<a class="hash-link" aria-label="Direct link to Advantages" title="Direct link to Advantages" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#advantages">​</a></h4>
<p>You can customize Linux image files.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tools-and-costs">Tools and Costs<a class="hash-link" aria-label="Direct link to Tools and Costs" title="Direct link to Tools and Costs" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#tools-and-costs">​</a></h4>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="image-creation-process">Image Creation Process<a class="hash-link" aria-label="Direct link to Image Creation Process" title="Direct link to Image Creation Process" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#image-creation-process">​</a></h4>
<p>The following figure shows how to use VirtualBox to create an image from an ISO file.</p>
<p><strong>Figure 1</strong> Image creation process<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0200645302.png" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-installing-virtualbox">Step 1: Installing VirtualBox<a class="hash-link" aria-label="Direct link to Step 1: Installing VirtualBox" title="Direct link to Step 1: Installing VirtualBox" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-1-installing-virtualbox">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparations">Preparations<a class="hash-link" aria-label="Direct link to Preparations" title="Direct link to Preparations" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#preparations">​</a></h4>
<p>The host where VirtualBox is to be installed must meet the following requirements:</p>
<ul>
<li>A 64-bit Windows OS (recommended).</li>
<li>At least 4 GB of memory and a dual-core processor. For example, the host specifications can be 8U16G.</li>
<li>At least 20 GB of available disk space.</li>
<li>Hardware virtualization (Intel VT-x or AMD-V). For how to enable this, see <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0017__section1503794314311">Host CPU Settings (Hardware Virtualization)</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="host-cpu-settings-hardware-virtualization">Host CPU Settings (Hardware Virtualization)<a class="hash-link" aria-label="Direct link to Host CPU Settings (Hardware Virtualization)" title="Direct link to Host CPU Settings (Hardware Virtualization)" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#host-cpu-settings-hardware-virtualization">​</a></h4>
<p>For an Intel host, perform the following operations to enable hardware virtualization:</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>The operations may differ depending on the CPU type. You can do it as prompted.</p>
<ol>
<li>
<p>During the host startup, press the BIOS key set by the manufacturer to access the BIOS.</p>
</li>
<li>
<p>Choose <strong>Configuration</strong> &gt; <strong>Intel Virtual Technology</strong>, and press <strong>Enter</strong>.</p>
</li>
<li>
<p>Select <strong>Enabled</strong> and press <strong>Enter</strong>. The value of <strong>Intel Virtual Technology</strong> will become <strong>Enabled</strong>.</p>
</li>
<li>
<p>Press <strong>F10</strong> to save the settings and exit.</p>
<p><strong>Figure 1</strong> Enabling hardware virtualization<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0107215471.png" alt="" class="img_ev3q"></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure">​</a></h4>
<ol>
<li>
<p>Download the VirtualBox installation package. VirtualBox-5.2.0 is used as an example.</p>
<p>Download it from <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener noreferrer">https://www.virtualbox.org/wiki/Downloads</a>.</p>
</li>
<li>
<p>Decompress the package. Right-click <strong>VirtualBox-5.2.0-118431-Win.exe</strong>, choose <strong>Run as administrator</strong>, and click <strong>Next</strong>.</p>
<p><strong>Figure 2</strong> Installing VirtualBox<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0107215473.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Select the VirtualBox installation path and click <strong>Next</strong>.</p>
<p><strong>Figure 3</strong> Selecting an installation path<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0107215475.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Personalize the settings and click <strong>Next</strong>.</p>
<p><strong>Figure 4</strong> Personalized settings<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0107215477.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Click <strong>Finish</strong>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-creating-a-vm-and-installing-an-os">Step 2: Creating a VM and Installing an OS<a class="hash-link" aria-label="Direct link to Step 2: Creating a VM and Installing an OS" title="Direct link to Step 2: Creating a VM and Installing an OS" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-2-creating-a-vm-and-installing-an-os">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-empty-vm">Creating an Empty VM<a class="hash-link" aria-label="Direct link to Creating an Empty VM" title="Direct link to Creating an Empty VM" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#creating-an-empty-vm">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#prerequisites">​</a></h4>
<p>VirtualBox has been installed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-1">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure-1">​</a></h4>
<ol>
<li>
<p>Open VirtualBox and click <strong>New</strong>. In the displayed <strong>Create Virtual Machine</strong> dialog box, enter a VM name, select an OS type and version, and click <strong>Next</strong>.</p>
<p>Take Ubuntu as an example. The type must be <strong>Linux</strong>.</p>
<p>Ensure that the selected version is the same as that of the OS you want to install on the VM.</p>
<p><strong>Figure 1</strong> Creating a VM<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268280658.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>In the <strong>Memory size</strong> dialog box, set a value and click <strong>Next</strong>.</p>
<p>You can reference the VM specifications or official OS requirements. The minimum value is 256 MB. You can set the memory size to 512 MB as an example.</p>
<p><strong>Figure 2</strong> Setting the memory size<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268284967.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>In the <strong>Hard disk</strong> dialog box, select <strong>Create a virtual hard disk now</strong> and click <strong>Create</strong>.</p>
<p><strong>Figure 3</strong> Creating a virtual hard disk<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268287010.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>In the <strong>Hard disk file type</strong> dialog box, select <strong>VHD</strong> and click <strong>Next</strong>.</p>
<p><strong>Figure 4</strong> Setting the hard disk file type<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268287244.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>In the <strong>Storage on physical hard disk</strong> dialog box, select <strong>Dynamically allocated</strong> and click <strong>Next</strong>.</p>
<p><strong>Figure 5</strong> Selecting the disk allocation mode<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268288436.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>In the <strong>File location and size</strong> dialog box, set the disk size and storage location.</p>
<p>For example, you can set the disk size to 20 GB.</p>
<p><strong>Figure 6</strong> Setting the disk location and size<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268290676.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Click <strong>Create</strong>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-a-linux-os-on-the-vm">Installing a Linux OS on the VM<a class="hash-link" aria-label="Direct link to Installing a Linux OS on the VM" title="Direct link to Installing a Linux OS on the VM" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-a-linux-os-on-the-vm">​</a></h2>
<p>The procedure varies depending on the image file you use. This section uses Ubuntu 20.04 as an example to describe how to install a Linux OS on the VM.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-1">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#prerequisites-1">​</a></h4>
<p>You have obtained the ISO image file, for example, <strong>Ubuntu-20.04-server.iso</strong>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-2">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure-2">​</a></h4>
<p>Use the ISO file to install Linux for the empty VM.</p>
<ol>
<li>
<p>In VirtualBox Manager, select the new VM and click <strong>Settings</strong>.</p>
<p><strong>Figure 1</strong> Setting the VM<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268393798.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Choose <strong>Storage</strong> &gt; <strong>Empty</strong>, click <img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268393752.png" alt="" class="img_ev3q"> in the <strong>Attributes</strong> area, and select the ISO image file <strong>Ubuntu-20.04-server.iso</strong>.</p>
<p><strong>Figure 2</strong> Selecting the ISO file to be mounted<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268393846.png" alt="" class="img_ev3q"></p>
<p><strong>Figure 3</strong> Mounted ISO file<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001457709502.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Click <strong>OK</strong>.</p>
</li>
<li>
<p>In VirtualBox Manager, select the new VM and click <strong>Start</strong>.</p>
<p><strong>Figure 4</strong> Starting the VM<br>
<img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0268337032.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Install the OS.</p>
<ol>
<li>
<p>Select <strong>English</strong> and press <strong>Enter</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514305585.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Select <strong>Continue without updating</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001464149800.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for the keyboard. Select <strong>Done</strong></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514311097.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for the installation base. Select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514670405.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for the network. Select <strong>Done</strong>.</p>
<p>The installation program will automatically identify the IP address. If the network cannot be found, the installation program can still continue and you can configure the network again after the installation is complete.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001463836772.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for the proxy. Select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514558429.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for the software source. Select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001463840256.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Retain the default settings for disk partitioning (use an entire disk and set up this disk as an LVM group). Select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514561077.png" alt="" class="img_ev3q"></p>
<p>The file system information will be displayed. Check it and select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001463841764.png" alt="" class="img_ev3q"></p>
<p>Confirm the destructive action and select <strong>Continue</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514681605.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Configure the server name, username, and password. Select <strong>Done</strong>.</p>
<p><strong>Your name</strong>: It is not a username for logging in to the server. You can consider it as server description.</p>
<p><strong>Your Server&#x27;s name</strong>: It is a unique server name on the same network. The name cannot contain uppercase letters.</p>
<p><strong>Pick a username</strong>: It is a username for logging in to the server. If you forget it or its password, you will not be allowed to log in to the server.</p>
<p><strong>Choose a password</strong>: It is the password for logging in to the server.</p>
<p><strong>Confirm your password</strong>: Enter your password again.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001464161876.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Install SSH so that you can remotely connect to the Linux server.</p>
</li>
</ol>
<p>Select <strong>Install OpenSSH server</strong>. Then, press <strong>Tab</strong> to select <strong>Done</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001514587325.png" alt="" class="img_ev3q"></p>
<ol start="11">
<li>Select <strong>Done</strong> to start the OS installation.</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001464002560.png" alt="" class="img_ev3q"></p>
<ol start="12">
<li>After the installation is complete, select <strong>Reboot</strong> to restart the system.</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001464031938.png" alt="" class="img_ev3q"></p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-configuring-the-vm">Step 3: Configuring the VM<a class="hash-link" aria-label="Direct link to Step 3: Configuring the VM" title="Direct link to Step 3: Configuring the VM" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-3-configuring-the-vm">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-drivers-and-changing-the-disk-identifiers-to-the-uuid-format">Installing Drivers and Changing the Disk Identifiers to the UUID Format<a class="hash-link" aria-label="Direct link to Installing Drivers and Changing the Disk Identifiers to the UUID Format" title="Direct link to Installing Drivers and Changing the Disk Identifiers to the UUID Format" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-drivers-and-changing-the-disk-identifiers-to-the-uuid-format">​</a></h2>
<p>To ensure that the ECSs created from the image support both Xen and KVM virtualization, install Native Xen and KVM drivers and change the disk identifiers to the UUID format for the VM which is used as the image source.</p>
<p>This section describes how to perform these operations on a Linux VM that runs Ubuntu 20.04. For other OSs, see <a href="https://support.huaweicloud.com/intl/en-us/usermanual-ims/en-us_topic_0047501133.html" target="_blank" rel="noopener noreferrer">Optimization Process (Linux)</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-native-xen-and-kvm-drivers">Install Native Xen and KVM Drivers<a class="hash-link" aria-label="Direct link to Install Native Xen and KVM Drivers" title="Direct link to Install Native Xen and KVM Drivers" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#install-native-xen-and-kvm-drivers">​</a></h4>
<ol>
<li>
<p>Run the following command to open the <strong>modules</strong> file:</p>
<p><strong>vi /etc/initramfs-tools/modules</strong></p>
</li>
<li>
<p>Press <strong>i</strong> to enter the editing mode and add the native Xen (xen-pv) and KVM (virtio) drivers to the <strong>/etc/initramfs-tools/modules</strong> file (the format depends on the OS requirements).</p>
<p>``
[root@CTU10000xxxxx ~]#vi /etc/initramfs-tools/modules
...</p>
</li>
</ol>
<h1>Examples:</h1>
<h1></h1>
<h1>raid1</h1>
<h1>sd_mOd</h1>
<p>xen-blkfront
xen-netfront
virtio_blk
virtio_scsi
virtio_net
virtio_pci
virtio_ring
virtio<br>
<!-- -->``</p>
<ol start="3">
<li>
<p>Press <strong>Esc</strong>, enter <strong>:wq</strong>, and press <strong>Enter</strong> to save the settings and exit the vi editor.</p>
</li>
<li>
<p>Run the following command to generate initrd again:</p>
<p><strong>update-initramfs -u</strong></p>
</li>
<li>
<p>Run the following commands to check whether native Xen and KVM drivers have been installed:</p>
<p><strong>lsinitramfs /boot/initrd.img-`uname -r` |grep xen</strong></p>
<p><strong>lsinitramfs /boot/initrd.img-`uname -r` |grep virtio</strong></p>
<p>``
[root@ CTU10000xxxxx home]# lsinitramfs /boot/initrd.img-<code>uname -r</code> |grep xen
lib/modules/3.5.0-23-generic/kernel/drivers/net/ethernet/qlogic/netxen
lib/modules/3.5.0-23-generic/kernel/drivers/net/ethernet/qlogic/netxen/netxen_nic.ko
lib/modules/3.5.0-23-generic/kernel/drivers/net/xen-netback
lib/modules/3.5.0-23-generic/kernel/drivers/net/xen-netback/xen-netback.ko
lib/modules/3.5.0-23-generic/kernel/drivers/block/xen-blkback
lib/modules/3.5.0-23-generic/kernel/drivers/block/xen-blkback/xen-blkback.ko</p>
</li>
</ol>
<p>[root@ CTU10000xxxxx home]# lsinitramfs /boot/initrd.img-<code>uname -r</code> |grep virtio
lib/modules/3.5.0-23-generic/kernel/drivers/scsi/virtio_scsi.ko
``</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>If you add built-in drivers to the initrd or initramfs file, the VM will not be affected. This makes it easy to modify the drivers. However, the drivers cannot be shown by running the <strong>lsinitrd</strong> command. You can run the following commands to check whether the drivers are built-in ones in the kernel:</p>
<p><code>[root@ CTU10000xxxxx home]# cat /boot/config-`uname -r` | grep CONFIG_VIRTIO | grep y CONFIG_VIRTIO_BLK=y CONFIG_VIRTIO_NET=y CONFIG_VIRTIO=y CONFIG_VIRTIO_RING=y CONFIG_VIRTIO_PCI=y CONFIG_VIRTIO_MMIO_CMDLINE_DEVICES=y [root@ CTU10000xxxxx home]# cat /boot/config-`uname -r` | grep CONFIG_XEN | grep y CONFIG_XEN_BLKDEV_FRONTEND=y CONFIG_XEN_NETDEV_FRONTEND=y</code></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="change-the-disk-identifier-in-the-grub-configuration-file-to-the-uuid-format">Change the Disk Identifier in the GRUB Configuration File to the UUID Format<a class="hash-link" aria-label="Direct link to Change the Disk Identifier in the GRUB Configuration File to the UUID Format" title="Direct link to Change the Disk Identifier in the GRUB Configuration File to the UUID Format" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#change-the-disk-identifier-in-the-grub-configuration-file-to-the-uuid-format">​</a></h4>
<p>Take Ubuntu 20.04 as an example. Run <strong>blkid</strong> to obtain the UUID of the root partition. Modify the <strong>/boot/grub/grub.cfg</strong> file and use the UUID of the root partition to configure the boot item. If the root partition already uses UUID, no modification is required. The procedure is as follows:</p>
<ol>
<li>
<p>Log in to the newly created VM as user <strong>root</strong>.</p>
</li>
<li>
<p>Run the following command to query all types of mounted file systems and their device UUIDs:</p>
<p><strong>blkid</strong></p>
<p>The following information is displayed:</p>
<p><code>/dev/xvda1: UUID=&quot;ec51d860-34bf-4374-ad46-a0c3e337fd34&quot; TYPE=&quot;ext3&quot; /dev/xvda5: UUID=&quot;7a44a9ce-9281-4740-b95f-c8de33ae5c11&quot; TYPE=&quot;swap&quot;</code></p>
</li>
<li>
<p>Run the following command to query the <strong>grub.cfg</strong> file:</p>
<p>**cat /boot/grub/grub.**<strong>cfg</strong></p>
<p>The following information is displayed:</p>
<p><code>......menuentry &#x27;Ubuntu Linux, with Linux 3.13.0-24-generic&#x27; --class ubuntu --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &#x27;gnulinux-3.13.0-24-generic-advanced-ec51d860-34bf-4374-ad46-a0c3e337fd34&#x27; { recordfail load_video gfxmode $linux_gfx_mode insmod gzio insmod part_msdos insmod ext2 if [ x$feature_platform_search_hint = xy ]; then search --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34 else search --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34 fi echo &#x27;Loading Linux 3.13.0-24-generic ...&#x27; linux /boot/vmlinuz-3.13.0-24-generic root=/dev/xvda1 ro  echo &#x27;Loading initial ramdisk ...&#x27; initrd /boot/initrd.img-3.13.0-24-generic  }</code></p>
</li>
<li>
<p>Check whether the <strong>/boot/grub/grub.cfg</strong> configuration file contains <strong>root=/dev/xvda1</strong> or <strong>root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34</strong>.</p>
<ul>
<li>If <strong>root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34</strong> is contained, the root partition is in the UUID format and no further action is required.</li>
<li>If <strong>root=/dev/xvda1</strong> is contained, the root partition is represented by a device name. Go to step <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0022__en-us_topic_0106036281_lf7085be4afa540f3b52640d8d9157c9a">5</a>.</li>
</ul>
</li>
<li>
<p>Obtain the UUID of the root partition based on <strong>root=/dev/xvda1</strong> and information obtained by running the <strong>blkid</strong> command.</p>
</li>
<li>
<p>Run the following command to open the <strong>grub.cfg</strong> file:</p>
<p><strong>vi /boot/grub/grub.cfg</strong></p>
</li>
<li>
<p>Press <strong>i</strong> to enter the editing mode. Change the identifier of the root partition to the UUID format. For example, change <strong>root=/dev/xvda1</strong> to <strong>root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34</strong>.</p>
</li>
<li>
<p>Press <strong>Esc</strong>, enter <strong>:wq</strong>, and press <strong>Enter</strong> to save the settings and exit the vi editor.</p>
</li>
<li>
<p>Run the following command to verify the change:</p>
<p>**cat /boot/grub/grub.**<strong>cfg</strong></p>
<p>The change is successful if information similar to the following is displayed:</p>
<p><code>......menuentry &#x27;Ubuntu Linux, with Linux 3.13.0-24-generic&#x27; --class ubuntu --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option &#x27;gnulinux-3.13.0-24-generic-advanced-ec51d860-34bf-4374-ad46-a0c3e337fd34&#x27; { recordfail load_video gfxmode $linux_gfx_mode insmod gzio insmod part_msdos insmod ext2 if [ x$feature_platform_search_hint = xy ]; then search --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34 else search --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34 fi echo &#x27;Loading Linux 3.13.0-24-generic ...&#x27; linux /boot/vmlinuz-3.13.0-24-generic root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34 ro echo &#x27;Loading initial ramdisk ...&#x27; initrd /boot/initrd.img-3.13.0-24-generic }</code></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="change-the-disk-identifiers-in-the-fstab-file-to-the-uuid-format">Change the Disk Identifiers in the fstab File to the UUID Format<a class="hash-link" aria-label="Direct link to Change the Disk Identifiers in the fstab File to the UUID Format" title="Direct link to Change the Disk Identifiers in the fstab File to the UUID Format" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#change-the-disk-identifiers-in-the-fstab-file-to-the-uuid-format">​</a></h4>
<p>Take Ubuntu 20.04 as an example. Run <strong>blkid</strong> to obtain the UUIDs of all partitions. Modify the <strong>/etc/fstab</strong> file and use the partition UUIDs to configure automatic partition mounting.</p>
<ol>
<li>
<p>Run the following command to query all types of mounted file systems and their device UUIDs:</p>
<p><strong>blkid</strong></p>
<p>The following information is displayed:</p>
<p><code>/dev/xvda2: UUID=&quot;4eb40294-4c6f-4384-bbb6-b8795bbb1130&quot; TYPE=&quot;xfs&quot;   /dev/xvda1: UUID=&quot;2de37c6b-2648-43b4-a4f5-40162154e135&quot; TYPE=&quot;swap&quot;</code></p>
</li>
<li>
<p>Run the following command to query the <strong>fstab</strong> file:</p>
<p><strong>cat /etc/fstab</strong></p>
<p>The following information is displayed:</p>
<p><code>[root@CTU1000028010 ~]# cat /etc/fstab   /dev/xvda2  /       xfs     defaults    0 0  /dev/xvda1  swap    swap    defaults    0 0     </code></p>
</li>
<li>
<p>Check whether the disk identifiers in the <strong>fstab</strong> file are device names or UUIDs.</p>
<ul>
<li>If they are UUIDs, no further action is required.</li>
<li>If they are device names, go to step <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0022__en-us_topic_0106036281_li63646666154817">4</a>.</li>
</ul>
</li>
<li>
<p>Run the following command to open the <strong>fstab</strong> file:</p>
<p><strong>vi /etc/fstab</strong></p>
</li>
<li>
<p>Press <strong>i</strong> to enter the editing mode and change the disk identifiers to the UUID format.</p>
</li>
<li>
<p>Press <strong>Esc</strong>, enter <strong>:wq</strong>, and press <strong>Enter</strong> to save the settings and exit the vi editor.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-cloud-init">Installing Cloud-Init<a class="hash-link" aria-label="Direct link to Installing Cloud-Init" title="Direct link to Installing Cloud-Init" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-cloud-init">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="scenarios-1">Scenarios<a class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#scenarios-1">​</a></h4>
<p>To ensure that you can use the user data injection function to inject initial custom information into ECSs created from a private image (such as setting the ECS login password), install Cloud-Init on the ECS used to create the image.</p>
<ul>
<li>You need to download Cloud-Init from its official website. Therefore, you must bind an EIP to the ECS.</li>
<li>If Cloud-Init is not installed, you cannot configure an ECS. As a result, you can only use the password in the image file to log in to the created ECSs.</li>
<li>By default, ECSs created from a public image have Cloud-Init installed. You do not need to install or configure Cloud-Init on such ECSs.</li>
<li>For ECSs created using an external image file, install and configure Cloud-Init by performing the operations in this section. For how to configure Cloud-Init, see <a href="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/ims_bp_0024.html#ims_bp_0024" target="_blank" rel="noopener noreferrer">Configuring Cloud-Init</a>.</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Cloud-Init is open-source software. If the installed version has security vulnerabilities, you are advised to upgrade it to the latest version.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-2">Prerequisites<a class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#prerequisites-2">​</a></h4>
<ul>
<li>An EIP has been bound to the ECS.</li>
<li>You have logged in to the ECS.</li>
<li>The IP address obtaining mode of the ECS is DHCP.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-3">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure-3">​</a></h4>
<ol>
<li>
<p>Check whether Cloud-Init has been installed.</p>
<p>For details, see <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_section57525650153449">Check Whether Cloud-Init Has Been Installed</a>.</p>
</li>
<li>
<p>Install Cloud-Init.</p>
<p>You can install Cloud-Init in any of the following ways: <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_section9013470154018">(Recommended) Install Cloud-Init Using the Official Installation Package</a>, <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_section124220553610">Install Cloud-Init Using the Official Source Code Package and pip</a>, and <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_section14939636151511">Install Cloud-Init Using the Official GitHub Source Code</a>.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="check-whether-cloud-init-has-been-installed">Check Whether Cloud-Init Has Been Installed<a class="hash-link" aria-label="Direct link to Check Whether Cloud-Init Has Been Installed" title="Direct link to Check Whether Cloud-Init Has Been Installed" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#check-whether-cloud-init-has-been-installed">​</a></h4>
<p>Perform the operations provided here to check whether Cloud-Init has been installed. The methods of checking whether Cloud-Init is installed vary depending on the OSs.</p>
<ul>
<li>
<p>If you are in a Python 3 environment, run the following command to check whether Cloud-Init is installed (Ubuntu 22.0.4 is used as an example):</p>
<p><strong>which cloud-init</strong></p>
<ul>
<li>
<p>If information similar to the following is displayed, Cloud-Init has been installed:</p>
<p><code>/usr/bin/cloud-init</code></p>
</li>
<li>
<p>If information similar to the following is displayed, Cloud-Init is not installed:</p>
<p><code>/usr/bin/which: no cloud-init in (/usr/local/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin)</code></p>
</li>
</ul>
</li>
<li>
<p>If you are in a Python 2 environment, run the following command to check whether Cloud-Init is installed (CentOS 6 is used as an example):</p>
<p><strong>which cloud-init</strong></p>
<ul>
<li>
<p>If information similar to the following is displayed, Cloud-Init has been installed:</p>
<p><code>cloud-init-0.7.5-10.el6.centos.2.x86_64</code></p>
</li>
<li>
<p>If no information is returned, Cloud-Init is not installed.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>To confirm Cloud-Init is really not installed, you are advised to run <strong>rpm -qa |grep cloud-init</strong> to check again. If either of <strong>which cloud-init</strong> and <strong>rpm -qa |grep cloud-init</strong> shows that Cloud-Init has been installed, Cloud-Init is installed.</p>
</li>
</ul>
</li>
</ul>
<p>If Cloud-Init has been installed, perform the following operations:</p>
<ul>
<li>
<p>Check whether to use the SSH certificate in the ECS OS. If the certificate is no longer used, delete it.</p>
<ul>
<li>
<p>If the certificate is stored in a directory of user <strong>root</strong>, for example, <em>/$path/$to/$root</em><strong>/.ssh/authorized_keys</strong>, run the following commands:</p>
<p><strong>cd /root/.ssh</strong></p>
<p><strong>rm authorized_keys</strong></p>
</li>
<li>
<p>If the certificate is not stored in a directory of user <strong>root</strong>, for example, <em>/$path/$to/$none-root</em><strong>/.ssh/authorized_keys</strong>, run the following commands:</p>
<p><strong>cd /home/centos/.ssh</strong></p>
<p><strong>rm authorized_keys</strong></p>
</li>
</ul>
</li>
<li>
<p>Run the following command to delete the cache generated by Cloud-Init and ensure that the ECS created from the private image can be logged in by using the certificate:</p>
<p><strong>sudo rm -rf /var/lib/cloud/*</strong></p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Do not restart the ECS after performing the configuration. Otherwise, you need to configure it again.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-install-cloud-init-using-the-official-installation-package">(Recommended) Install Cloud-Init Using the Official Installation Package<a class="hash-link" aria-label="Direct link to (Recommended) Install Cloud-Init Using the Official Installation Package" title="Direct link to (Recommended) Install Cloud-Init Using the Official Installation Package" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#recommended-install-cloud-init-using-the-official-installation-package">​</a></h4>
<p>The method of installing Cloud-Init on an ECS varies depending on the OS. Perform the installation operations as user <strong>root</strong>.</p>
<p>The following describes how to install Cloud-Init on an ECS running SUSE Linux, CentOS, Fedora, Debian, and Ubuntu. For other OS types, install the required type of Cloud-Init. For example, you need to install coreos-cloudinit on ECSs running CoreOS.</p>
<ul>
<li>
<p>SUSE Linux</p>
<p>Paths for obtaining the Cloud-Init installation package for SUSE Linux</p>
<p><a href="https://ftp5.gwdg.de/pub/opensuse/repositories/Cloud:/Tools" target="_blank" rel="noopener noreferrer">https://ftp5.gwdg.de/pub/opensuse/repositories/Cloud:/Tools/</a></p>
<p><a href="http://download.opensuse.org/repositories/Cloud:/Tools/" target="_blank" rel="noopener noreferrer">http://download.opensuse.org/repositories/Cloud:/Tools/</a></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Select the required repo installation package in the provided paths.</p>
<p>Take SUSE Enterprise Linux Server 12 as an example. Perform the following steps to install Cloud-Init:</p>
<ol>
<li>
<p>Log in to the ECS used to create a Linux private image.</p>
</li>
<li>
<p>Run the following command to install the network installation source for SUSE Enterprise Linux Server 12:</p>
<p><strong>zypper ar <a href="https://ftp5.gwdg.de/pub/opensuse/repositories/Cloud:/Tools/SLE%5C_12%5C_SP3/Cloud:Tools.repo" target="_blank" rel="noopener noreferrer">https://ftp5.gwdg.de/pub/opensuse/repositories/Cloud:/Tools/SLE\_12\_SP3/Cloud:Tools.repo</a></strong></p>
</li>
<li>
<p>Run the following command to update the network installation source:</p>
<p><strong>zypper refresh</strong></p>
</li>
<li>
<p>Run the following command to install Cloud-Init:</p>
<p><strong>zypper install cloud-init</strong></p>
</li>
<li>
<p>Run the following commands to enable Cloud-Init to automatically start upon system boot:</p>
<ul>
<li>
<p>SUSE 11</p>
<p><strong>chkconfig cloud-init-local on; chkconfig cloud-init on; chkconfig cloud-config on; chkconfig cloud-final on</strong></p>
<p><strong>service cloud-init-local status; service cloud-init status; service cloud-config status; service cloud-final status</strong></p>
</li>
<li>
<p>SUSE 12 and openSUSE 12/13/42</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/caution_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>For SUSE and openSUSE, perform the following steps to disable dynamic change of the ECS name:</p>
<ol>
<li>
<p>Run the following command to open the <strong>dhcp</strong> file using the vi editor:</p>
<p><strong>vi</strong> <strong>etc/sysconfig/network/dhcp</strong></p>
</li>
<li>
<p>Change the value of <strong>DHCLIENT_SET_HOSTNAME</strong> in the <strong>dhcp</strong> file to <strong>no</strong>.</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p><strong>CentOS</strong></p>
<p><a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_table859383892814">Table 1</a> lists the Cloud-Init installation paths for CentOS. Select the required installation package from the following addresses.</p>
<ol>
<li>
<p>Run the following commands to install Cloud-Init:</p>
<p><strong>yum install</strong> <em>Cloud-Init installation package address</em><strong>/epel-release-</strong><em>x-y</em><strong>.noarch.rpm</strong></p>
<p><strong>yum install cloud-init</strong></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p><em>Cloud-Init installation package address</em> indicates the address of the Cloud-Init epel-release installation package, and <em>x-y</em> indicates the version of the Cloud-Init epel-release required by the current OS. Replace them with the actual values according to <a href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ims_bp_0023__en-us_topic_0030730603_table859383892814">Table 1</a>.</p>
<ul>
<li>
<p>Take CentOS 6 64-bit as an example. If the version is 6.8, the command is as follows:</p>
<p><strong>yum install <a href="https://archives.fedoraproject.org/pub/archive/epel/6/x86%5C_64/epel-release-****6-8****.noarch.rpm" target="_blank" rel="noopener noreferrer">https://archives.fedoraproject.org/pub/archive/epel/6/x86\_64/epel-release-****6-8****.noarch.rpm</a></strong></p>
</li>
<li>
<p>Take CentOS 7 64-bit as an example. If the version is 7.14, the command is as follows:</p>
<p><strong>yum install <a href="https://archives.fedoraproject.org/pub/epel/7/x86%5C_64/Packages/e/epel-release-****7-14****.noarch.rpm" target="_blank" rel="noopener noreferrer">https://archives.fedoraproject.org/pub/epel/7/x86\_64/Packages/e/epel-release-****7-14****.noarch.rpm</a></strong></p>
</li>
</ul>
</li>
<li>
<p>Run the following commands to enable Cloud-Init to automatically start upon system boot:</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ol>
</li>
<li>
<p>Fedora</p>
<p>Before installing Cloud-Init, ensure that the network installation source address has been configured for the OS by checking whether the <strong>/etc/yum.repo.d/fedora.repo</strong> file contains the installation source address of the software package. If the file does not contain the address, configure the address by following the instructions on the Fedora official website.</p>
<ol>
<li>
<p>Run the following command to install Cloud-Init:</p>
<p><strong>yum install cloud-init</strong></p>
</li>
<li>
<p>Run the following commands to enable Cloud-Init to automatically start upon system boot:</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ol>
</li>
<li>
<p>Debian and Ubuntu</p>
<p>Before installing Cloud-Init, ensure that the network installation source address has been configured for the OS by checking whether the <strong>/etc/apt/sources.list</strong> file contains the installation source address of the software package. If the file does not contain the address, configure the address by following the instructions on the Debian or Ubuntu official website.</p>
<ol>
<li>
<p>Run the following commands to install Cloud-Init:</p>
<p><strong>apt-get update</strong></p>
<p><strong>apt-get install</strong> <strong>cloud-init</strong></p>
</li>
<li>
<p>Run the following commands to enable Cloud-Init to automatically start upon system boot:</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ol>
<p><strong>Cloud-Init-23.2.2 is used as an example to describe how to install Cloud-Init on CentOS, Fedora, Ubuntu, Debian, and SUSE.</strong></p>
<p>Download the <strong>cloud-init-23.2.2.tar.gz</strong> source code package from <a href="https://launchpad.net/cloud-init/trunk/23.2.2/+download/cloud-init-23.2.2.tar.gz" target="_blank" rel="noopener noreferrer">https://launchpad.net/cloud-init/trunk/23.2.2/+download/cloud-init-23.2.2.tar.gz</a>.</p>
</li>
<li>
<p><strong>Centos 7/Fedora Server 36</strong></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/notice_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Ensure that Python 3 has been installed.</p>
<ol>
<li>
<p>Check whether Cloud-Init has been installed. If any command output is displayed, Cloud-Init has been installed.</p>
<p><code>cloud-init -v</code></p>
</li>
<li>
<p>Delete the cache directory of Cloud-Init.</p>
<p><code>rm -rf /var/lib/cloud/*</code></p>
</li>
<li>
<p>Install dependency packages of Cloud-Init.</p>
<p><code>yum install python3-pip -y yum install python3-devel</code></p>
</li>
<li>
<p>Download the Cloud-Init package.</p>
<p><code>wget https://launchpad.net/cloud-init/trunk/23.2.2/+download/cloud-init-23.2.2.tar.gz</code></p>
</li>
<li>
<p>Decompress the Cloud-Init package.</p>
<p><code>tar -zxvf cloud-init-23.2.2.tar.gz</code></p>
</li>
<li>
<p>Go to the <strong>cloud-init-23.2.2</strong> directory and install dependent libraries:</p>
<p><code>cd cloud-init-23.2.2 pip3 install -r requirements.txt</code></p>
</li>
<li>
<p>Install Cloud-Init.</p>
<p><code>python3 setup.py build python3 setup.py install --init-system systemd</code></p>
</li>
<li>
<p>(Optional) Diable Cloud-Init&#x27;s network configuration capability by modifying the <strong>/etc/cloud/cloud.cfg</strong> file.</p>
<p><code>vi /etc/cloud/cloud.cfg</code></p>
<p>Add the following content to the file:</p>
<p><code>network:   config: disabled</code></p>
</li>
<li>
<p>Restart Cloud-Init and check its status.</p>
<p><code>systemctl restart cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001688060529.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Enable Cloud-Init related services to automatically start upon system boot.</p>
</li>
</ol>
<p><code>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
<ol start="11">
<li>Check whether Cloud-Init is running properly.</li>
</ol>
<p><code>cloud-init -v cloud-init init --local </code></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001639899816.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p><strong>Ubuntu 22.0.4/Debian 11</strong></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/notice_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Ensure that Python 3 has been installed.</p>
<ol>
<li>
<p>Check and delete redundant Cloud-Init configuration files.</p>
<p><code>rm -rf /var/lib/cloud/* rm -f /var/log/cloud-init*</code></p>
<p>Delete all files except log-related configuration files from the <strong>/etc/cloud/cloud.cfg.d/</strong> directory.</p>
</li>
<li>
<p>Update your package list and check whether Wget is installed. If it is not, install it.</p>
<p><code>sudo apt update sudo apt install wget </code></p>
</li>
<li>
<p>Install dependency packages.</p>
<p><code>apt-get install cloud-guest-utils -y apt-get install python3-pip -y apt-get install python3-devel</code></p>
</li>
<li>
<p>Download the Cloud-Init package.</p>
<p><code>wget https://launchpad.net/cloud-init/trunk/23.2.2/+download/cloud-init-23.2.2.tar.gz</code></p>
</li>
<li>
<p>Decompress the Cloud-Init package.</p>
<p><code>tar -zxvf cloud-init-23.2.2.tar.gz</code></p>
</li>
<li>
<p>Go to the <strong>cloud-init</strong> directory.</p>
<p><code>cd cloud-init-23.2.2</code></p>
</li>
<li>
<p>Install dependent libraries.</p>
<p><code>pip3 install -r requirements.txt</code></p>
</li>
<li>
<p>Install Cloud-Init.</p>
<p><code>python3 setup.py install</code></p>
</li>
<li>
<p>(Optional) Disable Cloud-Init&#x27;s network configuration capability.</p>
<p>You need to do so when the Cloud-Init version is 0.7.9 or later and you want to configure the network.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>1. Open the <strong>/etc/cloud/cloud.cfg</strong> file.</p>
<p><code>vi /etc/cloud/cloud.cfg</code></p>
<p>2. Enter <strong>i</strong> and configure <strong>network</strong>. (If there is no such a configuration item, add it.)</p>
<p><code>network:   config: disabled</code></p>
</li>
<li>
<p>Restart Cloud-Init and check its status.</p>
</li>
</ol>
<p><code>systemctl restart cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
<ol start="11">
<li>Enable Cloud-Init related services to automatically start upon system boot.</li>
</ol>
<p><code>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
<ol start="12">
<li>Check whether Cloud-Init is running properly.</li>
</ol>
<p><code>cloud-init -v cloud-init init --local</code></p>
</li>
<li>
<p><strong>SUSE Enterprise Linux Server 15</strong></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/notice_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Ensure that Python 3 has been installed.</p>
<ol>
<li>
<p>View existing SUSE repositories.</p>
<p><code>zypper lr</code></p>
</li>
<li>
<p>Delete the SUSE repositories.</p>
<p><code>zypper rr No. of repositories listed in 1</code></p>
</li>
<li>
<p>Configure a SUSE repository.</p>
<p><code>zypper ar https://ftp5.gwdg.de/pub/opensuse/repositories/Cloud:/Tools/SLE_15_SP4/Cloud:Tools.repo</code></p>
</li>
<li>
<p>Refresh the SUSE repository.</p>
<p><code>zypper refresh</code></p>
</li>
<li>
<p>Install Cloud-Init.</p>
<p><code>zypper install cloud-init</code></p>
</li>
<li>
<p>Run <strong>cloud-init -v</strong>. If error messages similar to the following are displayed, install the dependency packages.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001688251829.png" alt="" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001640131918.png" alt="" class="img_ev3q"></p>
<p><code>pip install requests pyyaml oauthlib jsonschema jsonpatch jinja2 configobj</code></p>
</li>
<li>
<p>Check whether Cloud-Init is successfully installed. If the following error message is displayed, configure <strong>datasource_list</strong> in <strong>/etc/cloud/cloud.cfg</strong>.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001639765024.png" alt="" class="img_ev3q"></p>
<p><code>datasource_list: [ OpenStack ] datasource:   OpenStack: metadata_urls: [&#x27;http://169.254.169.254&#x27;] max_wait: 120 timeout: 5 apply_network_config: false</code></p>
</li>
<li>
<p>Modify the configuration file, restart Cloud-Init, and check the Cloud-Init status.</p>
<p><code>systemctl restart cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service  systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
</li>
<li>
<p>Enable Cloud-Init related services to automatically start upon system boot.</p>
<p><code>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</code></p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001688204517.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Check whether Cloud-Init is running properly.</p>
</li>
</ol>
<p><code>cloud-init -v cloud-init init --local</code></p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-cloud-init-using-the-official-source-code-package-and-pip">Install Cloud-Init Using the Official Source Code Package and pip<a class="hash-link" aria-label="Direct link to Install Cloud-Init Using the Official Source Code Package and pip" title="Direct link to Install Cloud-Init Using the Official Source Code Package and pip" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#install-cloud-init-using-the-official-source-code-package-and-pip">​</a></h4>
<p>The following operations use Cloud-Init 0.7.9 as an example to describe how to install Cloud-Init.</p>
<ol>
<li>
<p>Download the <strong>cloud-init-0.7.9.tar.gz</strong> source code package (version 0.7.9 is recommended) and upload it to the <strong>/home/</strong> directory of the ECS.</p>
<p>Download <strong>cloud-init-0.7.9.tar.gz</strong> from the following path:</p>
<p><a href="https://launchpad.net/cloud-init/trunk/0.7.9/+download/cloud-init-0.7.9.tar.gz" target="_blank" rel="noopener noreferrer">https://launchpad.net/cloud-init/trunk/0.7.9/+download/cloud-init-0.7.9.tar.gz</a></p>
</li>
<li>
<p>Create a <strong>pip.conf</strong> file in the <strong>~/.pip/</strong> directory and edit the following content:</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>If the <strong>~/.pip/</strong> directory does not exist, run the <strong>mkdir ~/.pip</strong> command to create it.</p>
<p><code>[global] index-url  = https://&lt;$mirror&gt;/simple/ trusted-host = &lt;$mirror&gt;</code></p>
</li>
<li>
<p>Run the following command to install the downloaded Cloud-Init source code package (select <strong>--upgrade</strong> as needed during installation):</p>
<p><strong>pip install [--upgrade] /home/cloud-init-0.7.9.tar.gz</strong></p>
</li>
<li>
<p>Run the <strong>cloud-init -v</strong> command. Cloud-Init is installed successfully if the following information is displayed:</p>
<p><code>cloud-init 0.7.9</code></p>
</li>
<li>
<p>Enable Cloud-Init to automatically start upon system boot.</p>
<ul>
<li>
<p>If the OS uses SysVinit to manage automatic start of services, run the following commands:</p>
<p><strong>chkconfig --add cloud-init-local; chkconfig --add cloud-init; chkconfig --add cloud-config; chkconfig --add cloud-final</strong></p>
<p><strong>chkconfig cloud-init-local on; chkconfig cloud-init on; chkconfig cloud-config on; chkconfig cloud-final on</strong></p>
<p><strong>service cloud-init-local status; service cloud-init status; service cloud-config status; service cloud-final status</strong></p>
</li>
<li>
<p>If the OS uses Systemd to manage automatic start of services, run the following commands:</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ul>
</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/caution_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>If you install Cloud-Init using the official source code package and pip, pay attention to the following:</p>
<ol>
<li>
<p>Add user <strong>syslog</strong> to the <strong>adm</strong> group during the installation. If user <strong>syslog</strong> exists, add it to the <strong>adm</strong> group. For some OSs (such as CentOS and SUSE), user <strong>syslog</strong> may not exist. Run the following commands to create user <strong>syslog</strong> and add it to the <strong>adm</strong> group:</p>
<p><strong>useradd syslog</strong></p>
<p><strong>groupadd adm</strong></p>
<p><strong>usermod -g adm syslog</strong></p>
</li>
<li>
<p>Change the value of <strong>distro</strong> in <strong>system_info</strong> in the <strong>/etc/cloud/cloud.cfg</strong> file based on the OS release version, such as <strong>distro: ubuntu</strong>, <strong>distro: sles</strong>, <strong>distro: debian</strong>, and <strong>distro: fedora</strong>.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-cloud-init-using-the-official-github-source-code">Install Cloud-Init Using the Official GitHub Source Code<a class="hash-link" aria-label="Direct link to Install Cloud-Init Using the Official GitHub Source Code" title="Direct link to Install Cloud-Init Using the Official GitHub Source Code" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#install-cloud-init-using-the-official-github-source-code">​</a></h4>
<p>You can obtain the Cloud-Init source code from GitHub at <a href="https://github.com/canonical/cloud-init/" target="_blank" rel="noopener noreferrer">https://github.com/canonical/cloud-init/</a></p>
<ol>
<li>
<p>Run the following commands to download the source code package and copy it to the <strong>/tmp/CLOUD-INIT</strong> folder:</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p><strong>wget</strong> <strong><a href="https://github.com/canonical/cloud-init/archive/refs/tags/0.7.6.zip" target="_blank" rel="noopener noreferrer">https://github.com/canonical/cloud-init/archive/refs/tags/0.7.6.zip</a></strong></p>
<p><strong>mkdir /tmp/CLOUD-INIT</strong></p>
<p><strong>cp <strong>cloud-init-0.7.6.zip</strong> /tmp/CLOUD-INIT</strong></p>
<p><strong>cd /tmp/CLOUD-INIT</strong></p>
</li>
<li>
<p>Run the following command to decompress the package:</p>
<p><strong>unzip <strong>cloud-init-0.7.6.zip</strong></strong></p>
</li>
<li>
<p>Run the following command to enter the <strong>cloud-init-0.7.6</strong> folder:</p>
<p><strong>cd <strong>cloud-init</strong>-0.7.6</strong></p>
</li>
<li>
<p>(Optional) If the Cloud-Init version is 18.3 to 22.3, run the following commands:</p>
<p><strong>sed -i &#x27;/VALID_DMI_ASSET_TAGS =/a\VALID_DMI_ASSET_TAGS += [&quot;HUAWEICLOUD&quot;]&#x27; cloudinit/sources/DataSourceOpenStack.py</strong></p>
<p><strong>cat cloudinit/sources/DataSourceOpenStack.py | grep VALID_DMI_ASSET_TAGS</strong></p>
<p>If the following information is displayed, the execution is successful.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/en-us_image_0000001390619817.png" alt="" class="img_ev3q"></p>
</li>
<li>
<p>Install Cloud-Init. The commands vary depending on the OS type.</p>
<ul>
<li>
<p>For CentOS 6.x or SUSE 11.x, run the following commands:</p>
<p><strong>python setup.py build</strong></p>
<p><strong>python setup.py install --init-system sysvinit</strong></p>
</li>
<li>
<p>For CentOS 7.x or SUSE 12.x, run the following commands:</p>
<p><strong>python setup.py build</strong></p>
<p><strong>python setup.py install --init-system systemd</strong></p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>Add user <strong>syslog</strong> to the <strong>adm</strong> group during the installation. If user <strong>syslog</strong> exists, add it to the <strong>adm</strong> group. For some OSs (such as CentOS and SUSE), user <strong>syslog</strong> may not exist. Run the following commands to create user <strong>syslog</strong> and add it to the <strong>adm</strong> group:</p>
<p><strong>useradd syslog</strong></p>
<p><strong>groupadd adm</strong></p>
<p><strong>usermod -g adm syslog</strong></p>
</li>
<li>
<p>Enable Cloud-Init to automatically start upon system boot.</p>
<ul>
<li>
<p>If the OS uses SysVinit to manage automatic start of services, run the following commands:</p>
<p><strong>chkconfig --add cloud-init-local; chkconfig --add cloud-init; chkconfig --add cloud-config; chkconfig --add cloud-final</strong></p>
<p><strong>chkconfig cloud-init-local on; chkconfig cloud-init on; chkconfig cloud-config on; chkconfig cloud-final on</strong></p>
<p><strong>service cloud-init-local status; service cloud-init status; service cloud-config status; service cloud-final status</strong></p>
</li>
<li>
<p>If the OS uses Systemd to manage automatic start of services, run the following commands:</p>
<p><strong>systemctl enable cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
<p><strong>systemctl status cloud-init-local.service cloud-init.service cloud-config.service cloud-final.service</strong></p>
</li>
</ul>
</li>
<li>
<p>Run the following commands to check whether Cloud-Init has been installed:</p>
<p><strong>cloud-init -v</strong></p>
<p><strong>cloud-init init --local</strong></p>
<p>Cloud-Init is successfully installed if the following information is displayed:</p>
<p><code>cloud-init 0.7.6</code></p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-installing-the-one-click-password-reset-plug-in_image-management-service">(Optional) Installing the One-Click Password Reset Plug-in_Image Management Service<a class="hash-link" aria-label="Direct link to (Optional) Installing the One-Click Password Reset Plug-in_Image Management Service" title="Direct link to (Optional) Installing the One-Click Password Reset Plug-in_Image Management Service" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#optional-installing-the-one-click-password-reset-plug-in_image-management-service">​</a></h2>
<p>To ensure that you can reset the password of each ECS created from the image with a few clicks, you are advised to install the one-click password reset plug-in (CloudResetPwdAgent) on the VM which is used as the image source.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-4">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure-4">​</a></h4>
<ol>
<li>
<p>Download the CloudResetPwdAgent software package.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>The one-click password reset plug-in can be automatically updated only if an EIP is bound to the VM.</p>
<p>You can download the <strong>CloudResetPwdAgent.zip</strong> package from:</p>
<p>For 32-bit OSs: <a href="http://ap-southeast-1-cloud-reset-pwd.obs.ap-southeast-1.myhuaweicloud.com/linux/32/reset_pwd_agent/CloudResetPwdAgent.zip" target="_blank" rel="noopener noreferrer">http://ap-southeast-1-cloud-reset-pwd.obs.ap-southeast-1.myhuaweicloud.com/linux/32/reset_pwd_agent/CloudResetPwdAgent.zip</a></p>
<p>For 64-bit OSs: <a href="http://ap-southeast-1-cloud-reset-pwd.obs.ap-southeast-1.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip" target="_blank" rel="noopener noreferrer">http://ap-southeast-1-cloud-reset-pwd.obs.ap-southeast-1.myhuaweicloud.com/linux/64/reset_pwd_agent/CloudResetPwdAgent.zip</a></p>
</li>
<li>
<p>Run the following command to decompress <strong>CloudResetPwdAgent.zip</strong>:</p>
<p><strong>unzip -o -d</strong> <em>Decompressed directory</em> <strong>CloudResetPwdAgent.zip</strong></p>
<p>There is no special requirement for the directory that stores the decompressed <strong>CloudResetPwdAgent.zip</strong>. You can choose a directory as you need. If the directory is <strong>/home/PwdAgent/test</strong>, the command is as follows:</p>
<p><strong>unzip -o -d /home/PwdAgent/test CloudResetPwdAgent.zip</strong></p>
</li>
<li>
<p>Install the one-click password reset plug-in.</p>
<ol>
<li>
<p>Run the following command to open the <strong>CloudResetPwdAgent.Linux</strong> file:</p>
<p><strong>cd CloudResetPwdAgent/CloudResetPwdAgent.Linux</strong></p>
</li>
<li>
<p>Run the following command to add the execute permission for the <strong>setup.sh</strong> file:</p>
<p><strong>chmod +x setup.sh</strong></p>
</li>
<li>
<p>Run the following command to install the plug-in:</p>
<p><strong>sudo sh setup.sh</strong></p>
</li>
<li>
<p>Run the following command to check whether the installation is successful:</p>
<p><strong>service cloudResetPwdAgent status</strong></p>
<p>If the status of CloudResetPwdAgent is not <strong>unrecognized service</strong>, the installation is successful. Otherwise, the installation failed.</p>
<p><img decoding="async" loading="lazy" src="https://support.huaweicloud.com/intl/en-us/bestpractice-ims/public_sys-resources/note_3.0-en-us.png" alt="" class="img_ev3q"></p>
<p>If the installation failed, check whether the installation environment meets requirements and install the plug-in again.</p>
</li>
</ol>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-networkmanager">Configuring NetworkManager<a class="hash-link" aria-label="Direct link to Configuring NetworkManager" title="Direct link to Configuring NetworkManager" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#configuring-networkmanager">​</a></h2>
<p>Linux allows you to use NetworkManager to automatically configure the VM network. You are advised to use NetworkManager for new OS versions.</p>
<p>Alternatively, you can use the native network management service of the OS.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="red-hat-oracle-centos-6x-centos-7x-euleros-2x-fedora-22-or-later">Red Hat, Oracle, CentOS 6.x, CentOS 7.x, EulerOS 2.x, Fedora 22, or Later<a class="hash-link" aria-label="Direct link to Red Hat, Oracle, CentOS 6.x, CentOS 7.x, EulerOS 2.x, Fedora 22, or Later" title="Direct link to Red Hat, Oracle, CentOS 6.x, CentOS 7.x, EulerOS 2.x, Fedora 22, or Later" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#red-hat-oracle-centos-6x-centos-7x-euleros-2x-fedora-22-or-later">​</a></h4>
<p>Install NetworkManager and use it for automatic network configuration.</p>
<ol>
<li>
<p>Run the following command to install NetworkManager:</p>
<p><strong>yum install NetworkManager</strong></p>
</li>
<li>
<p>Delete <strong>ifcfg-eth1</strong> to <strong>ifcfg-eth11</strong> from the <strong>/etc/sysconfig/network-scripts/</strong> directory and retain only <strong>ifcfg-eth0</strong>.</p>
</li>
<li>
<p>Run the following command to disable the network:</p>
<p><strong>service network stop</strong></p>
</li>
<li>
<p>Run the following command to disable automatic startup of the network:</p>
<p><strong>chkconfig network off</strong></p>
</li>
<li>
<p>Run the following commands to restart messagebus and NetworkManager and enable NetworkManager to start automatically at startup:</p>
<p><strong>service messagebus restart</strong></p>
<p><strong>service NetworkManager restart</strong></p>
<p><strong>chkconfig NetworkManager on</strong></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="debian-90-or-later">Debian 9.0 or Later<a class="hash-link" aria-label="Direct link to Debian 9.0 or Later" title="Direct link to Debian 9.0 or Later" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#debian-90-or-later">​</a></h4>
<p>Install NetworkManager and use it for automatic network configuration.</p>
<ol>
<li>
<p>Run the following command to install NetworkManager:</p>
<p><strong>apt-get install network-manager</strong></p>
</li>
<li>
<p>Change the value of <strong>managed</strong> in the <strong>/etc/NetworkManager/NetworkManager.conf</strong> file to <strong>true</strong>.</p>
</li>
<li>
<p>Modify <strong>/etc/network/interfaces</strong> and retain only <strong>eth0</strong>.</p>
</li>
<li>
<p>Run the following commands to disable the network, restart messagebus and NetworkManager, and enable NetworkManager to start automatically at startup:</p>
<p><strong>service network-manager restart</strong></p>
<p><strong>chkconfig network-manager on</strong></p>
<p><strong>service networking stop</strong></p>
<p><strong>service messagebus restart</strong></p>
<p><strong>service network-manager restart</strong></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ubuntu-14-or-later">Ubuntu 14 or Later<a class="hash-link" aria-label="Direct link to Ubuntu 14 or Later" title="Direct link to Ubuntu 14 or Later" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#ubuntu-14-or-later">​</a></h4>
<p>Install NetworkManager and use it for automatic network configuration.</p>
<ol>
<li>
<p>Run the following command to install NetworkManager:</p>
<p><strong>apt-get install network-manager</strong></p>
</li>
<li>
<p>Change the value of <strong>managed</strong> in the <strong>/etc/NetworkManager/NetworkManager.conf</strong> file to <strong>true</strong>.</p>
</li>
<li>
<p>Modify <strong>/etc/network/interfaces</strong> and retain only <strong>eth0</strong>.</p>
</li>
<li>
<p>Run the following command to disable the network:</p>
<p><strong>service networking stop</strong></p>
</li>
<li>
<p>Run the following command to disable automatic startup of the network:</p>
<p><strong>chkconfig network off</strong></p>
</li>
<li>
<p>Run the following commands to restart D-Bus and NetworkManager:</p>
<p><strong>service dbus restart</strong></p>
<p><strong>service network-manager restar****t</strong></p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="suse-11-sp3-and-opensuse-13-or-later">SUSE 11 SP3 and openSUSE 13 or Later<a class="hash-link" aria-label="Direct link to SUSE 11 SP3 and openSUSE 13 or Later" title="Direct link to SUSE 11 SP3 and openSUSE 13 or Later" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#suse-11-sp3-and-opensuse-13-or-later">​</a></h4>
<p>Install NetworkManager and use it for automatic network configuration.</p>
<ol>
<li>
<p>Delete <strong>ifcfg-eth1</strong> to <strong>ifcfg-eth11</strong> from the <strong>/etc/sysconfig/network-scripts/</strong> directory and retain only <strong>ifcfg-eth0</strong>.</p>
</li>
<li>
<p>Run the following command to install NetworkManager:</p>
<p><strong>zypper install NetworkManager</strong></p>
</li>
<li>
<p>Start YaST, choose <strong>Network Devices</strong> in the navigation pane on the left, and select <strong>Network Settings</strong> in the right pane. In the <strong>Network Setup Method</strong> area of the <strong>Global Options</strong> page, change <strong>Traditional Method with ifup</strong> to <strong>User Controlled with NetworkManager</strong></p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-obtaining-the-image-file_image-management-service">Step 4: Obtaining the Image File_Image Management Service<a class="hash-link" aria-label="Direct link to Step 4: Obtaining the Image File_Image Management Service" title="Direct link to Step 4: Obtaining the Image File_Image Management Service" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-4-obtaining-the-image-file_image-management-service">​</a></h2>
<p>Updated on 2022-08-29 GMT+08:00</p>
<p>After the VM is configured, perform the following operations to generate and export a Linux image file:</p>
<ol>
<li>
<p>Open VirtualBox, select the VM, choose <strong>Settings</strong> &gt; <strong>Storage</strong>, and select <strong>Linux.vhd</strong>.</p>
<p><strong>Linux</strong> is the VM name.</p>
</li>
<li>
<p>On the right pane, view the image file location.</p>
</li>
<li>
<p>Go to the location to obtain the generated <strong>Linux.vhd</strong> image file.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-registering-the-image-file-as-a-private-image">Step 5: Registering the Image File as a Private Image<a class="hash-link" aria-label="Direct link to Step 5: Registering the Image File as a Private Image" title="Direct link to Step 5: Registering the Image File as a Private Image" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-5-registering-the-image-file-as-a-private-image">​</a></h2>
<p>Upload the image file to an OBS bucket and register it as a private image.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="constraints">Constraints<a class="hash-link" aria-label="Direct link to Constraints" title="Direct link to Constraints" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#constraints">​</a></h4>
<ul>
<li>Only an unencrypted image file or an image file encrypted using SSE-KMS can be uploaded to an OBS bucket.</li>
<li>When uploading an image file, you must select an OBS bucket with the storage class of Standard.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="procedure-5">Procedure<a class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#procedure-5">​</a></h4>
<ol>
<li>
<p>Use OBS Browser+ to upload the image file. For details, see <a href="https://support.huaweicloud.com/intl/en-us/browsertg-obs/obs_03_1006.html" target="_blank" rel="noopener noreferrer">OBS Browser+ Best Practices</a>.</p>
<p>For how to download OBS Browser+, see <a href="https://support.huaweicloud.com/intl/en-us/browsertg-obs/obs_03_1003.html" target="_blank" rel="noopener noreferrer">https://support.huaweicloud.com/intl/en-us/browsertg-obs/obs_03_1003.html</a>.</p>
</li>
<li>
<p>Register the external image file as a private image. For details, see <a href="https://support.huaweicloud.com/intl/en-us/usermanual-ims/ims_01_0211.html" target="_blank" rel="noopener noreferrer">Registering an Image File as a Private Image (Linux)</a>.</p>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-100/docs/tags/ims">ims</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-100/docs/tags/migration">migration</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/akyriako/docs-next/tree/main/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-1-installing-virtualbox">Step 1: Installing VirtualBox</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-2-creating-a-vm-and-installing-an-os">Step 2: Creating a VM and Installing an OS</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#creating-an-empty-vm">Creating an Empty VM</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-a-linux-os-on-the-vm">Installing a Linux OS on the VM</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-3-configuring-the-vm">Step 3: Configuring the VM</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-drivers-and-changing-the-disk-identifiers-to-the-uuid-format">Installing Drivers and Changing the Disk Identifiers to the UUID Format</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#installing-cloud-init">Installing Cloud-Init</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#optional-installing-the-one-click-password-reset-plug-in_image-management-service">(Optional) Installing the One-Click Password Reset Plug-in_Image Management Service</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#configuring-networkmanager">Configuring NetworkManager</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-4-obtaining-the-image-file_image-management-service">Step 4: Obtaining the Image File_Image Management Service</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-100/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file#step-5-registering-the-image-file-as-a-private-image">Step 5: Registering the Image File as a Private Image</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help Center</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio Roadmap</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDKs</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/drivers.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Drivers &amp; Tools</a></li><li class="footer__item"><a href="https://registry.terraform.io/providers/opentelekomcloud/opentelekomcloud/latest/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terraform Provider</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/ansible-collection-cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ansible Collections</a></li><li class="footer__item"><a href="https://designer.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Create</a></li></ul></div><div class="col footer__col"><div class="footer__title">API</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api_guidelines/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API Usage Guidelines</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/regions-and-endpoints/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endpoints</a></li><li class="footer__item"><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Dashboard</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.open-telekom-cloud.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forums</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=U-x2gEy3968&amp;list=PLS60dhorR-hgQ5n5L1boEQh0oVD-_k75p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Webinars<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"></div></div><scale-telekom-footer type="minimal"><scale-telekom-footer-content><span slot="notice">© T-Systems International GmbH 2024 (v0.1.PR100-15-bdac69f-ephemeral)</span><ul slot="navigation"><li><a href="https://open-telekom-cloud.com/en/contact"> Contact </a></li><li><a href="https://open-telekom-cloud.com/en/data-protection"> Data privacy </a></li><li><a href="https://open-telekom-cloud.com/en/disclaimer-of-liability"> Disclaimer of liabilities </a></li><li><a href="https://open-telekom-cloud.com/en/imprint"> Imprint </a></li></ul></scale-telekom-footer-content></scale-telekom-footer></footer></div>
</body>
</html>