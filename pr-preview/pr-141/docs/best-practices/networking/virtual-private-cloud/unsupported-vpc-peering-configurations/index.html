<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Unsupported VPC Peering Configurations | Architecture Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/img/open-telekom-cloud-social-card.png"><meta data-rh="true" name="twitter:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/img/open-telekom-cloud-social-card.png"><meta data-rh="true" property="og:url" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unsupported VPC Peering Configurations | Architecture Center"><meta data-rh="true" name="description" content="Scenarios"><meta data-rh="true" property="og:description" content="Scenarios"><link data-rh="true" rel="icon" href="/docs-next/pr-preview/pr-141/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations" hreflang="en"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docs-next/pr-preview/pr-141/blog/rss.xml" title="Architecture Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs-next/pr-preview/pr-141/blog/atom.xml" title="Architecture Center Atom Feed">



<link rel="preconnect" href="https://analytics.example.de">
<script async defer="defer" src="https://analytics.example.de/script.js" data-website-id="00000" data-host-url="https://analytics.example.de" data-auto-track data-do-not-track data-cache data-domains="opentelekomcloud.github.io"></script><link rel="stylesheet" href="/docs-next/pr-preview/pr-141/assets/css/styles.9a2de956.css">
<script src="/docs-next/pr-preview/pr-141/assets/js/runtime~main.ced8d67e.js" defer="defer"></script>
<script src="/docs-next/pr-preview/pr-141/assets/js/main.72cc1520.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-next/pr-preview/pr-141/"><div class="navbar__logo"><img src="/docs-next/pr-preview/pr-141/img/logo_headline_kombination_m_s_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-next/pr-preview/pr-141/img/logo_headline_kombination_m_w_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-next/pr-preview/pr-141/docs/best-practices/">Best Practices</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-141/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a href="https://auth.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--terminal-link" aria-label="Open Telekom Cloud Console"></a><a href="https://github.com/opentelekomcloud/docs-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-next/pr-preview/pr-141/docs/best-practices/">Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/application-operations-management/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Application Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/cloud-search-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Big Data &amp; Data Analysis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/auto-scaling/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Computing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/application-service-mesh/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Containers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-141/docs/best-practices/databases/distributed-cache-service/using-nginx-for-public-access-to-single-node-master-standby-or-proxy-cluster-dcs-redis-instances">Databases</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/application-performance-management/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Management &amp; Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/direct-connect/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true">Networking</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/direct-connect/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Direct Connect</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/domain-name-service/configuring-private-domain-names-for-ecss">Domain Name Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/elastic-ip/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Elastic IP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/elastic-load-balancing/using-advanced-forwarding-for-application-iteration">Elastic Load Balancing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/enterprise-router/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Enterprise Router</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet">NAT Gateway</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/private-link-access-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Private Link Access Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/secure-mail-gateway/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Secure Mail Gateway</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/vpc-and-subnet-planning-suggestions">Virtual Private Cloud</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/vpc-and-subnet-planning-suggestions">VPC and Subnet Planning Suggestions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations">Unsupported VPC Peering Configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://docs.otc.t-systems.com/virtual-private-cloud/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">📚 Go to Help Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/vpc-endpoint/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">VPC Endpoint</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-network/connecting-multiple-on-premises-branch-networks-through-a-vpn-hub">Virtual Private Network</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/anti-ddos/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Security Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/cloud-backup-recovery/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Storage</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-next/pr-preview/pr-141/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Networking</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Virtual Private Cloud</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Unsupported VPC Peering Configurations</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Unsupported VPC Peering Configurations</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scenarios">Scenarios<a class="hash-link" aria-label="Direct link to Scenarios" title="Direct link to Scenarios" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#scenarios">​</a></h2>
<p>The VPC peering connection configurations are not supported in table below:</p>
<table><thead><tr><th>Scenario</th><th>Example</th></tr></thead><tbody><tr><td>If VPCs with the same CIDR block also include subnets that overlap, VPC peering connections are not usable. If two VPCs have overlapping CIDR blocks but some of their subnets do not overlap, you cannot create a VPC peering connection to connect specific subnets that do not overlap.</td><td><a href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-overlapping-vpc-cidr-blocks">Invalid VPC Peering for Overlapping</a>: VPC CIDR Blocks VPCs with the same CIDR block also include subnets that overlap. Two VPCs have overlapping CIDR blocks but some of their subnets do not overlap.</td></tr><tr><td>VPC peering connections cannot enable ECSs in their VPCs to share an EIP to access the Internet. If VPC-A and VPC-B are peered and ECS-A01 in VPC-A has an EIP, ECS-B01 in VPC-B cannot access the Internet using the EIP bound to ECS-A01.</td><td><a href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-sharing-an-eip">Invalid VPC Peering for Sharing an EIP</a></td></tr></tbody></table>
<p><strong>Table 1</strong> Scenarios that VPC peering connections are invalid</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes-and-constraints">Notes and Constraints<a class="hash-link" aria-label="Direct link to Notes and Constraints" title="Direct link to Notes and Constraints" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#notes-and-constraints">​</a></h2>
<ul>
<li>
<p>If the ECSs in VPCs connected by a VPC peering connections are in
different security groups, you need to add rules to the security
groups to allow access to each other. For details, <a href="https://docs.otc.t-systems.com/virtual-private-cloud/umn/access_control/security_group/security_group_configuration_examples.html#en-us-topic-0081124350" target="_blank" rel="noopener noreferrer">Enabling ECSs in
Different Security Groups to Communicate with Each Other Through an
Internal
Network</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In all examples in this section, the ECSs in local and peer VPCs are
in the same security group. No additional security group rule is
required.</p></div></div>
</li>
<li>
<p>Each route table of a VPC can have a maximum of 200 routes. If you
want to establish VPC peering connections between multiple VPCs,
consider this restriction when planning networking.</p>
</li>
<li>
<p>In a VPC route table, the route priority is as follows:</p>
<ul>
<li>
<p>Local route: A route that is automatically added by the system
for communication within a VPC. It has a higher priority than a
custom route.</p>
</li>
<li>
<p>Custom route: A route added by a user. It uses the longest
prefix match rule to find a destination for packet forwarding.</p>
<p><img decoding="async" loading="lazy" alt="image1" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001261140071-dd517071923daf60d5589952f3d612e2.png" width="1810" height="551" class="img_ev3q"></p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="invalid-vpc-peering-for-overlapping-vpc-cidr-blocks">Invalid VPC Peering for Overlapping VPC CIDR Blocks<a class="hash-link" aria-label="Direct link to Invalid VPC Peering for Overlapping VPC CIDR Blocks" title="Direct link to Invalid VPC Peering for Overlapping VPC CIDR Blocks" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-overlapping-vpc-cidr-blocks">​</a></h2>
<p>If two VPCs have overlapping CIDR blocks, the VPC peering connection may
not take effect due to route conflicts. The following describes the
reasons and configuration suggestions.</p>
<ul>
<li>
<p>VPCs with the same CIDR block also include subnets that overlap.</p>
<p>VPC peering connections are not usable. As shown in
<strong>Table 2</strong>, VPC-A and
VPC-B, and their subnets have the same CIDR block. If you create a
VPC peering connection between VPC-A and VPC-B, their route tables
are shown in <strong>Table 2</strong>.</p>
<p>In the rtb-VPC-A route table, the custom route for routing traffic
from VPC-A to VPC-B and the local route have overlapping
destinations. The local route has a higher priority and traffic will
be forwarded within VPC-A and cannot reach VPC-B.</p>
<p><img decoding="async" loading="lazy" alt="Figure 1 Networking diagram
(IPv4)" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001254335981-b58a5986835047864680e63e6d979269.png" width="420" height="326" class="img_ev3q"></p>
<table><thead><tr><th>Route Table</th><th>Destination</th><th>Next Hop</th><th>Route Type</th><th>Description</th></tr></thead><tbody><tr><td>rtb-VPC-A</td><td>10.0.0.0/24</td><td>Local</td><td>System</td><td>Local routes are automatically added for communications within a VPC.</td></tr><tr><td></td><td>10.0.1.0/24</td><td>Local</td><td>System</td><td></td></tr><tr><td></td><td>10.0.0.0/16 (VPC-B)</td><td>Peering-AB</td><td>Custom</td><td>Add a route with the CIDR block of VPC-B as the destination and Peering-AB as the next hop.</td></tr><tr><td>rtb-VPC-B</td><td>10.0.0.0/24</td><td>Local</td><td>System</td><td>Local routes are automatically added for communications within a VPC.</td></tr><tr><td></td><td>10.0.1.0/24</td><td>Local</td><td>System</td><td></td></tr><tr><td></td><td>10.0.0.0/16 (VPC-A)</td><td>Peering-AB</td><td>Custom</td><td>Add a route with the CIDR block of VPC-A as the destination and Peering-AB as the next hop.</td></tr></tbody></table>
<p><strong>Table 2</strong> VPC route table details</p>
<p>If two VPCs want to use their IPv6 CIDR blocks for communication by
a VPC peering connection but the IPv4 CIDR blocks of the VPCs or
subnets overlap, the connection is not usable.</p>
<p><img decoding="async" loading="lazy" alt="Figure 2 Networking diagram
(IPv6)" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001209300412-805c5805701b9f48b0f781dd53ebb7b1.png" width="558" height="350" class="img_ev3q"></p>
<p>Two VPCs have overlapping CIDR blocks but some of their subnets do
not overlap. VPC peering connections will not take effect in the following
scenarios:</p>
<ul>
<li>
<p>Connecting overlapping CIDR blocks of VPCs</p>
<p>As shown in Figure 3,
if you create a VPC peering connection between VPC-A and VPC-B,
the VPC peering connection will not take effect because the two
VPCs have the same CIDR block.</p>
</li>
<li>
<p>Connecting overlapping subnets from different VPCs</p>
<p>If you create a VPC peering connection between Subnet-A01 and
Subnet-B02, the route tables are shown in table below. In the
rtb-VPC-B route table, the custom route for routing traffic from
Subnet-B02 to Subnet-A01 and the local route have overlapping
destinations. The local route has a higher priority and traffic
will be forwarded within Subnet-B02 and cannot reach Subnet-A01.</p>
<p><img decoding="async" loading="lazy" alt="Figure 3 Networking diagram
(IPv4)" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001209777270-902ee0f1ef613b1f047b55fad93e1253.png" width="420" height="326" class="img_ev3q"></p>
<table><thead><tr><th>Route Table</th><th>Destination</th><th>Next Hop</th><th>Route Type</th><th>Description</th></tr></thead><tbody><tr><td>rtb-VPC-A</td><td>10.0.0.0/24</td><td>Local</td><td>System</td><td>Local routes are automatically added for communications within a VPC.</td></tr><tr><td></td><td>10.0.1.0/24</td><td>Local</td><td>System</td><td></td></tr><tr><td></td><td>10.0.2.0/24 (Subnet-B02)</td><td>Peering-AB</td><td>Custom</td><td>Add a route with the CIDR block of Subnet-B02 as the destination and Peering-AB as the next hop.</td></tr><tr><td>rtb-VPC-B</td><td>10.0.0.0/24</td><td>Local</td><td>System</td><td>Local routes are automatically added for communications within a VPC.</td></tr><tr><td></td><td>10.0.2.0/24</td><td>Local</td><td>System</td><td></td></tr><tr><td></td><td>10.0.0.0/24 (Subnet-A01)</td><td>Peering-AB</td><td>Custom</td><td>Add a route with the CIDR block of Subnet-A01 as the destination and Peering-AB as the next hop.</td></tr></tbody></table>
<p><strong>Table 3</strong> VPC route table details</p>
<p>If the subnets connected by a VPC peering connection do not overlap,
the connection will take effect. As shown in Figure 4, you can create a
VPC peering connection between Subnet-A02 and Subnet-B02. In this
case, the routes do not conflict and the VPC peering connection
takes effect.</p>
<p><img decoding="async" loading="lazy" alt="Figure 4 Networking diagram
(IPv4)" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001209321492-5d47ed8a7bcf6905fc4a13551d48d93b.png" width="420" height="326" class="img_ev3q"></p>
<p>If two VPCs want to use their IPv6 CIDR blocks for communication by
a VPC peering connection but the IPv4 CIDR blocks of the VPCs or
subnets overlap, the connection is not usable.</p>
<p><img decoding="async" loading="lazy" alt="Figure 5 Networking diagram
(IPv6)" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001254241751-fa1d7f15829b37ad1806205a5a85aae5.png" width="558" height="350" class="img_ev3q"></p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="invalid-vpc-peering-for-sharing-an-eip">Invalid VPC Peering for Sharing an EIP<a class="hash-link" aria-label="Direct link to Invalid VPC Peering for Sharing an EIP" title="Direct link to Invalid VPC Peering for Sharing an EIP" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-sharing-an-eip">​</a></h2>
<p>As shown in Figure 6, although
VPC-A and VPC-B are peered and ECS-A01 in VPC-A has an EIP, ECS-B01 in
VPC-B cannot access the Internet using the EIP bound to ECS-A01.</p>
<p><img decoding="async" loading="lazy" alt="Figure 6 Networking
diagram" src="/docs-next/pr-preview/pr-141/assets/images/en-us_image_0000001254608729-a92ec9703aa5068b2892f54ac41578cc.png" width="372" height="474" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-141/docs/tags/vpc">vpc</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-141/docs/tags/vpc-peering">vpc-peering</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opentelekomcloud/docs-next/tree/main/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/vpc-and-subnet-planning-suggestions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">VPC and Subnet Planning Suggestions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-network/connecting-multiple-on-premises-branch-networks-through-a-vpn-hub"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connecting Multiple On-Premises Branch Networks Through a VPN Hub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#scenarios">Scenarios</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#notes-and-constraints">Notes and Constraints</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-overlapping-vpc-cidr-blocks">Invalid VPC Peering for Overlapping VPC CIDR Blocks</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs-next/pr-preview/pr-141/docs/best-practices/networking/virtual-private-cloud/unsupported-vpc-peering-configurations#invalid-vpc-peering-for-sharing-an-eip">Invalid VPC Peering for Sharing an EIP</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="align-items-center" style="margin:0 0 0 32px"><div class="col-10 text-right"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help Center</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio Roadmap</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/core-services/certifications" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core Services Certifications</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.open-telekom-cloud.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forums</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=U-x2gEy3968&amp;list=PLS60dhorR-hgQ5n5L1boEQh0oVD-_k75p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Webinars<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDKs</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/drivers.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Drivers &amp; Tools</a></li><li class="footer__item"><a href="https://registry.terraform.io/providers/opentelekomcloud/opentelekomcloud/latest/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terraform Provider</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/ansible-collection-cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ansible Collections</a></li><li class="footer__item"><a href="https://designer.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Create</a></li></ul></div><div class="col footer__col"><div class="footer__title">API</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api_guidelines/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API Usage Guidelines</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/regions-and-endpoints/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endpoints</a></li><li class="footer__item"><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Dashboard</a></li></ul></div></div></div></div></div><scale-telekom-footer type="minimal"><scale-telekom-footer-content><span slot="notice">© T-Systems International GmbH 2024 (v0.1.PR141-63-421e005-ephemeral)</span><ul slot="navigation"><li><a href="https://open-telekom-cloud.com/en/contact"> Contact </a></li><li><a href="https://open-telekom-cloud.com/en/data-protection"> Data privacy </a></li><li><a href="https://open-telekom-cloud.com/en/disclaimer-of-liability"> Disclaimer of liabilities </a></li><li><a href="https://open-telekom-cloud.com/en/imprint"> Imprint </a></li></ul></scale-telekom-footer-content></scale-telekom-footer></footer></div>
</body>
</html>