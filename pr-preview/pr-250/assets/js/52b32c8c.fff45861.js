"use strict";(self.webpackChunkdocs_next=self.webpackChunkdocs_next||[]).push([[62573],{38316:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"best-practices/databases/distributed-cache-service/using-ssh-tunneling-for-public-access-to-a-dcs-instance","title":"Using SSH Tunneling for Public Access to a DCS Instance","description":"VPCs are used to ensure network security of public cloud services, such as DCS. Your DCS instance can be accessed only by an ECS that is in the same VPC as the instance.","source":"@site/docs/best-practices/databases/distributed-cache-service/using-ssh-tunneling-for-public-access-to-a-dcs-instance.md","sourceDirName":"best-practices/databases/distributed-cache-service","slug":"/best-practices/databases/distributed-cache-service/using-ssh-tunneling-for-public-access-to-a-dcs-instance","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/databases/distributed-cache-service/using-ssh-tunneling-for-public-access-to-a-dcs-instance","draft":false,"unlisted":false,"editUrl":"https://github.com/opentelekomcloud/docs-next/tree/main/docs/best-practices/databases/distributed-cache-service/using-ssh-tunneling-for-public-access-to-a-dcs-instance.md","tags":[{"inline":true,"label":"dcs","permalink":"/docs-next/pr-preview/pr-250/docs/tags/dcs"},{"inline":true,"label":"ssh","permalink":"/docs-next/pr-preview/pr-250/docs/tags/ssh"},{"inline":true,"label":"redis","permalink":"/docs-next/pr-preview/pr-250/docs/tags/redis"},{"inline":true,"label":"tunneling","permalink":"/docs-next/pr-preview/pr-250/docs/tags/tunneling"},{"inline":true,"label":"jump-server","permalink":"/docs-next/pr-preview/pr-250/docs/tags/jump-server"}],"version":"current","frontMatter":{"id":"using-ssh-tunneling-for-public-access-to-a-dcs-instance","title":"Using SSH Tunneling for Public Access to a DCS Instance","tags":["dcs","ssh","redis","tunneling","jump-server"]},"sidebar":"bestPracticesSidebar","previous":{"title":"Using Nginx for Public Access of DCS Redis Instances","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/databases/distributed-cache-service/using-nginx-for-public-access-to-single-node-master-standby-or-proxy-cluster-dcs-redis-instances"},"next":{"title":"Using ELB for Public Access to DCS","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/databases/distributed-cache-service/using-elb-for-public-access-to-dcs"}}');var i=n(74848),c=n(28453);const r={id:"using-ssh-tunneling-for-public-access-to-a-dcs-instance",title:"Using SSH Tunneling for Public Access to a DCS Instance",tags:["dcs","ssh","redis","tunneling","jump-server"]},a="Using SSH Tunneling for Public Access to a DCS Instance",o={},l=[{value:"Solution Design",id:"solution-design",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Using MobaXterm to Create a Tunnel as a Jump Server",id:"using-mobaxterm-to-create-a-tunnel-as-a-jump-server",level:2}];function d(e){const s={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"using-ssh-tunneling-for-public-access-to-a-dcs-instance",children:"Using SSH Tunneling for Public Access to a DCS Instance"})}),"\n",(0,i.jsx)(s.p,{children:"VPCs are used to ensure network security of public cloud services, such as DCS. Your DCS instance can be accessed only by an ECS that is in the same VPC as the instance."}),"\n",(0,i.jsx)(s.h2,{id:"solution-design",children:"Solution Design"}),"\n",(0,i.jsx)(s.p,{children:"If an EIP is bound to a Open Telekom Cloud ECS, you can remotely access\nthe ECS from a local computer. You can create an SSH tunnel as a proxy to connect\nyour DCS instance and local computer to achieve proxy forwarding."}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Redis Cluster DCS Redis 4.0, 5.0, or 6.0 instances do not support\npublic access using this solution."}),"\n",(0,i.jsx)(s.li,{children:"Do not use public network access in the production environment.\nClient access exceptions caused by poor public network performance\nwill not be included in the SLA."}),"\n"]})}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(s.p,{children:"You have a DCS instance and a local computer that can connect to the\nInternet. Tools such as MobaXterm and the Redis client have been\ninstalled."}),"\n",(0,i.jsx)(s.p,{children:"You have an ECS that meets the following requirements:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The ECS is bound with an EIP for public access."}),"\n",(0,i.jsx)(s.li,{children:"The VPC and subnet configured for the ECS are the same as those\nconfigured for the DCS instance."}),"\n",(0,i.jsx)(s.li,{children:"Security group rules have been correctly configured for the ECS."}),"\n",(0,i.jsx)(s.li,{children:"The ECS runs the Linux OS."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"If these prerequisites are met, the ECS can communicate with the DCS\ninstance and you can remotely connect to the ECS using SSH from a local\ncomputer."}),"\n",(0,i.jsx)(s.h2,{id:"using-mobaxterm-to-create-a-tunnel-as-a-jump-server",children:"Using MobaXterm to Create a Tunnel as a Jump Server"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Create an SSH session for connecting to the ECS using port 22."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/distributed-cache-service/en-us_image_0000001156281773.png",alt:"Figure 1 Creating an SSH session"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["After the session is configured, enter the username and password to\nlog in to the ECS. After login, enter ",(0,i.jsx)(s.code,{children:"TMOUT=0"})," to prevent the\nsession from being automatically closed due to timeout."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/distributed-cache-service/en-us_image_0000001109406512.png",alt:'Figure 2 Entering "TMOUT=0"'})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Click ",(0,i.jsx)(s.em,{children:"Tunneling"})," to create a tunnel."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/distributed-cache-service/en-us_image_0000001110063992.png",alt:"Figure 3 Creating a tunnel"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["Set the local IP address to ",(0,i.jsx)(s.code,{children:"127.0.0.1"})," and start the tunnel."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/distributed-cache-service/en-us_image_0000001110225672.png",alt:"Figure 4 Starting the tunnel"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"Open the Redis client on the local computer. The following uses the\nRedis CLI as an example. Run the following command to access the DCS\ninstance:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"**Redis-cli -h 127.0.0.1 -p 3306 -a {password}**\n"})}),"\n",(0,i.jsx)(s.p,{children:"Parameter description:"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"-h"})," host name: ",(0,i.jsx)(s.code,{children:"localhost"})," or ",(0,i.jsx)(s.code,{children:"127.0.0.1"}),", which is the same as\nthe local IP address configured for the tunnel."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"-p"})," port number: ",(0,i.jsx)(s.code,{children:"3306"}),", which is the same as the forward port\nconfigured for the tunnel."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"-a"})," password: password of the DCS instance."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsx)(s.p,{children:"If the connection is successful, the following information is\ndisplayed."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/distributed-cache-service/en-us_image_0000001156308977.png",alt:"Figure 5 Successfully connecting to a DCS instance"})}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>a});var t=n(96540);const i={},c=t.createContext(i);function r(e){const s=t.useContext(c);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(c.Provider,{value:s},e.children)}}}]);