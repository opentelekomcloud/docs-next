"use strict";(self.webpackChunkdocs_next=self.webpackChunkdocs_next||[]).push([[3771],{19760:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"blueprints/by-use-case/analytics/umami/using-rds-postgresql-to-setup-umami-on-ecs","title":"Using RDS for PostgreSQL to Set Up Umami on ECS","description":"In this blueprint we are going to set up Umami on Open Telekom Cloud leveraging an Elastic Cloud Server (ECS), while using Relational Database Service (RDS) for PostgreSQL to manage the database.","source":"@site/docs/blueprints/by-use-case/analytics/umami/using-rds-postgresql-to-setup-umami-on-ecs.md","sourceDirName":"blueprints/by-use-case/analytics/umami","slug":"/blueprints/by-use-case/analytics/umami/using-rds-postgresql-to-setup-umami-on-ecs","permalink":"/docs-next/pr-preview/pr-250/docs/blueprints/by-use-case/analytics/umami/using-rds-postgresql-to-setup-umami-on-ecs","draft":false,"unlisted":false,"editUrl":"https://github.com/opentelekomcloud/docs-next/tree/main/docs/blueprints/by-use-case/analytics/umami/using-rds-postgresql-to-setup-umami-on-ecs.md","tags":[{"inline":true,"label":"umami","permalink":"/docs-next/pr-preview/pr-250/docs/tags/umami"},{"inline":true,"label":"analytics","permalink":"/docs-next/pr-preview/pr-250/docs/tags/analytics"},{"inline":true,"label":"ecs","permalink":"/docs-next/pr-preview/pr-250/docs/tags/ecs"},{"inline":true,"label":"rds","permalink":"/docs-next/pr-preview/pr-250/docs/tags/rds"},{"inline":true,"label":"postgresql","permalink":"/docs-next/pr-preview/pr-250/docs/tags/postgresql"}],"version":"current","frontMatter":{"id":"using-rds-postgresql-to-setup-umami-on-ecs","title":"Using RDS for PostgreSQL to Set Up Umami on ECS","tags":["umami","analytics","ecs","rds","postgresql"]},"sidebar":"blueprintsSidebar","previous":{"title":"Deploy Umami on CCE","permalink":"/docs-next/pr-preview/pr-250/docs/blueprints/by-use-case/analytics/umami/deploy-umami-cce"},"next":{"title":"DevOps","permalink":"/docs-next/pr-preview/pr-250/docs/blueprints/by-use-case/devops/"}}');var i=n(74848),a=n(28453);const r={id:"using-rds-postgresql-to-setup-umami-on-ecs",title:"Using RDS for PostgreSQL to Set Up Umami on ECS",tags:["umami","analytics","ecs","rds","postgresql"]},o="Using RDS for PostgreSQL to Set Up Umami on ECS",c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Creating an ECS Server",id:"creating-an-ecs-server",level:2},{value:"Creating a PostgreSQL Database",id:"creating-a-postgresql-database",level:2},{value:"Installing Cryptographic Functions Plugins",id:"installing-cryptographic-functions-plugins",level:3},{value:"Establishing Connectivity",id:"establishing-connectivity",level:2},{value:"Creating Security Group for RDS",id:"creating-security-group-for-rds",level:3},{value:"Creating Security Group for ECS",id:"creating-security-group-for-ecs",level:3},{value:"Creating Outbound Rule for PostgreSQL",id:"creating-outbound-rule-for-postgresql",level:4},{value:"Creating Inbound Rule for SSH",id:"creating-inbound-rule-for-ssh",level:4},{value:"Creating Inbound Rule for Umami",id:"creating-inbound-rule-for-umami",level:4},{value:"Deploying Umami",id:"deploying-umami",level:2},{value:"Creating the Database",id:"creating-the-database",level:3},{value:"Installing the PostgreSQL client tools",id:"installing-the-postgresql-client-tools",level:4},{value:"Creating the Umami Database",id:"creating-the-umami-database",level:4},{value:"Creating Roles and Assign Privileges",id:"creating-roles-and-assign-privileges",level:4},{value:"Installing Docker",id:"installing-docker",level:3},{value:"Setup Docker&#39;s apt repository",id:"setup-dockers-apt-repository",level:4},{value:"Instal the Docker packages",id:"instal-the-docker-packages",level:4},{value:"Post-Installation Steps",id:"post-installation-steps",level:4},{value:"Installing Umami as Docker Container",id:"installing-umami-as-docker-container",level:3},{value:"Create an APP_SECRET and export Credentials",id:"create-an-app_secret-and-export-credentials",level:4},{value:"Create a Docker Compose file",id:"create-a-docker-compose-file",level:4},{value:"Exposing Umami",id:"exposing-umami",level:2},{value:"Creating an Elastic Load Balancer",id:"creating-an-elastic-load-balancer",level:3},{value:"Creating a Listener",id:"creating-a-listener",level:3},{value:"Verification",id:"verification",level:2}];function d(e){const s={admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"using-rds-for-postgresql-to-set-up-umami-on-ecs",children:"Using RDS for PostgreSQL to Set Up Umami on ECS"})}),"\n",(0,i.jsx)(s.p,{children:"In this blueprint we are going to set up Umami on Open Telekom Cloud leveraging an Elastic Cloud Server (ECS), while using Relational Database Service (RDS) for PostgreSQL to manage the database."}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(s.p,{children:"We are going to need, create and configure the following components:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"a PostgreSQL Instance in RDS: RDS automates database management tasks like backups, patching, and scaling. It simplifies deploying a PostgreSQL instance without needing to manage the infrastructure directly."}),"\n",(0,i.jsx)(s.li,{children:"an ECS Server for Umami: The server will be used to run Umami's application layer. You will install and configure Umami on this ECS instance, which will interact with the PostgreSQL database."}),"\n",(0,i.jsx)(s.li,{children:"Networking: Set up secure network configurations between your ECS and RDS, ensuring communication between the Umami application and the PostgreSQL instance."}),"\n",(0,i.jsx)(s.li,{children:"Deployment: After configuring the ECS and connecting it to the RDS database, you can deploy Umami, connect it to the database, and start monitoring your web traffic."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"creating-an-ecs-server",children:"Creating an ECS Server"}),"\n",(0,i.jsxs)(s.p,{children:["Click on the console ",(0,i.jsx)(s.em,{children:"Elastic Cloud Server"}),"->",(0,i.jsx)(s.em,{children:"Create ECS"})," and pick the flavor and operating system that suits your needs. Make sure though, you place it in the same VPC/Subnet that you are planning to install your RDS DB instance. For this blueprint we are going to set up Ubuntu 22.04 on a ",(0,i.jsx)(s.em,{children:"s7n.large.4"})," flavor. Consequently some of the commands that are going to be executed later, will assume you are working on a Ubuntu (or Debian-based) distribution."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2012-40-41.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h2,{id:"creating-a-postgresql-database",children:"Creating a PostgreSQL Database"}),"\n",(0,i.jsxs)(s.p,{children:["We are going to create a single, non highly available PostgreSQL v16. In ",(0,i.jsx)(s.em,{children:"Relational Database Service"})," click ",(0,i.jsx)(s.em,{children:"Create DB Instance"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot_from_2024-09-09_12-51-39.png",alt:"Create a Database Wizard Part 1"})}),"\n",(0,i.jsxs)(s.p,{children:["Make sure you place the database server in the same VPC/Subnet that the ECS instance lives. Choose the flavor of your liking, provide the ",(0,i.jsx)(s.strong,{children:"root"})," password and press ",(0,i.jsx)(s.em,{children:"Create Now"}),". For the time being, we are going to make no changes in the Security Groups; we are going to fix this in the next step."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot_from_2024-09-09_12-52-14.png",alt:"Create a Database Wizard Part 2"})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Picking a single non-HA instance is just for demonstration purposes and ",(0,i.jsx)(s.strong,{children:"not"})," suitable for production. While implementing this blueprint adjust instances and replicas according to your needs and volume projections."]})}),"\n",(0,i.jsx)(s.h3,{id:"installing-cryptographic-functions-plugins",children:"Installing Cryptographic Functions Plugins"}),"\n",(0,i.jsxs)(s.p,{children:["In ",(0,i.jsx)(s.em,{children:"Relational Database Service"})," click your instance and then navigate to ",(0,i.jsx)(s.em,{children:"Plugins"}),". Search the list for the plugin ",(0,i.jsx)(s.strong,{children:"pgcrypto"}),", and install it by click the ",(0,i.jsx)(s.em,{children:"Install"})," link."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2013-14-30.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h2,{id:"establishing-connectivity",children:"Establishing Connectivity"}),"\n",(0,i.jsxs)(s.p,{children:["In ",(0,i.jsx)(s.em,{children:"Relational Database Service"})," click your instance and then navigate to ",(0,i.jsx)(s.em,{children:"Connectivity & Security"})," and under ",(0,i.jsx)(s.em,{children:"Connection Topology"})," choose ",(0,i.jsx)(s.em,{children:"Private Connection"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-09%2013-53-46.png",alt:"Establishing Connectivity"})}),"\n",(0,i.jsxs)(s.p,{children:["In this blueprint, we are interested in variant 2, where our database instance (with floating IP ",(0,i.jsx)(s.code,{children:"172.16.0.30"}),") needs to establish two-way communication with the ECS(B) instance, which in our case is the ECS instance that hold the Umami installation. For that matter we need to create two Security Groups, one that will allow inbound connections to port ",(0,i.jsx)(s.code,{children:"5432"})," and will be assigned to our RDS instance and a second one that will allow outbound connections from port ",(0,i.jsx)(s.code,{children:"5432"})," and will be assigned to the ECS instance that our workload will run."]}),"\n",(0,i.jsx)(s.h3,{id:"creating-security-group-for-rds",children:"Creating Security Group for RDS"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-09%2014-03-16.png",alt:"Adding Inbound Rules for RDS Instances"})}),"\n",(0,i.jsxs)(s.p,{children:["For additional security, make sure you set as ",(0,i.jsx)(s.strong,{children:"Source"})," the CIDR of the your Subnet (in this case ",(0,i.jsx)(s.code,{children:"172.16.0.0/24"}),"); in that way you prohibit anyone access your database outside your VPC/Subnet."]}),"\n",(0,i.jsxs)(s.p,{children:["Go back to the ",(0,i.jsx)(s.em,{children:"Connectivity & Security"})," panel of your database and replace under ",(0,i.jsx)(s.em,{children:"Security Group Rules"})," -> ",(0,i.jsx)(s.em,{children:"Security Group"}),", the default Security Group with the one we just created:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-09%2014-12-28.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h3,{id:"creating-security-group-for-ecs",children:"Creating Security Group for ECS"}),"\n",(0,i.jsx)(s.h4,{id:"creating-outbound-rule-for-postgresql",children:"Creating Outbound Rule for PostgreSQL"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-09%2014-10-01.png",alt:"Adding Outbound Rules for ECS"})}),"\n",(0,i.jsxs)(s.p,{children:["In the same notion, set as ",(0,i.jsx)(s.strong,{children:"Destination"})," the CIDR of the your Subnet (in this case ",(0,i.jsx)(s.code,{children:"172.16.0.0/24"}),")."]}),"\n",(0,i.jsxs)(s.p,{children:["On our ECS instance, click ",(0,i.jsx)(s.em,{children:"Security Groups"})," -> ",(0,i.jsx)(s.em,{children:"Change Security Group"}),", and add additionally the new Security Group to the list."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-09%2014-16-19.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h4,{id:"creating-inbound-rule-for-ssh",children:"Creating Inbound Rule for SSH"}),"\n",(0,i.jsxs)(s.p,{children:["You are going to need an additionnal inbound rule to allow actors accessing this ECS Server via SSH. Add in the existing Security Group (or create new one for finer granularity of permissions and reusability among more instances) port ",(0,i.jsx)(s.code,{children:"22"})," in the ",(0,i.jsx)(s.em,{children:"Inbound Rules"})," list, and set the value of ",(0,i.jsx)(s.strong,{children:"Remote End"})," as ",(0,i.jsx)(s.code,{children:"0.0.0.0/24"}),"."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2012-47-36.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"How you are going to establish this SSH connection, is entirely up to you. You can use a bastion or an Elastic IP bound to your ECS or a DNAT Rule in a NAT Gateway. Depends on your needs and your assessment."})}),"\n",(0,i.jsx)(s.h4,{id:"creating-inbound-rule-for-umami",children:"Creating Inbound Rule for Umami"}),"\n",(0,i.jsx)(s.h2,{id:"deploying-umami",children:"Deploying Umami"}),"\n",(0,i.jsx)(s.h3,{id:"creating-the-database",children:"Creating the Database"}),"\n",(0,i.jsx)(s.h4,{id:"installing-the-postgresql-client-tools",children:"Installing the PostgreSQL client tools"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"sudo apt-get update\nsudo apt-get -y install postgresql-client-14\n"})}),"\n",(0,i.jsx)(s.h4,{id:"creating-the-umami-database",children:"Creating the Umami Database"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"createdb umami --host=172.16.0.30 --username=root\n"})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"You will be asked to provide the root password you've set during the installation."})}),"\n",(0,i.jsx)(s.h4,{id:"creating-roles-and-assign-privileges",children:"Creating Roles and Assign Privileges"}),"\n",(0,i.jsx)(s.p,{children:"Connect to database:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"psql -h 172.16.0.30 --username=root umami\n"})}),"\n",(0,i.jsx)(s.p,{children:"Create Role & Privileges and make sure the Cryptographics Functions Plugin is on:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-SQL",children:"CREATE ROLE umami WITH LOGIN PASSWORD '{value}\u2019;\nGRANT ALL PRIVILEGES ON DATABASE umami TO umami;\n\\c umami \nCREATE EXTENSION IF NOT EXISTS pgcrypto;\nGRANT ALL PRIVILEGES ON SCHEMA public TO umami;\n"})}),"\n",(0,i.jsx)(s.admonition,{type:"important",children:(0,i.jsxs)(s.p,{children:["Replace ",(0,i.jsx)(s.code,{children:"{value}"})," with your own password!"]})}),"\n",(0,i.jsx)(s.h3,{id:"installing-docker",children:"Installing Docker"}),"\n",(0,i.jsx)(s.h4,{id:"setup-dockers-apt-repository",children:"Setup Docker's apt repository"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:'sudo apt-get update\nsudo apt-get install ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\nsudo chmod a+r /etc/apt/keyrings/docker.asc\n\necho \\\n  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \\\n  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n  \nsudo apt-get update\n'})}),"\n",(0,i.jsx)(s.h4,{id:"instal-the-docker-packages",children:"Instal the Docker packages"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"})}),"\n",(0,i.jsx)(s.h4,{id:"post-installation-steps",children:"Post-Installation Steps"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"sudo groupadd docker\nsudo usermod -aG docker $USER\nnewgrp docker\n"})}),"\n",(0,i.jsx)(s.h3,{id:"installing-umami-as-docker-container",children:"Installing Umami as Docker Container"}),"\n",(0,i.jsx)(s.h4,{id:"create-an-app_secret-and-export-credentials",children:"Create an APP_SECRET and export Credentials"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"export APP_SECRET=$(openssl rand 30 | openssl base64 -A)\nexport PSQL_HOST=172.16.0.30\nexport PSQL_ROOT_PASSWORD={value}\n"})}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsxs)(s.p,{children:["Replace ",(0,i.jsx)(s.code,{children:"PSQL_HOST"})," and ",(0,i.jsx)(s.code,{children:"PSQL_ROOT_PASSWORD"})," values with your own ones."]})}),"\n",(0,i.jsx)(s.h4,{id:"create-a-docker-compose-file",children:"Create a Docker Compose file"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",metastring:'title="docker-compose.yml"',children:'version: \'3\'\nservices:\n  umami:\n    image: ghcr.io/umami-software/umami:postgresql-latest\n    ports:\n      - "3000:3000"\n    environment:\n      DATABASE_URL: postgresql://root:${PSQL_ROOT_PASSWORD}@${PSQL_HOST}:5432/umami\n      DATABASE_TYPE: postgresql\n      APP_SECRET: ${APP_SECRET}\n    restart: always\n    healthcheck:\n      test: ["CMD-SHELL", "curl http://localhost:3000/api/heartbeat"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n'})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell",children:"docker compose up -d\n"})}),"\n",(0,i.jsx)(s.h2,{id:"exposing-umami",children:"Exposing Umami"}),"\n",(0,i.jsx)(s.h3,{id:"creating-an-elastic-load-balancer",children:"Creating an Elastic Load Balancer"}),"\n",(0,i.jsxs)(s.p,{children:["Navigate to ",(0,i.jsx)(s.em,{children:"Network Console"}),"->",(0,i.jsx)(s.em,{children:"Elastic Load Balancing"})," and click ",(0,i.jsx)(s.em,{children:"Create Elastic Load Balancer"}),". Choose to create ",(0,i.jsx)(s.em,{children:"Shared Load Balancer"})," and choose ",(0,i.jsx)(s.em,{children:"New EIP"})," so the new ELB is automatically bound to a new elastic IP:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-32-38.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h3,{id:"creating-a-listener",children:"Creating a Listener"}),"\n",(0,i.jsxs)(s.p,{children:["Choose your Elastic Load Balancer from the console and click ",(0,i.jsx)(s.em,{children:"Add Listener"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-38-26.png",alt:"alt text"})}),"\n",(0,i.jsxs)(s.p,{children:["Configure ",(0,i.jsx)(s.em,{children:"Frontend Protocol"})," as ",(0,i.jsx)(s.code,{children:"TCP"}),", and ",(0,i.jsx)(s.em,{children:"Frontend Port"})," as ",(0,i.jsx)(s.code,{children:"80"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-38-50.png",alt:"alt text"})}),"\n",(0,i.jsxs)(s.p,{children:["Configure a new Routing Policy, supported by a new Backend Server Group and set ",(0,i.jsx)(s.em,{children:"Backend Protocol"})," as ",(0,i.jsx)(s.code,{children:"TCP"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-39-09.png",alt:"alt text"})}),"\n",(0,i.jsxs)(s.p,{children:["Next, you need to add members to the newly created Backend Group. Click ",(0,i.jsx)(s.em,{children:"Add Backend Server"})," and choose the Umami ECS Instance from the list:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-39-38.png",alt:"alt text"})}),"\n",(0,i.jsxs)(s.p,{children:["and set the Backend Port to ",(0,i.jsx)(s.code,{children:"3000"}),":"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2014-39-50.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.h2,{id:"verification",children:"Verification"}),"\n",(0,i.jsxs)(s.p,{children:["Open in a browser the address: ",(0,i.jsx)(s.code,{children:"http://ELB_EIP"})," and you should now land at the logon page of Umami:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/blueprints/by-use-case/analytics/umami/Screenshot%20from%202024-09-10%2015-05-13.png",alt:"alt text"})}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:["Umami uses ",(0,i.jsx)(s.code,{children:"admin"}),"/",(0,i.jsx)(s.code,{children:"umami"})," as default credentials. ",(0,i.jsx)(s.strong,{children:"Change them immediatelly after you log in!"})]})})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var t=n(96540);const i={},a=t.createContext(i);function r(e){const s=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:s},e.children)}}}]);