"use strict";(self.webpackChunkdocs_next=self.webpackChunkdocs_next||[]).push([[95138],{59430:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file","title":"Creating a Linux Image Using VirtualBox and an ISO File","description":"VirtualBox is free, open-source virtualization software. It was first offered by InnoTek GmbH from Germany and re-branded as Oracle VM VirtualBox when InnoTek was acquired by Oracle Corporation.","source":"@site/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file.mdx","sourceDirName":"best-practices/computing/image-management-service","slug":"/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file","draft":false,"unlisted":false,"editUrl":"https://github.com/opentelekomcloud/docs-next/tree/main/docs/best-practices/computing/image-management-service/creating-a-linux-Image-using-virtualBox-and-an-iso-file.mdx","tags":[{"inline":true,"label":"ims","permalink":"/docs-next/pr-preview/pr-250/docs/tags/ims"},{"inline":true,"label":"virtualbox","permalink":"/docs-next/pr-preview/pr-250/docs/tags/virtualbox"}],"version":"current","frontMatter":{"id":"creating-a-linux-Image-using-virtualBox-and-an-iso-file","title":"Creating a Linux Image Using VirtualBox and an ISO File","tags":["ims","virtualbox"]},"sidebar":"bestPracticesSidebar","previous":{"title":"Migrating Service Data Across Accounts (Data Disks)","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/computing/image-management-service/migrating-service-data-across-accounts-data-disks"},"next":{"title":"Issue an ACME Certificate with DNS01 Solver in CCE","permalink":"/docs-next/pr-preview/pr-250/docs/best-practices/containers/cloud-container-engine/issue-an-acme-certificate-with-dns01-solver-in-cce"}}');var t=s(74848),r=s(28453),a=s(65537),l=s(79329);const o={id:"creating-a-linux-Image-using-virtualBox-and-an-iso-file",title:"Creating a Linux Image Using VirtualBox and an ISO File",tags:["ims","virtualbox"]},c="Creating a Linux Image Using VirtualBox and an ISO File",d={},h=[{value:"Installing VirtualBox",id:"installing-virtualbox",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Configuring Host BIOS CPU Settings",id:"configuring-host-bios-cpu-settings",level:3},{value:"Installing VirtualBox Binaries",id:"installing-virtualbox-binaries",level:3},{value:"Creating a VM and Installing an OS",id:"creating-a-vm-and-installing-an-os",level:2},{value:"Creating an Empty VM",id:"creating-an-empty-vm",level:3},{value:"Installing a Linux OS on the VM",id:"installing-a-linux-os-on-the-vm",level:3},{value:"Configuring the VM",id:"configuring-the-vm",level:2},{value:"Installing Drivers and Changing the Disk Identifiers to the UUID Format",id:"installing-drivers-and-changing-the-disk-identifiers-to-the-uuid-format",level:3},{value:"Changing the Disk Identifier in the GRUB Configuration File to the UUID Format",id:"changing-the-disk-identifier-in-the-grub-configuration-file-to-the-uuid-format",level:3},{value:"Changing the Disk Identifiers in the fstab File to the UUID Format",id:"changing-the-disk-identifiers-in-the-fstab-file-to-the-uuid-format",level:3},{value:"Installing Cloud-Init",id:"installing-cloud-init",level:3},{value:"Configuring Cloud-Init",id:"configuring-cloud-init",level:3},{value:"Configuring NetworkManager",id:"configuring-networkmanager",level:3},{value:"Obtaining the Image File",id:"obtaining-the-image-file",level:2},{value:"Registering the Image File as a Private Image",id:"registering-the-image-file-as-a-private-image",level:2}];function g(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"creating-a-linux-image-using-virtualbox-and-an-iso-file",children:"Creating a Linux Image Using VirtualBox and an ISO File"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.virtualbox.org/",children:"VirtualBox"})," is free, open-source virtualization software. It was first offered by InnoTek GmbH from Germany and re-branded as Oracle VM VirtualBox when InnoTek was acquired by Oracle Corporation."]}),"\n",(0,t.jsxs)(n.p,{children:["For more information about VirtualBox, visit the Oracle official website. Click ",(0,t.jsx)(n.a,{href:"https://www.virtualbox.org/wiki/Guest_OSes",children:"here"})," to see the guest OSs that can work with VirtualBox."]}),"\n",(0,t.jsx)(n.p,{children:"You can use a 32-bit or 64-bit Linux guest OS provided by VirtualBox to create an image file in VHD format.\nThe following figure shows how to use VirtualBox to create an image from an ISO file."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0200645302.png",alt:"Figure 1 Image creation process"})}),"\n",(0,t.jsx)(n.h2,{id:"installing-virtualbox",children:"Installing VirtualBox"}),"\n",(0,t.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"The host where VirtualBox is to be installed must meet the following requirements:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A 64-bit Windows OS (recommended)."}),"\n",(0,t.jsx)(n.li,{children:"At least 4 GB of memory and a dual-core processor. For example, the host specifications can be 8U16G."}),"\n",(0,t.jsx)(n.li,{children:"At least 20 GB of available disk space."}),"\n",(0,t.jsxs)(n.li,{children:["Hardware virtualization (Intel VT-x or AMD-V). For how to enable this, see ",(0,t.jsx)(n.a,{href:"#configuring-host-bios-cpu-settings",children:"Configuring Host BIOS CPU Settings"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["For details about how to install VirtualBox, see the VirtualBox user guide at",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.a,{href:"https://www.virtualbox.org/manual/UserManual.html",children:"https://www.virtualbox.org/manual/UserManual.html"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-host-bios-cpu-settings",children:"Configuring Host BIOS CPU Settings"}),"\n",(0,t.jsxs)(n.p,{children:["For an ",(0,t.jsx)(n.strong,{children:"Intel host"}),", perform the following operations to enable hardware virtualization:"]}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["The operations ",(0,t.jsx)(n.strong,{children:"may differ depending on the CPU type"}),". You can do it as prompted."]})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["During the host startup, press ",(0,t.jsx)(n.em,{children:"the BIOS key set by the manufacturer to access the BIOS"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Choose ",(0,t.jsx)(n.em,{children:"Configuration"})," -> ",(0,t.jsx)(n.em,{children:"Intel Virtual Technology"}),", and press ",(0,t.jsx)(n.em,{children:"Enter"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.em,{children:"Enabled"})," and press ",(0,t.jsx)(n.em,{children:"Enter"}),". The value of ",(0,t.jsx)(n.em,{children:"Intel Virtual Technology"})," will become ",(0,t.jsx)(n.em,{children:"Enabled"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"F10"})," to save the settings and exit."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 1"})," Enabling hardware virtualization"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0107215471.png",alt:""})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installing-virtualbox-binaries",children:"Installing VirtualBox Binaries"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Download the VirtualBox installation package. VirtualBox-5.2.0 is used as an example."}),"\n",(0,t.jsxs)(n.p,{children:["Download it from ",(0,t.jsx)(n.a,{href:"https://www.virtualbox.org/wiki/Downloads",children:"https://www.virtualbox.org/wiki/Downloads"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Decompress the package. Right-click ",(0,t.jsx)(n.strong,{children:"VirtualBox-5.2.0-118431-Win.exe"}),", choose ",(0,t.jsx)(n.em,{children:"Run as administrator"}),", and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 2"})," Installing VirtualBox"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0107215473.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select the VirtualBox installation path and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 3"})," Selecting an installation path"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0107215475.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Personalize the settings and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 4"})," Personalized settings"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0107215477.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.em,{children:"Finish"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"creating-a-vm-and-installing-an-os",children:"Creating a VM and Installing an OS"}),"\n",(0,t.jsx)(n.h3,{id:"creating-an-empty-vm",children:"Creating an Empty VM"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Open VirtualBox and click ",(0,t.jsx)(n.em,{children:"New"}),". In the displayed ",(0,t.jsx)(n.em,{children:"Create Virtual Machine"})," dialog box, enter a VM name, select an OS type and version, and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Take Ubuntu as an example. The type must be ",(0,t.jsx)(n.strong,{children:"Linux"}),". Ensure that the selected version is the same as that of the OS you want to install on the VM."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 1"})," Creating a VM",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268280658.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.em,{children:"Memory size"})," dialog box, set a value and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"You can reference the VM specifications or official OS requirements. The minimum value is 256 MB. You can set the memory size to 512 MB as an example."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 2"})," Setting the memory size"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268284967.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.em,{children:"Hard disk"})," dialog box, select ",(0,t.jsx)(n.em,{children:"Create a virtual hard disk now"})," and click ",(0,t.jsx)(n.em,{children:"Create"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 3"})," Creating a virtual hard disk",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268287010.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.em,{children:"Hard disk file type"})," dialog box, select ",(0,t.jsx)(n.em,{children:"VHD"})," and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 4"})," Setting the hard disk file type",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268287244.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.em,{children:"Storage on physical hard disk"})," dialog box, select ",(0,t.jsx)(n.em,{children:"Dynamically allocated"})," and click ",(0,t.jsx)(n.em,{children:"Next"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 5"})," Selecting the disk allocation mode",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268288436.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.em,{children:"File location and size"})," dialog box, set the disk size and storage location."]}),"\n",(0,t.jsx)(n.p,{children:"For example, you can set the disk size to 20 GB."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 6"})," Setting the disk location and size",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268290676.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.em,{children:"Create"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installing-a-linux-os-on-the-vm",children:"Installing a Linux OS on the VM"}),"\n",(0,t.jsx)(n.p,{children:"The procedure varies depending on the image file you use. This section uses Ubuntu 20.04 as an example to describe how to install a Linux OS on the VM."}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Make sure you have obtained the ISO image file of your target OS, for example, ",(0,t.jsx)(n.strong,{children:"Ubuntu-20.04-server.iso"}),"."]})}),"\n",(0,t.jsx)(n.p,{children:"Use the ISO file to install Linux for the empty VM."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In VirtualBox Manager, select the new VM and click ",(0,t.jsx)(n.em,{children:"Settings"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 1"})," Setting the VM",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268393798.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Choose ",(0,t.jsx)(n.em,{children:"Storage"})," -> ",(0,t.jsx)(n.em,{children:"Empty"}),", click ",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268393752.png",alt:""})," in the ",(0,t.jsx)(n.em,{children:"Attributes"})," area, and select the ISO image file ",(0,t.jsx)(n.strong,{children:"Ubuntu-20.04-server.iso"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 2"})," Selecting the ISO file to be mounted",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268393846.png",alt:""})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 3"})," Mounted ISO file",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001457709502.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.em,{children:"OK"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In VirtualBox Manager, select the new VM and click ",(0,t.jsx)(n.em,{children:"Start"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Figure 4"})," Starting the VM",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0268337032.png",alt:""})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install the OS."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.em,{children:"English"})," and press ",(0,t.jsx)(n.em,{children:"Enter"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514305585.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.em,{children:"Continue without updating"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001464149800.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for the keyboard. Select ",(0,t.jsx)(n.em,{children:"Done"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514311097.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for the installation base. Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514670405.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for the network. Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The installation program will automatically identify the IP address. If the network cannot be found, the installation program can still continue and you can configure the network again after the installation is complete."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001463836772.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for the proxy. Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514558429.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for the software source. Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001463840256.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Retain the default settings for disk partitioning (use an entire disk and set up this disk as an LVM group). Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514561077.png",alt:""})}),"\n",(0,t.jsxs)(n.p,{children:["The file system information will be displayed. Check it and select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001463841764.png",alt:""})}),"\n",(0,t.jsxs)(n.p,{children:["Confirm the destructive action and select ",(0,t.jsx)(n.em,{children:"Continue"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514681605.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Configure the server name, username, and password. Select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Your name"}),": It is not a username for logging in to the server. You can consider it as server description."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Your Server's name"}),": It is a unique server name on the same network. The name cannot contain uppercase letters."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Pick a username"}),": It is a username for logging in to the server. If you forget it or its password, you will not be allowed to log in to the server."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Choose a password"}),": It is the password for logging in to the server."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Confirm your password"}),": Enter your password again."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001464161876.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Install SSH so that you can remotely connect to the Linux server."}),"\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.em,{children:"Install OpenSSH server"}),". Then, press ",(0,t.jsx)(n.em,{children:"TAB"})," to select ",(0,t.jsx)(n.em,{children:"Done"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001514587325.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.em,{children:"Done"})," to start the OS installation."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001464002560.png",alt:""})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["After the installation is complete, select ",(0,t.jsx)(n.em,{children:"Reboot"})," to restart the system."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/computing/image-management-service/en-us_image_0000001464031938.png",alt:""})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuring-the-vm",children:"Configuring the VM"}),"\n",(0,t.jsx)(n.h3,{id:"installing-drivers-and-changing-the-disk-identifiers-to-the-uuid-format",children:"Installing Drivers and Changing the Disk Identifiers to the UUID Format"}),"\n",(0,t.jsx)(n.p,{children:"To ensure that the ECSs created from the image support both Xen and KVM virtualization, install Native Xen and KVM drivers and change the disk identifiers to the UUID format for the VM which is used as the image source."}),"\n",(0,t.jsxs)(n.p,{children:["This section describes how to perform these operations on a Linux VM that runs Ubuntu 20.04. For other OSs, see ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/image-management-service/umn/managing_private_images/optimizing_a_linux_private_image/optimization_process.html",children:"Optimization Process (Linux)"}),"."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Run the following command to open the ",(0,t.jsx)(n.strong,{children:"modules"})," file:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"vi /etc/initramfs-tools/modules"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"i"})," to enter the editing mode and add the native Xen (xen-pv) and KVM (virtio) drivers to the ",(0,t.jsx)(n.strong,{children:"/etc/initramfs-tools/modules"})," file (the format depends on the OS requirements)."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[root@CTU10000xxxxx ~]#vi /etc/initramfs-tools/modules \n...\n# Examples: \n# \n# raid1 \n# sd_mOd \nxen-blkfront \nxen-netfront \nvirtio_blk \nvirtio_scsi \nvirtio_net \nvirtio_pci \nvirtio_ring \nvirtio  \n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"ESC"}),", enter ",(0,t.jsx)(n.strong,{children:":wq"}),", and press ",(0,t.jsx)(n.em,{children:"Enter"})," to save the settings and exit the vi editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to generate initrd again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"update-initramfs -u\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following commands to check whether native Xen and KVM drivers have been installed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"lsinitramfs /boot/initrd.img-\\`uname -r\\` |grep xen\n\nlsinitramfs /boot/initrd.img-\\`uname -r\\` |grep virtio\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[root@ CTU10000xxxxx home]# lsinitramfs /boot/initrd.img-`uname -r` |grep xen \nlib/modules/3.5.0-23-generic/kernel/drivers/net/ethernet/qlogic/netxen \nlib/modules/3.5.0-23-generic/kernel/drivers/net/ethernet/qlogic/netxen/netxen_nic.ko \nlib/modules/3.5.0-23-generic/kernel/drivers/net/xen-netback \nlib/modules/3.5.0-23-generic/kernel/drivers/net/xen-netback/xen-netback.ko \nlib/modules/3.5.0-23-generic/kernel/drivers/block/xen-blkback \nlib/modules/3.5.0-23-generic/kernel/drivers/block/xen-blkback/xen-blkback.ko \n\n[root@ CTU10000xxxxx home]# lsinitramfs /boot/initrd.img-`uname -r` |grep virtio \nlib/modules/3.5.0-23-generic/kernel/drivers/scsi/virtio_scsi.ko\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.p,{children:"If you add built-in drivers to the initrd or initramfs file, the VM will not be affected. This makes it easy to modify the drivers. However, the drivers cannot be shown by running the lsinitrd command. You can run the following commands to check whether the drivers are built-in ones in the kernel:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[root@ CTU10000xxxxx home]# cat /boot/config-`uname -r` | grep CONFIG_VIRTIO | grep y\nCONFIG_VIRTIO_BLK=y\nCONFIG_VIRTIO_NET=y\nCONFIG_VIRTIO=y\nCONFIG_VIRTIO_RING=y\nCONFIG_VIRTIO_PCI=y\nCONFIG_VIRTIO_MMIO_CMDLINE_DEVICES=y\n[root@ CTU10000xxxxx home]# cat /boot/config-`uname -r` | grep CONFIG_XEN | grep y\nCONFIG_XEN_BLKDEV_FRONTEND=y\nCONFIG_XEN_NETDEV_FRONTEND=y\n"})})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"changing-the-disk-identifier-in-the-grub-configuration-file-to-the-uuid-format",children:"Changing the Disk Identifier in the GRUB Configuration File to the UUID Format"}),"\n",(0,t.jsxs)(n.p,{children:["Take Ubuntu 20.04 as an example. Run ",(0,t.jsx)(n.strong,{children:"blkid"})," to obtain the UUID of the root partition. Modify the ",(0,t.jsx)(n.strong,{children:"/boot/grub/grub.cfg"})," file and use the UUID of the root partition to configure the boot item. If the root partition already uses UUID, no modification is required. The procedure is as follows:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Log in to the newly created VM as user ",(0,t.jsx)(n.strong,{children:"root"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to query all types of mounted file systems and their device UUIDs:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"blkid\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following information is displayed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'/dev/xvda1: UUID="ec51d860-34bf-4374-ad46-a0c3e337fd34" TYPE="ext3"\n/dev/xvda5: UUID="7a44a9ce-9281-4740-b95f-c8de33ae5c11" TYPE="swap"\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Run the following command to query the ",(0,t.jsx)(n.strong,{children:"grub.cfg"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cat /boot/grub/grub.****cfg\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following information is displayed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"......menuentry 'Ubuntu Linux, with Linux 3.13.0-24-generic' --class ubuntu --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.13.0-24-generic-advanced-ec51d860-34bf-4374-ad46-a0c3e337fd34' {\nrecordfail\nload_video\ngfxmode $linux_gfx_mode\ninsmod gzio\ninsmod part_msdos\ninsmod ext2\nif [ x$feature_platform_search_hint = xy ]; then\nsearch --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34\nelse\nsearch --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34\nfi\necho 'Loading Linux 3.13.0-24-generic ...'\nlinux /boot/vmlinuz-3.13.0-24-generic root=/dev/xvda1 ro \necho 'Loading initial ramdisk ...'\ninitrd /boot/initrd.img-3.13.0-24-generic \n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check whether the ",(0,t.jsx)(n.strong,{children:"/boot/grub/grub.cfg"})," configuration file contains ",(0,t.jsx)(n.strong,{children:"root=/dev/xvda1"})," or ",(0,t.jsx)(n.strong,{children:"root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.strong,{children:"root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34"})," is contained, the root partition is in the UUID format and no further action is required."]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.strong,{children:"root=/dev/xvda1"})," is contained, the root partition is represented by a device name. Go to step 5."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Obtain the UUID of the root partition based on ",(0,t.jsx)(n.strong,{children:"root=/dev/xvda1"})," and information obtained by running the ",(0,t.jsx)(n.strong,{children:"blkid"})," command."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Run the following command to open the ",(0,t.jsx)(n.strong,{children:"grub.cfg"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"vi /boot/grub/grub.cfg\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"i"})," to enter the editing mode. Change the identifier of the root partition to the UUID format. For example, change ",(0,t.jsx)(n.strong,{children:"root=/dev/xvda1"})," to ",(0,t.jsx)(n.strong,{children:"root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"ESC"}),", enter ",(0,t.jsx)(n.strong,{children:":wq"}),", and press ",(0,t.jsx)(n.em,{children:"Enter"})," to save the settings and exit the vi editor."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to verify the change:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cat /boot/grub/grub.cfg\n"})}),"\n",(0,t.jsx)(n.p,{children:"The change is successful if information similar to the following is displayed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"......menuentry 'Ubuntu Linux, with Linux 3.13.0-24-generic' --class ubuntu --class gnu-linux --class gnu --class os --unrestricted $menuentry_id_option 'gnulinux-3.13.0-24-generic-advanced-ec51d860-34bf-4374-ad46-a0c3e337fd34' {\nrecordfail\nload_video\ngfxmode $linux_gfx_mode\ninsmod gzio\ninsmod part_msdos\ninsmod ext2\nif [ x$feature_platform_search_hint = xy ]; then\nsearch --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34\nelse\nsearch --no-floppy --fs-uuid --set=root ec51d860-34bf-4374-ad46-a0c3e337fd34\nfi\necho 'Loading Linux 3.13.0-24-generic ...'\nlinux /boot/vmlinuz-3.13.0-24-generic root=UUID=ec51d860-34bf-4374-ad46-a0c3e337fd34 ro\necho 'Loading initial ramdisk ...'\ninitrd /boot/initrd.img-3.13.0-24-generic\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"changing-the-disk-identifiers-in-the-fstab-file-to-the-uuid-format",children:"Changing the Disk Identifiers in the fstab File to the UUID Format"}),"\n",(0,t.jsxs)(n.p,{children:["Take Ubuntu 20.04 as an example. Run ",(0,t.jsx)(n.strong,{children:"blkid"})," to obtain the UUIDs of all partitions. Modify the ",(0,t.jsx)(n.strong,{children:"/etc/fstab"})," file and use the partition UUIDs to configure automatic partition mounting."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to query all types of mounted file systems and their device UUIDs:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"blkid\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following information is displayed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:'/dev/xvda2: UUID="4eb40294-4c6f-4384-bbb6-b8795bbb1130" TYPE="xfs"  \n/dev/xvda1: UUID="2de37c6b-2648-43b4-a4f5-40162154e135" TYPE="swap"\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Run the following command to query the ",(0,t.jsx)(n.strong,{children:"fstab"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"cat /etc/fstab\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following information is displayed:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[root@CTU1000028010 ~]# cat /etc/fstab  \n/dev/xvda2  /       xfs     defaults    0 0 \n/dev/xvda1  swap    swap    defaults    0 0     \n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Check whether the disk identifiers in the ",(0,t.jsx)(n.strong,{children:"fstab"})," file are device names or UUIDs."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If they are UUIDs, no further action is required."}),"\n",(0,t.jsx)(n.li,{children:"If they are device names, go to step 4."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Run the following command to open the ",(0,t.jsx)(n.strong,{children:"fstab"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"vi /etc/fstab\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"i"})," to enter the editing mode and change the disk identifiers to the UUID format."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Press ",(0,t.jsx)(n.em,{children:"ESC"}),", enter ",(0,t.jsx)(n.strong,{children:":wq"}),", and press ",(0,t.jsx)(n.em,{children:"Enter"})," to save the settings and exit the vi editor."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installing-cloud-init",children:"Installing Cloud-Init"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["For more information on cloud-init check this ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/image-management-service/umn/linux_operations/installing_cloud-init.html",children:"link"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-cloud-init",children:"Configuring Cloud-Init"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["For more information on cloud-init check this ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/image-management-service/umn/linux_operations/configuring_cloud-init.html",children:"link"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-networkmanager",children:"Configuring NetworkManager"}),"\n",(0,t.jsxs)(n.p,{children:["Linux allows you to use ",(0,t.jsx)(n.strong,{children:"NetworkManager"})," to automatically configure the VM network. You are advised to use NetworkManager for new OS versions."]}),"\n",(0,t.jsx)(n.p,{children:"Alternatively, you can use the native network management service of the OS."}),"\n","\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"redhat",label:"RedHat, Oracle, CentOs, EulerOS, Fedora",default:!0,children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to install NetworkManager:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"yum install NetworkManager\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Delete ",(0,t.jsx)(n.strong,{children:"ifcfg-eth1"})," to ",(0,t.jsx)(n.strong,{children:"ifcfg-eth11"})," from the ",(0,t.jsx)(n.strong,{children:"/etc/sysconfig/network-scripts/"})," directory and retain only ",(0,t.jsx)(n.strong,{children:"ifcfg-eth0"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to disable the network:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service network stop\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to disable automatic startup of the network:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"chkconfig network off\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following commands to restart messagebus and NetworkManager and enable NetworkManager to start automatically at startup:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service messagebus restart\nservice NetworkManager restart\nchkconfig NetworkManager on\n"})}),"\n"]}),"\n"]})}),(0,t.jsxs)(l.A,{value:"debian",label:"Debian 9+",children:[(0,t.jsx)(n.p,{children:"Install NetworkManager and use it for automatic network configuration."}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to install NetworkManager:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"apt-get install network-manager\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Change the value of ",(0,t.jsx)(n.strong,{children:"managed"})," in the ",(0,t.jsx)(n.strong,{children:"/etc/NetworkManager/NetworkManager.conf"})," file to ",(0,t.jsx)(n.strong,{children:"true"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Modify ",(0,t.jsx)(n.strong,{children:"/etc/network/interfaces"})," and retain only ",(0,t.jsx)(n.strong,{children:"eth0"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following commands to disable the network, restart messagebus and NetworkManager, and enable NetworkManager to start automatically at startup:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service network-manager restart\nchkconfig network-manager on\nservice networking stop\nservice messagebus restart\nservice network-manager restart\n"})}),"\n"]}),"\n"]})]}),(0,t.jsxs)(l.A,{value:"ubuntu",label:"Ubuntu 14+",children:[(0,t.jsx)(n.p,{children:"Install NetworkManager and use it for automatic network configuration."}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to install NetworkManager:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"apt-get install network-manager\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Change the value of ",(0,t.jsx)(n.strong,{children:"managed"})," in the ",(0,t.jsx)(n.strong,{children:"/etc/NetworkManager/NetworkManager.conf"})," file to ",(0,t.jsx)(n.strong,{children:"true"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Modify ",(0,t.jsx)(n.strong,{children:"/etc/network/interfaces"})," and retain only ",(0,t.jsx)(n.strong,{children:"eth0"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to disable the network:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service networking stop\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to disable automatic startup of the network:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"chkconfig network off\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following commands to restart D-Bus and NetworkManager:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"service dbus restart\nservice network-manager restart\n"})}),"\n"]}),"\n"]})]}),(0,t.jsxs)(l.A,{value:"suse",label:"SUSE 11+, openSUSE 13+",children:[(0,t.jsx)(n.p,{children:"Install NetworkManager and use it for automatic network configuration."}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Delete ",(0,t.jsx)(n.strong,{children:"ifcfg-eth1"})," to ",(0,t.jsx)(n.strong,{children:"ifcfg-eth11"})," from the ",(0,t.jsx)(n.strong,{children:"/etc/sysconfig/network-scripts/"})," directory and retain only ",(0,t.jsx)(n.strong,{children:"ifcfg-eth0"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the following command to install NetworkManager:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"zypper install NetworkManager\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start YaST, choose ",(0,t.jsx)(n.strong,{children:"Network Devices"})," in the navigation pane on the left, and select ",(0,t.jsx)(n.strong,{children:"Network Settings"})," in the right pane. In the ",(0,t.jsx)(n.strong,{children:"Network Setup Method"})," area of the ",(0,t.jsx)(n.strong,{children:"Global Options"})," page, change ",(0,t.jsx)(n.strong,{children:"Traditional Method with ifup"})," to ",(0,t.jsx)(n.strong,{children:"User Controlled with NetworkManager"}),"."]}),"\n"]}),"\n"]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"obtaining-the-image-file",children:"Obtaining the Image File"}),"\n",(0,t.jsx)(n.p,{children:"After the VM is configured, perform the following operations to generate and export a Linux image file:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Open VirtualBox, select the VM, choose ",(0,t.jsx)(n.em,{children:"Settings"})," -> ",(0,t.jsx)(n.em,{children:"Storage"}),", and select ",(0,t.jsx)(n.strong,{children:"Linux.vhd"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"On the right pane, view the image file location."}),"\n",(0,t.jsxs)(n.li,{children:["Go to the location to obtain the generated ",(0,t.jsx)(n.strong,{children:"Linux.vhd"})," image file."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"registering-the-image-file-as-a-private-image",children:"Registering the Image File as a Private Image"}),"\n",(0,t.jsx)(n.p,{children:"Upload the image file to an OBS bucket and register it as a private image."}),"\n",(0,t.jsx)(n.admonition,{type:"important",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only an unencrypted image file or an image file encrypted using SSE-KMS can be uploaded to an OBS bucket."}),"\n",(0,t.jsx)(n.li,{children:"When uploading an image file, you must select an OBS bucket with the storage class of Standard."}),"\n"]})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Use OBS Browser+ to upload the image file. For details, see ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/object-storage-service/tool-guide/best_practices/index.html",children:"OBS Browser+ Best Practices"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For how to download OBS Browser+, see ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/object-storage-service/tool-guide/downloading_obs_browser.html",children:"https://docs.otc.t-systems.com/object-storage-service/tool-guide/downloading_obs_browser.html"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Register the external image file as a private image. For details, see ",(0,t.jsx)(n.a,{href:"https://docs.otc.t-systems.com/image-management-service/umn/creating_a_private_image/creating_a_linux_system_disk_image_from_an_external_image_file/registering_an_external_image_file_as_a_private_image.html",children:"Registering an Image File as a Private Image (Linux)"}),"."]}),"\n"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},79329:(e,n,s)=>{s.d(n,{A:()=>a});s(96540);var i=s(34164);const t={tabItem:"tabItem_Ymn6"};var r=s(74848);function a(e){let{children:n,hidden:s,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,a),hidden:s,children:n})}},65537:(e,n,s)=>{s.d(n,{A:()=>k});var i=s(96540),t=s(34164),r=s(65627),a=s(56347),l=s(50372),o=s(30604),c=s(11861),d=s(87359);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function g(e){const{values:n,children:s}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:i,default:t}}=e;return{value:n,label:s,attributes:i,default:t}}))}(s);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function m(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function u(e){let{queryString:n=!1,groupId:s}=e;const t=(0,a.W6)(),r=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,o.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})}),[r,t])]}function x(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,r=g(e),[a,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=s.find((e=>e.default))??s[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:r}))),[c,h]=u({queryString:s,groupId:t}),[x,p]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,r]=(0,d.Dv)(s);return[t,(0,i.useCallback)((e=>{s&&r.set(e)}),[s,r])]}({groupId:t}),j=(()=>{const e=c??x;return m({value:e,tabValues:r})?e:null})();(0,l.A)((()=>{j&&o(j)}),[j]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),p(e)}),[h,p,r]),tabValues:r}}var p=s(9136);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=s(74848);function b(e){let{className:n,block:s,selectedValue:i,selectValue:a,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const n=e.currentTarget,s=o.indexOf(n),t=l[s].value;t!==i&&(c(n),a(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=o.indexOf(e.currentTarget)+1;n=o[s]??o[0];break}case"ArrowLeft":{const s=o.indexOf(e.currentTarget)-1;n=o[s]??o[o.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},n),children:l.map((e=>{let{value:n,label:s,attributes:r}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{o.push(e)},onKeyDown:h,onClick:d,...r,className:(0,t.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":i===n}),children:s??n},n)}))})}function v(e){let{lazy:n,children:s,selectedValue:r}=e;const a=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function w(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",j.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function k(e){const n=(0,p.A)();return(0,f.jsx)(w,{...e,children:h(e.children)},String(n))}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(96540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);