<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">From Other Cloud MongoDB to DDS | Architecture Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/img/open-telekom-cloud-social-card.png"><meta data-rh="true" name="twitter:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/img/open-telekom-cloud-social-card.png"><meta data-rh="true" property="og:url" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="From Other Cloud MongoDB to DDS | Architecture Center"><meta data-rh="true" name="description" content="DRS helps you migrate MongoDB databases from other cloud platforms to DDS on the current cloud. With DRS, you can migrate databases online with zero downtime and your services and databases can remain operational during migration."><meta data-rh="true" property="og:description" content="DRS helps you migrate MongoDB databases from other cloud platforms to DDS on the current cloud. With DRS, you can migrate databases online with zero downtime and your services and databases can remain operational during migration."><link data-rh="true" rel="icon" href="/docs-next/pr-preview/pr-250/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds" hreflang="en"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds" hreflang="x-default"><link rel="preconnect" href="https://analytics.example.de">
<script async defer="defer" src="https://analytics.example.de/script.js" data-website-id="00000" data-host-url="https://analytics.example.de" data-auto-track data-do-not-track data-cache data-domains="opentelekomcloud.github.io"></script><link rel="stylesheet" href="/docs-next/pr-preview/pr-250/assets/css/styles.004a1812.css">
<script src="/docs-next/pr-preview/pr-250/assets/js/runtime~main.2a0f4503.js" defer="defer"></script>
<script src="/docs-next/pr-preview/pr-250/assets/js/main.55600edc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-next/pr-preview/pr-250/"><div class="navbar__logo"><img src="/docs-next/pr-preview/pr-250/img/logo_headline_kombination_m_s_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-next/pr-preview/pr-250/img/logo_headline_kombination_m_w_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-next/pr-preview/pr-250/docs/best-practices/">Best Practices</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-250/docs/blueprints/">Blueprints</a></div><div class="navbar__items navbar__items--right"><a href="https://auth.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--terminal-link" aria-label="Open Telekom Cloud Console"></a><a href="https://github.com/opentelekomcloud/docs-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-next/pr-preview/pr-250/docs/best-practices/">Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/application-operations-management/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Application Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/cloud-search-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Big Data &amp; Data Analysis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/auto-scaling/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Computing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/application-service-mesh/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Containers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/distributed-cache-service/using-nginx-for-public-access-to-single-node-master-standby-or-proxy-cluster-dcs-redis-instances">Databases</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/distributed-cache-service/using-nginx-for-public-access-to-single-node-master-standby-or-proxy-cluster-dcs-redis-instances">Distributed Cache Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/distributed-database-middleware/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Distributed Database Middleware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-ecs-hosted-mongodb-to-dds">Document Database Service</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-ecs-hosted-mongodb-to-dds">From ECS-hosted MongoDB to DDS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-on-premises-mongodb-to-dds">From On-Premises MongoDB to DDS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds">From Other Cloud MongoDB to DDS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/how-do-replica-sets-achieve-high-availability-and-readwrite-splitting">How Do Replica Sets Achieve High Availability and Read/Write Splitting?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://docs.otc.t-systems.com/document-database-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">📚 Go to Help Center<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/data-replication-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Data Replication Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/gaussdb-mysql/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">GaussDB (for MySQL)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/geminidb/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">GeminiDB</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/relational-database-service/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0">Relational Database Service</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-250/docs/best-practices/management-and-deployment/cloud-create/">Management &amp; Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/direct-connect/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Networking</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/anti-ddos/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Security Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://docs.otc.t-systems.com/cloud-backup-recovery/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false">Storage</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-next/pr-preview/pr-250/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Databases</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Document Database Service</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">From Other Cloud MongoDB to DDS</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>From Other Cloud MongoDB to DDS</h1></header>
<p>DRS helps you migrate MongoDB databases from other cloud platforms to DDS on the current cloud. With DRS, you can migrate databases online with zero downtime and your services and databases can remain operational during migration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="solution-design">Solution Design<a href="#solution-design" class="hash-link" aria-label="Direct link to Solution Design" title="Direct link to Solution Design">​</a></h2>
<p>This section describes how to use DRS to migrate MongoDB databases from
another cloud to DDS on the current cloud. Migration scenarios include:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-mongodb-databases-from-another-cloud-to-dds-on-the-current-cloud">Migrating MongoDB databases from another cloud to DDS on the current cloud<a href="#migrating-mongodb-databases-from-another-cloud-to-dds-on-the-current-cloud" class="hash-link" aria-label="Direct link to Migrating MongoDB databases from another cloud to DDS on the current cloud" title="Direct link to Migrating MongoDB databases from another cloud to DDS on the current cloud">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0295762499.png" alt="Figure 1 Migrating MongoDB databases from other
clouds" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-self-built-mongodb-databases-from-servers-on-another-cloud-to-dds-on-the-current-cloud">Migrating self-built MongoDB databases from servers on another cloud to DDS on the current cloud<a href="#migrating-self-built-mongodb-databases-from-servers-on-another-cloud-to-dds-on-the-current-cloud" class="hash-link" aria-label="Direct link to Migrating self-built MongoDB databases from servers on another cloud to DDS on the current cloud" title="Direct link to Migrating self-built MongoDB databases from servers on another cloud to DDS on the current cloud">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0295762649.png" alt="Figure 2 Migrating MongoDB databases from other cloud
servers" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a href="#procedure" class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001213229532.png" alt="Figure 3
Flowchart" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><ul>
<li>Database migration is closely impacted by a wide range of
environmental and operational factors. To ensure the migration goes
smoothly, perform a test run before the actual migration to help you
detect and resolve any potential issues in advance. Recommendations
on how to minimize any potential impacts on your data base are
provided in this section.</li>
<li>It is strongly recommended that you start your migration task during
off-peak hours. A less active database is easier to migrate
successfully. If the data is fairly static, there is less likely to
be any severe performance impacts during the migration.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Before creating a migration task, read the migration notes carefully.</p></div></div>
<p>For details, see
<a href="https://docs.otc.t-systems.com/data-replication-service/umn/real-time_migration/to_the_cloud/index.html#drs-online-migration" target="_blank" rel="noopener noreferrer">precautions</a>
on using specific migration tasks in <em>Data Replication Service Real-Time
Migration</em>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ol>
<li>
<p>Permissions</p>
<p>Table 1 below, lists the permissions required for the source and destination
databases when migrating a MongoDB database from another cloud to
DDS on the current cloud.</p>
<table><thead><tr><th>Database</th><th>Full Migration Permission</th><th>Full+Incremental Migration Permission</th></tr></thead><tbody><tr><td>Source</td><td><strong>Replica set</strong>: The source database user must have the read permission for the database to be migrated. <br> <strong>Single node</strong>: The source database user must have the read permission for the database to be migrated. <br> <strong>Cluster</strong>: The source database user must have the read permission for the databases to be migrated and the config database. To migrate accounts and roles of the source database, the source database user must have the read permission for the <code>system.users</code> and <code>system.roles</code> system tables of the admin database.</td><td><strong>Replica set</strong>: The source database user must have the read permission for the databases to be migrated and the local database. <br> <strong>Single node</strong>: The source database user must have the <code>read</code> permission for the databases to be migrated and the local database. <br> <strong>Cluster</strong>: The source mongos node user must have the <code>readAnyDatabase</code> permission for the databases to be migrated and the config database. The source shard node user must have the <code>readAnyDatabase</code> permission for the <strong>admin</strong> database and the <code>read</code> permission for the <strong>local</strong> database. To migrate accounts and roles of the source database, the source database user must have the read permission for the <code>system.users</code> and <code>system.roles</code> system tables of the <strong>admin</strong> database.</td></tr><tr><td>Destination</td><td>The destination database user must have the <code>dbAdminAnyDatabase</code> permission for the <strong>admin</strong> database and the <code>readWrite</code> permission for the <strong>destination</strong> database. If the destination database is a cluster instance, the migration account must have the read permission for the config database.</td><td></td></tr></tbody></table>
<p><strong>Table 1</strong> Migration permissions</p>
<ul>
<li>
<p>Source database permissions:</p>
<p>The source MongoDB database user must have all the required
permissions listed in Table 1.
If the permissions are insufficient, create a user that has all
of the permissions on the source database.</p>
</li>
<li>
<p>Destination database permissions:</p>
<p>If the destination database is a DDS database, the initial
account can be used.</p>
</li>
</ul>
</li>
<li>
<p>Network settings</p>
<p>Enable public accessibility for the source database.</p>
<ul>
<li>
<p>Source database network settings:</p>
<p>Any source database MongoDB instances will need to be accessible
from the Internet.</p>
</li>
<li>
<p>Destination database network settings: No settings are required.</p>
</li>
</ul>
</li>
<li>
<p>Security rules</p>
<ul>
<li>
<p>Source database security group settings:</p>
<p>The replication instance needs to be able to access the source
MongoDB instance. That means that the EIP of the replication
instance must be on the whitelist of the source MongoDB
instance.</p>
<p>Before configuring the network whitelist, you need to obtain the
EIP of the replication instance.</p>
<ul>
<li>
<p>After creating a replication instance on the DRS console,
you can find the EIP on the <strong>Configure Source and
Destination Databases</strong> page as shown in
<code>Figure 4 &lt;dds_0016__en-us_topic_0120558714_fig121513143432&gt;</code>.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001244078029.png" alt="Figure 4 EIP of the replication
instance" class="img_ev3q"></p>
</li>
</ul>
<p>You can also add <code>0.0.0.0/0</code> to the source database whitelist to
allow any IP address to access the source database but this
action may result in security risks.</p>
<p>If you do take this step, then once the migration is complete,
you should delete this item from the whitelist or your system
will insecure.</p>
</li>
<li>
<p>Destination database security group settings:</p>
<p>By default, the destination database and the DRS replication
instance are in the same VPC and can communicate with each
other. No further configuration is required.</p>
</li>
</ul>
</li>
<li>
<p>Other</p>
<p>You need to export the user information of the MongoDB database
first and manually add it to the destination DDS DB instance because
the user information will not be migrated.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-procedure">Migration Procedure<a href="#migration-procedure" class="hash-link" aria-label="Direct link to Migration Procedure" title="Direct link to Migration Procedure">​</a></h2>
<ol>
<li>
<p>Create a migration task.</p>
<ol>
<li>
<p>Log in to the management console and choose <em>Databases</em> -&gt;
<em>Data Replication Service</em> to go to the DRS console.</p>
</li>
<li>
<p>On the <em>Online Migration Management</em> page, click <em>Create
Migration Task</em>.</p>
</li>
<li>
<p>On the <em>Replication Instance Information</em> page, configure the
task details, description, and replication instance details and
click <em>Next</em>.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001493711038.png" alt="Figure 5 Replication instance
information" class="img_ev3q"></p>
</li>
</ol>
</li>
</ol>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Region</td><td>The region where the replication instance is deployed. You can change the region. To reduce latency and improve access speed, select the region closest to your workloads.</td></tr><tr><td>Project</td><td>The project corresponds to the current region and can be changed.</td></tr><tr><td>Task Name</td><td>The task name consists of 4 to 50 characters, starts with a letter, and can contain only letters (case-insensitive), digits, hyphens (-), and underscores (_).</td></tr><tr><td>Description</td><td>The description consists of a maximum of 256 characters and cannot contain the following special characters: =&lt;&gt;&amp;&#x27;\&quot;</td></tr></tbody></table>
<p><strong>Table 2</strong> Task settings</p>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Data Flow</td><td>To the cloud</td></tr><tr><td>Source DB Engine</td><td>Select MongoDB.</td></tr><tr><td>Destination DB Engine</td><td>Select DDS.</td></tr><tr><td>Network Type</td><td>Select Public network.</td></tr><tr><td>Destination DB Instance</td><td>The DDS DB instance you purchased.</td></tr><tr><td>Replication Instance Subnet</td><td>The subnet where the replication instance resides. You can also click View Subnet to go to the network console to view the subnet where the instance resides. By default, the DRS instance and the destination DB instance are in the same subnet. You need to select the subnet where the DRS instance resides, and there are available IP addresses for the subnet. To ensure that the replication instance is successfully created, only subnets with DHCP enabled are displayed.</td></tr><tr><td>Migration Type</td><td>Full  This migration type is suitable for scenarios where service interruption is acceptable. All objects in non-system databases are migrated to the destination database at one time. The objects include collections and indexes.  Full+Incremental  The full+incremental migration type allows you to migrate data without interrupting services. After a full migration initializes the destination database, an incremental migration parses logs to ensure data consistency between the source and destination databases.</td></tr><tr><td>Source DB Instance Type</td><td>If you select Full+Incremental for Migration Type, set this parameter based on the source database.  If the source database is a cluster instance, set this parameter to Cluster. If the source database is a replica set or a single node instance, set this parameter to Non-cluster.</td></tr><tr><td>Obtain Incremental Data</td><td>This parameter is available for configuration if Source DB Instance Type is set to Cluster. You can determine how to capture data changes during the incremental synchronization.  oplog: For MongoDB 3.2 or later, DRS directly connects to each shard of the source DB instance to extract data. If you select this mode, you must disable the balancer of the source instance. When testing the connection, you need to enter the connection information of each shard node of the source instance. changeStream: This method is recommended. For MongoDB 4.0 and later, DRS connects to mongos nodes of the source instance to extract data. If you select this method, you must enable the WiredTiger storage engine of the source instance.    Note  Only whitelisted users can use changeStream. To use this function, submit a service ticket. In the upper right corner of the management console, choose Service Tickets &gt; Create Service Ticket to submit a service ticket.</td></tr><tr><td>Source Shard Quantity</td><td>If Source DB Instance Type is set to Cluster and Obtain Incremental Data is set to oplog, enter the number of source shard nodes. The default minimum number of source DB instances is 2 and the maximum number is 32. You can set this parameter based on the number of source database shards.</td></tr></tbody></table>
<p><strong>Table 3</strong> Replication instance settings</p>
<ol start="4">
<li>
<p>On the <em>Configure Source and Destination Databases</em> page, wait
until the replication instance is created. Then, specify source
and destination database information and click <em>Test
Connection</em> for both the source and destination databases to
check whether they have been connected to the replication
instance. After the connection tests are successful, select the
check box before the agreement and click <em>Next</em>.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001151977634.png" alt="Figure 6 Source database
information" class="img_ev3q"></p>
<ul>
<li>
<p>Destination database configuration</p>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>mongos Address</td><td>IP address or domain name of the source database in the IP address/Domain name<!-- -->:Port<!-- --> format. The port of the source database. Range: 1 - 65534 You can enter a maximum of three groups of IP addresses or domain names of the source database. Separate multiple values with commas (,). For example: 192.168.0.1:8080,192.168.0.2:8080. Ensure that the entered IP addresses or domain names belong to the same sharded cluster.   Note  If multiple IP addresses or domain names are entered, the test connection is successful as long as one IP address or domain name is accessible. Therefore, you must ensure that the IP address or domain name is correct.</td></tr><tr><td>Authentication Database</td><td>The name of the authentication database. For example: The default authentication database of Open Telekom Cloud DDS instance is admin.</td></tr><tr><td>mongos Username</td><td>A username for the source database.</td></tr><tr><td>mongos Password</td><td>The password for the source database username.</td></tr><tr><td>SSL Connection</td><td>SSL encrypts the connections between the source and destination databases. If SSL is enabled, upload the SSL CA root certificate.</td></tr><tr><td>Sharded Database</td><td>Enter the information about the sharded databases in the source database.</td></tr></tbody></table>
<p><strong>Table 4</strong> Source database settings</p>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>DB Instance Name</td><td>The DB instance you selected when creating the migration task and cannot be changed.</td></tr><tr><td>Database Username</td><td>The username for accessing the destination database.</td></tr><tr><td>Database Password</td><td>The password for the database username.</td></tr></tbody></table>
<p><strong>Table 5</strong> Destination database settings</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001198097269.png" alt="Figure 7 Destination database
information" class="img_ev3q"></p>
</li>
</ul>
</li>
<li>
<p>On the <em>Set Task</em> page, select migration objects and click
<em>Next</em>.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001198097583.png" alt="Figure 8 Migration
object" class="img_ev3q"></p>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Migrate Account</td><td>There are accounts that can be migrated completely and accounts that cannot be migrated. You can choose whether to migrate the accounts. Accounts that cannot be migrated or accounts that are not selected will not exist in the destination database. Ensure that your services will not be affected by these accounts.  Yes If you choose to migrate accounts, see <a href="https://docs.otc.t-systems.com/data-replication-service/umn/real-time_migration/task_management/managing_objects/migrating_accounts.html" target="_blank" rel="noopener noreferrer">Migrating Accounts</a> in Data Replication Service User Guide to migrate database users and roles. No During the migration, accounts and roles are not migrated.</td></tr><tr><td>Migrate Object</td><td>You can choose to migrate all objects, tables, or databases based on your service requirements.  All: All objects in the source database are migrated to the destination database. After the migration, the object names will remain the same as those in the source database and cannot be modified. Tables: The selected table-level objects will be migrated. Databases: The selected database-level objects will be migrated.  If the source database is changed, click  in the upper right corner before selecting migration objects to ensure that the objects to be selected are from the changed source database.   Note   If you choose not to migrate all of the databases, the migration may fail because the objects, such as stored procedures and views, in the database to be migrated may have dependencies on other objects that are not migrated. To ensure a successful migration, you are advised to migrate all of the databases. When you select an object, the spaces before and after the object name are not displayed. If there are two or more consecutive spaces in the middle of the object name, only one space is displayed. The search function can help you quickly select the required database objects.</td></tr></tbody></table>
<p><strong>Table 6</strong> Migration object</p>
</li>
<li>
<p>On the <em>Check Task</em> page, check the migration task.</p>
<ul>
<li>
<p>If any check fails, review the cause and rectify the fault.
After the fault is rectified, click <em>Check Again</em>.</p>
<p>For details about how to handle check failures, see
<a href="https://docs.otc.t-systems.com/data-replication-service/umn/troubleshooting/solutions_to_failed_check_items/networks/checking_whether_the_source_database_is_connected.html" target="_blank" rel="noopener noreferrer">Checking Whether the Source Database Is
Connected</a>
in <em>Data Replication Service User Guide</em>.</p>
</li>
<li>
<p>If all check items are successful, click <em>Next</em>.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001152137438.png" alt="Figure 9 Task
Check" class="img_ev3q"></p>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You can proceed to the next step only when all check items are
successful. If any alarms are generated, view and confirm the
alarm details first before proceeding to the next step.</p></div></div>
</li>
<li>
<p>On the displayed page, specify <em>Start Time</em> and confirm that
the configured information is correct and click <em>Submit</em> to
submit the task.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001199158158.png" alt="Figure 10 Task startup
settings" class="img_ev3q"></p>
<table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>Start Time</td><td>Set Start Time to Start upon task creation or Start at a specified time based on site requirements. The Start at a specified time option is recommended.   Note  The migration task may affect the performance of the source and destination databases. You are advised to start the task in off-peak hours and reserve two to three days for data verification.</td></tr></tbody></table>
<p><strong>Table 7</strong> Task startup settings</p>
</li>
<li>
<p>After the task is submitted, go back to the <em>Online Migration
Management</em> page to view the task status.</p>
</li>
<li>
<p>Manage the migration task.</p>
<p>The migration task contains two phases: full migration and
incremental migration. You can manage them in different phases.</p>
<ul>
<li>Full migration<!-- -->
<ul>
<li>Viewing the migration progress: Click the target full
migration task, and on the <em>Migration Progress</em> tab, you
can see the migration progress of the structure, data,
indexes, and migration objects. When the progress reaches
100%, the migration is complete.</li>
<li>Viewing migration details: In the migration details, you can
view the migration progress of a specific object. If the
number of objects is the same as that of migrated objects,
the migration is complete. You can view the migration
progress of each object in detail. Currently, this function
is available only to whitelisted users. You can submit a
service ticket to apply for this function.</li>
</ul>
</li>
<li>Incremental Migration Permission<!-- -->
<ul>
<li>
<p>Viewing the synchronization delay: After the full migration
is complete, an incremental migration starts. On the
<em>Online Migration Management</em> page, click the target
migration task. On the displayed page, click <em>Migration
Progress</em> to view the synchronization delay of the
incremental migration. If the synchronization delay is 0s,
the destination database is being synchronized with the
source database in real time. You can also view the data
consistency on the <em>Migration Comparison</em> tab.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001243756137.png" alt="Figure 11 Viewing the synchronization
delay" class="img_ev3q"></p>
</li>
<li>
<p>Viewing the migration results: On the <em>Online Migration
Management</em> page, click the target migration task. On the
displayed page, click <em>Migration Comparison</em> and perform a
migration comparison in accordance with the comparison
process, which should help you determine an appropriate time
for migration to minimize service downtime.</p>
<p><img decoding="async" loading="lazy" src="https://arch-assets-dev.obs.eu-de.otc.t-systems.com/static/img/docs/best-practices/databases/document-database-service/en-us_image_0000001213070166.png" alt="Figure 12 Database comparison
process" class="img_ev3q"></p>
<p>For details, see <a href="https://docs.otc.t-systems.com/data-replication-service/umn/real-time_migration/task_management/step_4_compare_migration_items.html" target="_blank" rel="noopener noreferrer">Comparing Migration
Items</a>
in <em>Data Replication Service User Guide</em>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Cut over services.</p>
<p>You are advised to start the cutover process during off-peak hours.
At least one complete data comparison is performed during off-peak
hours. To obtain accurate comparison results, start data comparison
at a specified time point during off-peak hours. If it is needed,
select <em>Start at a specified time</em> for <em>Comparison Time</em>. Due to
slight time difference and continuous operations on data,
inconsistent comparison results may be generated, reducing the
reliability and validity of the results.</p>
<ol>
<li>
<p>Interrupt services first. If the workload is not heavy, you may
not need to interrupt the services.</p>
</li>
<li>
<p>Run the following statement on the source database and check
whether any new sessions execute SQL statements within the next
1 to 5 minutes. If there are no new statements executed, the
service has been stopped.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">db.currentOp</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The process list queried by the preceding statement includes the
connection of the DRS replication instance. If no additional
session executes SQL statements, the service has been stopped.</p></div></div>
</li>
<li>
<p>On the <em>Migration Progress</em> page, view the synchronization
delay. When the delay is displayed as 0s and remains stable for
a period, then you can perform a data-level comparison between
the source and destination databases. For details about the time
required, refer to the results of the previous comparison.</p>
<ul>
<li>If there is enough time, compare all objects.</li>
<li>If there is not enough time, use the data-level comparison
to compare the tables that are frequently used and that
contain key business data or inconsistent data.</li>
</ul>
</li>
<li>
<p>Determine an appropriate time to cut the services over to the
destination database. After services are restored and available,
the migration is complete.</p>
</li>
</ol>
</li>
<li>
<p>Stop or delete the migration task.</p>
<ol>
<li>Stopping the migration task. After databases and services are
migrated to the destination database, to prevent operations on
the source database from being synchronized to the destination
database to overwrite data, you can stop the migration task.
This operation only deletes the replication instance, and the
migration task is still displayed in the task list. You can view
or delete the task. DRS will not charge for this task after you
stop it.</li>
<li>Delete the migration task. After the migration task is complete,
you can delete it. After the migration task is deleted, it will
no longer be displayed in the task list.</li>
</ol>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-250/docs/tags/dds">dds</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-250/docs/tags/migration">migration</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-250/docs/tags/mongodb">mongodb</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opentelekomcloud/docs-next/tree/main/docs/best-practices/databases/document-database-service/from-other-cloud-mongodb-to-dds.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/from-on-premises-mongodb-to-dds"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">From On-Premises MongoDB to DDS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-next/pr-preview/pr-250/docs/best-practices/databases/document-database-service/how-do-replica-sets-achieve-high-availability-and-readwrite-splitting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How Do Replica Sets Achieve High Availability and Read/Write Splitting?</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#solution-design" class="table-of-contents__link toc-highlight">Solution Design</a><ul><li><a href="#migrating-mongodb-databases-from-another-cloud-to-dds-on-the-current-cloud" class="table-of-contents__link toc-highlight">Migrating MongoDB databases from another cloud to DDS on the current cloud</a></li><li><a href="#migrating-self-built-mongodb-databases-from-servers-on-another-cloud-to-dds-on-the-current-cloud" class="table-of-contents__link toc-highlight">Migrating self-built MongoDB databases from servers on another cloud to DDS on the current cloud</a></li><li><a href="#procedure" class="table-of-contents__link toc-highlight">Procedure</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#migration-procedure" class="table-of-contents__link toc-highlight">Migration Procedure</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="align-items-center" style="margin:0 0 0 32px"><div class="col-10 text-right"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help Center</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio Roadmap</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/core-services/certifications" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core Services Certifications</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.open-telekom-cloud.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Forums</a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLS60dhorR-hgQ5n5L1boEQh0oVD-_k75p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Webinars<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDKs</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/drivers.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Drivers &amp; Tools</a></li><li class="footer__item"><a href="https://registry.terraform.io/providers/opentelekomcloud/opentelekomcloud/latest/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terraform Provider<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/ansible-collection-cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ansible Collections</a></li><li class="footer__item"><a href="https://designer.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Create</a></li></ul></div><div class="col footer__col"><div class="footer__title">API</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api_guidelines/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API Usage Guidelines</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/regions-and-endpoints/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endpoints</a></li><li class="footer__item"><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Dashboard</a></li></ul></div></div></div></div></div><scale-telekom-footer type="minimal"><scale-telekom-footer-content><span slot="notice">© T-Systems International GmbH 2025<!-- --> <scale-tag size="small" style="margin:0 0 0 8px" color="orange" type="strong">0.1.PR250-133-531af27-ephemeral</scale-tag></span><ul slot="navigation"><li><a href="https://open-telekom-cloud.com/en/contact"> Contact </a></li><li><a href="https://open-telekom-cloud.com/en/data-protection"> Data privacy </a></li><li><a href="https://open-telekom-cloud.com/en/disclaimer-of-liability"> Disclaimer of liabilities </a></li><li><a href="https://open-telekom-cloud.com/en/imprint"> Imprint </a></li></ul></scale-telekom-footer-content></scale-telekom-footer></footer></div>
</body>
</html>