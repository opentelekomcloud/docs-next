<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Using a Public NAT Gateway and VPC Peering to Enable Communications Between VPCs and the Internet | Architecture Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/img/open-telekom-cloud-social-card.png"><meta data-rh="true" name="twitter:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/img/open-telekom-cloud-social-card.png"><meta data-rh="true" property="og:url" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using a Public NAT Gateway and VPC Peering to Enable Communications Between VPCs and the Internet | Architecture Center"><meta data-rh="true" name="description" content="Two VPCs, VPC A and VPC B are in the same region. A public NAT gateway is configured for subnet A in VPC A and you can add SNAT and DNAT rules for Internet connectivity. Subnet B connects to subnet A through a VPC peering connection and uses the public NAT gateway of subnet A to communicate with the Internet."><meta data-rh="true" property="og:description" content="Two VPCs, VPC A and VPC B are in the same region. A public NAT gateway is configured for subnet A in VPC A and you can add SNAT and DNAT rules for Internet connectivity. Subnet B connects to subnet A through a VPC peering connection and uses the public NAT gateway of subnet A to communicate with the Internet."><link data-rh="true" rel="icon" href="/docs-next/pr-preview/pr-321/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet" hreflang="en"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet" hreflang="x-default"><link rel="preconnect" href="https://analytics.example.de">
<script async defer="defer" src="https://analytics.example.de/script.js" data-website-id="00000" data-host-url="https://analytics.example.de" data-auto-track="true" data-do-not-track="true" data-cache="true" data-domains="opentelekomcloud.github.io" data-exclude-search="false" data-exclude-hash="false"></script><link rel="stylesheet" href="/docs-next/pr-preview/pr-321/assets/css/styles.5dddc49a.css">
<script src="/docs-next/pr-preview/pr-321/assets/js/runtime~main.13db43f4.js" defer="defer"></script>
<script src="/docs-next/pr-preview/pr-321/assets/js/main.45e83a0a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-next/pr-preview/pr-321/"><div class="navbar__logo"><img src="/docs-next/pr-preview/pr-321/img/logo_headline_kombination_m_s_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-next/pr-preview/pr-321/img/logo_headline_kombination_m_w_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-next/pr-preview/pr-321/docs/best-practices/">Best Practices</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-321/docs/blueprints/">Blueprints</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-321/templates">Templates</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-321/webinars">Webinars</a></div><div class="navbar__items navbar__items--right"><a href="https://auth.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--terminal-link" aria-label="Open Telekom Cloud Console"></a><a href="https://github.com/opentelekomcloud/docs-next" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="light mode" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-next/pr-preview/pr-321/docs/best-practices/"><span title="Best Practices" class="linkLabel_WmDU">Best Practices</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/application-services/application-operations-management"><span title="Application Services" class="categoryLinkLabel_W154">Application Services</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/big-data-and-data-analysis/cloud-search-service"><span title="Big Data &amp; Data Analysis" class="categoryLinkLabel_W154">Big Data &amp; Data Analysis</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/computing/auto-scaling"><span title="Computing" class="categoryLinkLabel_W154">Computing</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/containers/application-service-mesh"><span title="Containers" class="categoryLinkLabel_W154">Containers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/databases/distributed-cache-service"><span title="Databases" class="categoryLinkLabel_W154">Databases</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/management-and-deployment/cloud-create/"><span title="Management &amp; Deployment" class="categoryLinkLabel_W154">Management &amp; Deployment</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/direct-connect"><span title="Networking" class="categoryLinkLabel_W154">Networking</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/direct-connect"><span title="Direct Connect" class="categoryLinkLabel_W154">Direct Connect</span></a><button aria-label="Expand sidebar category &#x27;Direct Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/domain-name-service"><span title="Domain Name Service" class="categoryLinkLabel_W154">Domain Name Service</span></a><button aria-label="Expand sidebar category &#x27;Domain Name Service&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/elastic-ip"><span title="Elastic IP" class="categoryLinkLabel_W154">Elastic IP</span></a><button aria-label="Expand sidebar category &#x27;Elastic IP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/elastic-load-balancing"><span title="Elastic Load Balancing" class="categoryLinkLabel_W154">Elastic Load Balancing</span></a><button aria-label="Expand sidebar category &#x27;Elastic Load Balancing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/enterprise-router"><span title="Enterprise Router" class="categoryLinkLabel_W154">Enterprise Router</span></a><button aria-label="Expand sidebar category &#x27;Enterprise Router&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway"><span title="NAT Gateway" class="categoryLinkLabel_W154">NAT Gateway</span></a><button aria-label="Collapse sidebar category &#x27;NAT Gateway&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet"><span title="Using a Public NAT Gateway and VPC Peering to Enable Communications Between VPCs and the Internet" class="linkLabel_WmDU">Using a Public NAT Gateway and VPC Peering to Enable Communications Between VPCs and the Internet</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a href="https://docs.otc.t-systems.com/nat-gateway/index.html" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0"><span title="ðŸ“š Go to Help Center" class="linkLabel_WmDU">ðŸ“š Go to Help Center</span><svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/private-link-access-service"><span title="Private Link Access Service" class="categoryLinkLabel_W154">Private Link Access Service</span></a><button aria-label="Expand sidebar category &#x27;Private Link Access Service&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/secure-mail-gateway"><span title="Secure Mail Gateway" class="categoryLinkLabel_W154">Secure Mail Gateway</span></a><button aria-label="Expand sidebar category &#x27;Secure Mail Gateway&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/virtual-private-cloud"><span title="Virtual Private Cloud" class="categoryLinkLabel_W154">Virtual Private Cloud</span></a><button aria-label="Expand sidebar category &#x27;Virtual Private Cloud&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/vpc-endpoint"><span title="VPC Endpoint" class="categoryLinkLabel_W154">VPC Endpoint</span></a><button aria-label="Expand sidebar category &#x27;VPC Endpoint&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/virtual-private-network"><span title="Virtual Private Network" class="categoryLinkLabel_W154">Virtual Private Network</span></a><button aria-label="Expand sidebar category &#x27;Virtual Private Network&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/security-services/anti-ddos"><span title="Security Services" class="categoryLinkLabel_W154">Security Services</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs-next/pr-preview/pr-321/docs/best-practices/storage/cloud-backup-recovery"><span title="Storage" class="categoryLinkLabel_W154">Storage</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-next/pr-preview/pr-321/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Networking</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway"><span itemprop="name">NAT Gateway</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using a Public NAT Gateway and VPC Peer...ications Between VPCs and the Internet</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using a Public NAT Gateway and VPC Peering to Enable Communications Between VPCs and the Internet</h1></header>
<p>Two VPCs, VPC A and VPC B are in the same region. A public NAT gateway is configured for subnet A in VPC A and you can add SNAT and DNAT rules for Internet connectivity. Subnet B connects to subnet A through a VPC peering connection and uses the public NAT gateway of subnet A to communicate with the Internet.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="solution-design">Solution Design<a href="#solution-design" class="hash-link" aria-label="Direct link to Solution Design" title="Direct link to Solution Design" translate="no">â€‹</a></h2>
<p>The CIDR block of VPC A is <code>192.168.0.0/16</code> and that of subnet A is <code>192.168.1.0/24</code>.</p>
<p>The CIDR block of VPC B is <code>192.168.0.0/16</code> and that of subnet B is <code>192.168.2.0/24</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="topology">Topology<a href="#topology" class="hash-link" aria-label="Direct link to Topology" title="Direct link to Topology" translate="no">â€‹</a></h3>
<ol>
<li>
<p>A VPC peering connection is used to connect subnet A in VPC A to subnet B in VPC B.</p>
</li>
<li>
<p>A public NAT gateway is created in VPC A, and subnet B can use the public NAT gateway to communicate the Internet.</p>
<p><img decoding="async" loading="lazy" alt="Figure 1 Network topology" src="/docs-next/pr-preview/pr-321/assets/images/en-us_image_0000001089261095-633fb26f35896808f68fc0fb09c97d3b.png" width="823" height="308" class="img_ev3q"></p>
</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Advantages</div><div class="admonitionContent_BuS1"><p>Only one public NAT gateway needs to be configured. Servers in the two VPCs can share the same public NAT gateway to communicate with the Internet, saving gateway resources.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">â€‹</a></h2>
<ul>
<li>If VPCs connected by a VPC peering connection have overlapping CIDR blocks, the connection can only enable communications between specific (non-overlapping) subnets in the VPCs.</li>
<li>All subnets of the two VPCs do not overlap with each other. For details, see <a href="https://docs.otc.t-systems.com/virtual-private-cloud/umn/vpc_peering_connection/vpc_peering_connection_usage_examples.html" target="_blank" rel="noopener noreferrer">VPC Peering Connection Usage Examples</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-the-solution">Deploying the Solution<a href="#deploying-the-solution" class="hash-link" aria-label="Direct link to Deploying the Solution" title="Direct link to Deploying the Solution" translate="no">â€‹</a></h2>
<ol>
<li>
<p>Create VPC A, VPC B, subnet A, and subnet B.</p>
<p>For detailed operations, see <a href="https://docs.otc.t-systems.com/virtual-private-cloud/umn/vpc_and_subnet/vpc/creating_a_vpc.html" target="_blank" rel="noopener noreferrer">Creating a VPC</a>.</p>
</li>
<li>
<p>Create a VPC peering connection.</p>
<p>Create a VPC peering connection between subnet A and subnet B. For detailed operations, see <a href="https://docs.otc.t-systems.com/virtual-private-cloud/umn/vpc_peering_connection/creating_a_vpc_peering_connection_with_another_vpc_in_your_account.html" target="_blank" rel="noopener noreferrer">Creating a VPC Peering Connection with Another VPC in Your Account</a>.</p>
<p>The local VPC is VPC A, and the peer VPC is VPC B.</p>
<p>Add a route in the route table of VPC B. Set <em>Destination</em> to <code>0.0.0.0/0</code> and <em>Next Hop</em> to the created VPC peering connection between VPC A and VPC B.</p>
</li>
<li>
<p>Create a public NAT gateway.</p>
<p>Create a public NAT gateway with <em>VPC</em> set to VPC A. For details about how to configure other parameters, see <a href="https://docs.otc.t-systems.com/nat-gateway/umn/managing_nat_gateways/creating_a_public_nat_gateway.html" target="_blank" rel="noopener noreferrer">Creating a Public NAT Gateway</a>.</p>
</li>
<li>
<p>Add an SNAT rule.</p>
<ol>
<li>Select <em>VPC</em> for <em>Scenario</em> and subnet A for <em>Subnet</em>. For more details, see <a href="https://docs.otc.t-systems.com/nat-gateway/umn/managing_snat_rules/adding_an_snat_rule.html" target="_blank" rel="noopener noreferrer">Adding an SNAT Rule</a>.</li>
<li>Add an SNAT rule for subnet B. Set <em>Scenario</em> to <em>Direct Connect/Cloud Connect</em> and enter the CIDR block of subnet B.</li>
</ol>
</li>
<li>
<p>Add a DNAT rule.</p>
<ol>
<li>Add a DNAT rule for subnet A. Select <em>VPC</em> for <em>Scenario</em> and enter an IP address of a server in subnet A for <em>Private IP Address</em>. For more details, see <a href="https://docs.otc.t-systems.com/nat-gateway/umn/managing_dnat_rules/adding_a_dnat_rule.html" target="_blank" rel="noopener noreferrer">Adding a DNAT Rule</a>.</li>
<li>Add a DNAT rule for subnet B. Set <em>Scenario</em> to <em>Direct Connect/Cloud Connect</em> and enter an IP address of a server in subnet B for <em>Private IP Address</em>.</li>
</ol>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verifying-connectivity">Verifying Connectivity<a href="#verifying-connectivity" class="hash-link" aria-label="Direct link to Verifying Connectivity" title="Direct link to Verifying Connectivity" translate="no">â€‹</a></h2>
<p>After the configuration is complete, test the network connectivity.</p>
<p>Log in to a server in subnet B and ping a public IP address.</p>
<p><img decoding="async" loading="lazy" alt="Figure 2" src="data:image/png;base64,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" width="619" height="154" class="img_ev3q"></p>
<p>Log in to a server that can access the Internet and is not deployed in VPC A or VPC B. Use <strong>curl</strong> to check whether the server can communicate with subnet B via the EIP associated with the DNAT rule configured for subnet B.</p>
<p><img decoding="async" loading="lazy" alt="Figure 3" src="/docs-next/pr-preview/pr-321/assets/images/en-us_image_0000001093306041-3dea734d2ff14a052c7b569fd84f5da1.png" width="562" height="665" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-321/docs/tags/nat-gateway">nat-gateway</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-321/docs/tags/vpc-peering">vpc-peering</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opentelekomcloud/docs-next/tree/main/docs/best-practices/networking/nat-gateway/using-a-public-nat-gateway-and-vpc-peering-to-enable-communications-between-vpcs-and-the-internet.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/nat-gateway"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">NAT Gateway</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-next/pr-preview/pr-321/docs/best-practices/networking/private-link-access-service"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Private Link Access Service</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#solution-design" class="table-of-contents__link toc-highlight">Solution Design</a><ul><li><a href="#topology" class="table-of-contents__link toc-highlight">Topology</a></li></ul></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#deploying-the-solution" class="table-of-contents__link toc-highlight">Deploying the Solution</a></li><li><a href="#verifying-connectivity" class="table-of-contents__link toc-highlight">Verifying Connectivity</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="align-items-center" style="margin:0 0 0 32px"><div class="col-10 text-right"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help Center</a></li><li class="footer__item"><a class="footer__link-item" href="/docs-next/pr-preview/pr-321/portfolio">Portfolio Navigator</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio Roadmap</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/support/release-notes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Release Notes</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/core-services/certifications" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core Services Certifications</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://marketplace.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Marketplace</a></li><li class="footer__item"><a href="https://community.open-telekom-cloud.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Portal</a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLS60dhorR-hgQ5n5L1boEQh0oVD-_k75p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Webinars in YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDKs</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/drivers.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Drivers &amp; Tools</a></li><li class="footer__item"><a href="https://registry.terraform.io/providers/opentelekomcloud/opentelekomcloud/latest/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terraform Provider<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/ansible-collection-cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ansible Collections</a></li><li class="footer__item"><a href="https://designer.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Create</a></li></ul></div><div class="col footer__col"><div class="footer__title">API</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api_guidelines/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API Usage Guidelines</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/regions-and-endpoints/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Endpoints</a></li><li class="footer__item"><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Dashboard</a></li></ul></div></div></div></div></div><scale-telekom-footer type="minimal"><scale-telekom-footer-content><span slot="notice">Â© T-Systems International GmbH 2025<!-- --> <scale-tag size="small" style="margin:0 0 0 8px" color="orange" type="strong">0.1.PR321-216-becfcbb-ephemeral</scale-tag></span><ul slot="navigation"><li><a href="https://open-telekom-cloud.com/en/contact"> Contact </a></li><li><a href="https://open-telekom-cloud.com/en/data-protection"> Data privacy </a></li><li><a href="https://open-telekom-cloud.com/en/disclaimer-of-liability"> Disclaimer of liabilities </a></li><li><a href="https://open-telekom-cloud.com/en/imprint"> Imprint </a></li></ul></scale-telekom-footer-content></scale-telekom-footer></footer></div>
</body>
</html>