<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Deploy Dokploy on ECS | Architecture Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/img/open-telekom-cloud-social-card.png"><meta data-rh="true" name="twitter:image" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/img/open-telekom-cloud-social-card.png"><meta data-rh="true" property="og:url" content="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploy Dokploy on ECS | Architecture Center"><meta data-rh="true" name="description" content="The first part of the blueprint explains how to deploy a highly available Dokploy platform on a fleet of Elastic Cloud Servers (ECS). It covers the configuration of the required Open Telekom Cloud services, including VPC, NAT Gateway, Elastic Load Balancer, RDS, and DCS,"><meta data-rh="true" property="og:description" content="The first part of the blueprint explains how to deploy a highly available Dokploy platform on a fleet of Elastic Cloud Servers (ECS). It covers the configuration of the required Open Telekom Cloud services, including VPC, NAT Gateway, Elastic Load Balancer, RDS, and DCS,"><link data-rh="true" rel="icon" href="/docs-next/pr-preview/pr-341/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs" hreflang="en"><link data-rh="true" rel="alternate" href="https://opentelekomcloud.github.io/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs" hreflang="x-default"><link rel="preconnect" href="https://analytics.example.de">
<script async defer="defer" src="https://analytics.example.de/script.js" data-website-id="00000" data-host-url="https://analytics.example.de" data-auto-track="true" data-do-not-track="true" data-cache="true" data-domains="opentelekomcloud.github.io" data-exclude-search="false" data-exclude-hash="false"></script><link rel="stylesheet" href="/docs-next/pr-preview/pr-341/assets/css/styles.ba10253d.css">
<script src="/docs-next/pr-preview/pr-341/assets/js/runtime~main.e2571ae7.js" defer="defer"></script>
<script src="/docs-next/pr-preview/pr-341/assets/js/main.0f198c53.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs-next/pr-preview/pr-341/"><div class="navbar__logo"><img src="/docs-next/pr-preview/pr-341/img/logo_headline_kombination_m_s_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs-next/pr-preview/pr-341/img/logo_headline_kombination_m_w_m.png" alt="Open Telekom Cloud Non-Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-341/docs/best-practices/">Best Practices</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs-next/pr-preview/pr-341/docs/blueprints/">Blueprints</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-341/templates">Templates</a><a class="navbar__item navbar__link" href="/docs-next/pr-preview/pr-341/webinars">Webinars</a></div><div class="navbar__items navbar__items--right"><a href="https://auth.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--terminal-link" aria-label="Open Telekom Cloud Console"></a><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--sd-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="light mode" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs-next/pr-preview/pr-341/docs/blueprints/"><span title="Blueprints" class="linkLabel_WmDU">Blueprints</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/"><span title="By Use Case" class="categoryLinkLabel_W154">By Use Case</span></a><button aria-label="Collapse sidebar category &#x27;By Use Case&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/ai/"><span title="AI &amp; LLMs" class="categoryLinkLabel_W154">AI &amp; LLMs</span></a><button aria-label="Expand sidebar category &#x27;AI &amp; LLMs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/analytics/"><span title="Analytics" class="categoryLinkLabel_W154">Analytics</span></a><button aria-label="Expand sidebar category &#x27;Analytics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/collaboration/"><span title="Collaboration" class="categoryLinkLabel_W154">Collaboration</span></a><button aria-label="Expand sidebar category &#x27;Collaboration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/"><span title="DevOps" class="categoryLinkLabel_W154">DevOps</span></a><button aria-label="Collapse sidebar category &#x27;DevOps&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/ci-devtron-swr-cce"><span title="Build a CI/CD Pipeline with Devtron, SWR and CCE" class="linkLabel_WmDU">Build a CI/CD Pipeline with Devtron, SWR and CCE</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/ci-jenkins-swr-cce"><span title="Build a CI Pipeline with Jenkins, SWR and CCE" class="linkLabel_WmDU">Build a CI Pipeline with Jenkins, SWR and CCE</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/dokploy"><span title="Build a Self-Service App Hosting Platform with Dokploy" class="categoryLinkLabel_W154">Build a Self-Service App Hosting Platform with Dokploy</span></a><button aria-label="Collapse sidebar category &#x27;Build a Self-Service App Hosting Platform with Dokploy&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs"><span title="Deploy Dokploy on ECS" class="linkLabel_WmDU">Deploy Dokploy on ECS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/configure-dokploy-for-otc"><span title="Configure Dokploy for Open Telekom Cloud" class="linkLabel_WmDU">Configure Dokploy for Open Telekom Cloud</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/deploy-applications-with-dokploy"><span title="Deploy Applications with Dokploy" class="linkLabel_WmDU">Deploy Applications with Dokploy</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/host-github-runners-on-cce"><span title="Host GitHub Runners on CCE" class="linkLabel_WmDU">Host GitHub Runners on CCE</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/networking/"><span title="Networking" class="categoryLinkLabel_W154">Networking</span></a><button aria-label="Expand sidebar category &#x27;Networking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/observability/"><span title="Observability" class="categoryLinkLabel_W154">Observability</span></a><button aria-label="Expand sidebar category &#x27;Observability&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/security/"><span title="Security" class="categoryLinkLabel_W154">Security</span></a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/sovereignty/"><span title="Sovereignty" class="categoryLinkLabel_W154">Sovereignty</span></a><button aria-label="Expand sidebar category &#x27;Sovereignty&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/storage/"><span title="Storage" class="categoryLinkLabel_W154">Storage</span></a><button aria-label="Expand sidebar category &#x27;Storage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-industry/"><span title="By Industry" class="categoryLinkLabel_W154">By Industry</span></a><button aria-label="Expand sidebar category &#x27;By Industry&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs-next/pr-preview/pr-341/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/"><span itemprop="name">By Use Case</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/"><span itemprop="name">DevOps</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/dokploy"><span itemprop="name">Build a Sel...ith Dokploy</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy Dokploy on ECS</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploy Dokploy on ECS</h1></header>
<p>The first part of the blueprint explains how to deploy a highly available Dokploy platform on a fleet of Elastic Cloud Servers (ECS). It covers the configuration of the required Open Telekom Cloud services, including VPC, NAT Gateway, Elastic Load Balancer, RDS, and DCS,
as well as the setup of the core Dokploy components such as the backend, frontend, and the Traefik ingress controller.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-vpc-and-subnets">Creating VPC and Subnets<a href="#creating-vpc-and-subnets" class="hash-link" aria-label="Direct link to Creating VPC and Subnets" title="Direct link to Creating VPC and Subnets" translate="no">​</a></h2>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Virtual Private Cloud</em> and click <em>Create VPC</em>. Create a VPC (let&#x27;s call it for the rest of this lab <code>vpc-dokploy</code>) with the IPv4 CIDR block <code>10.199.0.0/16</code>, and define three subnets:</p>
<ul>
<li><code>10.199.10.0/24</code>: for connectivity components (NATGW, ELB and bastion host)</li>
<li><code>10.199.11.0/24</code>: for Swarm nodes</li>
<li><code>10.199.12.0/24</code>: for RDS and DCS instances</li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_07-29-52-dc34c00c1e750442911b7fedf2a77b70.png" width="1907" height="831" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>You may choose any IP address range that fits your environment, provided the VPC is allocated a <code>/16</code> network.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-postgresql-database">Creating a PostgreSQL Database<a href="#creating-a-postgresql-database" class="hash-link" aria-label="Direct link to Creating a PostgreSQL Database" title="Direct link to Creating a PostgreSQL Database" translate="no">​</a></h2>
<ol>
<li>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Relational Database Service</em> and click <strong>Create DB Instance</strong>. Name the instance <code>rds-dokploy</code> and configure it with the following settings:</p>
<ul>
<li><strong>DB Engine</strong>: <code>PostgreSQL</code></li>
<li><strong>DB Engine Version</strong>: <code>17</code></li>
<li><strong>DB Instance Type</strong>: <code>Primary/Standby</code></li>
<li><strong>Primary AZ</strong>: <code>eu-de-01</code></li>
<li><strong>Standby AZ</strong>: <code>eu-de-02</code></li>
<li><strong>Instance Class</strong>: <code>Dedicated</code></li>
<li><strong>Storage Space</strong>: <code>150GB</code> (you can scale later according to your needs)</li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.12.0/24</code></li>
</ul>
<p>Finally provide a password for <strong>root</strong> and click <em>Create Now</em> -&gt; <em>Submit</em>:</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can create a strong, secure, random password of your choice with, e.g.:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">openssl rand </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-base64</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">32</span><br></span></code></pre></div></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-redis-instance">Creating a Redis Instance<a href="#creating-a-redis-instance" class="hash-link" aria-label="Direct link to Creating a Redis Instance" title="Direct link to Creating a Redis Instance" translate="no">​</a></h2>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Distributed Cache Service</em> and click <em>Create DCS Instance</em>. Name the instance <code>dcs-dokploy</code> and configure it with the following settings:</p>
<ul>
<li><strong>Instance Type</strong>: <code>Master/Standby</code></li>
<li><strong>Replicas</strong>: <code>2</code></li>
<li><strong>Primary AZ</strong>: <code>eu-de-01</code></li>
<li><strong>Standby AZ</strong>: <code>eu-de-02</code></li>
<li><strong>Instance Specification</strong>: <code>redis.ha.xu1.large.r2.2</code></li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.12.0/24</code></li>
<li><strong>Password Protected</strong>: <code>No</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-security-groups">Preparing Security Groups<a href="#preparing-security-groups" class="hash-link" aria-label="Direct link to Preparing Security Groups" title="Direct link to Preparing Security Groups" translate="no">​</a></h2>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Access Control</em> -&gt; <em>Security Groups</em> and click <em>Create Security Group</em>:</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>You must provision Security Groups for all of the above (RDS, SSH, and Dokploy); all of them are required.</p></div></div>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">RDS (Instances/Clients)</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">SSH (Bastion)</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Dokploy (Bundle)</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Configure the required Security Groups as outlined in
<a href="/docs-next/pr-preview/pr-341/docs/best-practices/databases/relational-database-service/configure-sg-for-rds-instances">Configure Security Groups for PostgreSQL RDS Instances and Clients</a>.
After the RDS instance has been created, update its configuration to use the <strong>rds-dokploy-instances</strong> Security Group instead of the <strong>default</strong> one.</p><p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_07-27-00-fe9fdb894cd5cd26a70166f1709d6966.png" width="1890" height="831" class="img_ev3q"></p><div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>In this setup, ensure the inbound rule for <strong>rds-dokploy-instances</strong> allows traffic from <code>10.199.0.0/16</code> (the whole VPC),
and the outbound rule of <strong>rds-dokploy-clients</strong> permits traffic to <code>10.199.12.0/24</code> (the subnet where the RDS instances reside).</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Name the Security Group <strong>ssh-dokploy</strong> and add an <em>inbound</em> rule to allow <code>TCP/22</code> traffic from <code>0.0.0.0/0</code>.
For improved security, restrict the source to a defined IP range instead of open access.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Name the Security Group <strong>ecs-dokploy</strong> and add the following <em>inbound</em> rules:</p><table><thead><tr><th>Type</th><th>Protocol</th><th>Port</th><th>Source</th><th>Description</th></tr></thead><tbody><tr><td>IPv4</td><td>UDP</td><td>7946</td><td>10.199.11.0/24</td><td>Allow Docker Swarm UDP Gossip</td></tr><tr><td>IPv4</td><td>TCP</td><td>7946</td><td>10.199.11.0/24</td><td>Allow Docker Swarm TCP Gossip</td></tr><tr><td>IPv4</td><td>UDP</td><td>4789</td><td>10.199.11.0/24</td><td>Allow Docker Swarm Overlay</td></tr><tr><td>IPv4</td><td>TCP</td><td>2377</td><td>10.199.11.0/24</td><td>Allow Docker Swarm Manager</td></tr><tr><td>IPv4</td><td>TCP</td><td>80</td><td>0.0.0.0/0</td><td>Allow Dokploy Traefik HTTP</td></tr><tr><td>IPv4</td><td>TCP</td><td>443</td><td>0.0.0.0/0</td><td>Allow Dokploy Traefik HTTPS</td></tr><tr><td>IPv4</td><td>TCP</td><td>22</td><td>10.199.10.0/24</td><td>Allow SSH from Bastion Subnet</td></tr></tbody></table><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><ul>
<li><code>2377/TCP</code>: Cluster management traffic (Required for Swarm Management). Only needed on manager nodes.
Used for <code>docker swarm init</code> and <code>docker swarm join</code> commands. Without it, worker nodes can&#x27;t join the swarm.</li>
<li><code>7946/TCP+UDP</code>: Node discovery/gossip (Required for Swarm Node Discovery &amp; Gossip). Required on all nodes (manager + worker).
Used by the <a href="https://github.com/hashicorp/serf" target="_blank" rel="noopener noreferrer">Serf</a> gossip protocol for cluster membership and health status.</li>
<li><code>4789/UDP</code>: VXLAN overlay networking (Required for Overlay Networks). Required on all nodes (manager + worker) if you use overlay networks.
Needed for inter-container networking across different Docker hosts.</li>
</ul></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-compute--storage">Preparing Compute &amp; Storage<a href="#preparing-compute--storage" class="hash-link" aria-label="Direct link to Preparing Compute &amp; Storage" title="Direct link to Preparing Compute &amp; Storage" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-ecs-group">Creating an ECS Group<a href="#creating-an-ecs-group" class="hash-link" aria-label="Direct link to Creating an ECS Group" title="Direct link to Creating an ECS Group" translate="no">​</a></h3>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Elastic Cloud Server</em> -&gt; <em>ECS Group</em>  and click <em>Create ECS Group</em>.
Name the group <code>svrgrp-dokploy</code> and configure it with <code>Anti-Affinity</code> policy and click <em>OK</em>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>An ECS group enables up to 16 ECSs in this group to be created <strong>on different hosts</strong> to improve service reliability.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-key-pair">Creating a Key Pair<a href="#creating-a-key-pair" class="hash-link" aria-label="Direct link to Creating a Key Pair" title="Direct link to Creating a Key Pair" translate="no">​</a></h3>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Elastic Cloud Server</em> -&gt; <em>Network &amp; Security</em> -&gt; <em>Key Pair</em>  and click <em>Create Key Pair</em>.
Name it <strong>KeyPair-Dokploy</strong> and click <em>OK</em>. A file named <strong>Keypair-Dokploy.pem</strong> will be automatically downloaded to your machine.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Save the file in <strong>~/.ssh</strong> on your workstation and keep it secure, as it will be needed to access both the Swarm nodes and the bastion host later.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-nodes">Creating Nodes<a href="#creating-nodes" class="hash-link" aria-label="Direct link to Creating Nodes" title="Direct link to Creating Nodes" translate="no">​</a></h3>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Master Nodes</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Worker Nodes</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Bastion Node</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Elastic Cloud Server</em>  and click <em>Create ECS</em> and configure it with the following settings:</p><ul>
<li><strong>AZ</strong>: <code>Random</code></li>
<li><strong>Multi-AZ Deployment</strong>: <!-- -->✅</li>
<li><strong>Flavor</strong>: <code>s7n.xlarge.2</code></li>
<li><strong>Image</strong>: <code>Ubuntu, Standard_Ubuntu_22.04_latest(6 GiB)</code></li>
<li><strong>System Disk</strong>: <code>General Purpose SSD</code>, <code>100GiB</code></li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.11.0/24</code></li>
<li><strong>Security Groups</strong>: add <code>rds-dokploy-clients</code> and <code>ecs-dokploy</code> additionally to <code>default</code>.</li>
<li><strong>ECS Name</strong>: <code>ecs-dokploy-manager</code></li>
<li><strong>Key Pair</strong>: <code>KeyPair-Dokploy</code></li>
<li><strong>ECS Group</strong>: <code>srvgrp-dokploy</code></li>
<li><strong>Quantity</strong>: <code>3</code></li>
</ul><p>and click <em>Confirm</em> -&gt; <em>Create Now</em>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Elastic Cloud Server</em> and click <em>Create ECS</em> and configure it with the following settings:</p><ul>
<li><strong>AZ</strong>: <code>Random</code></li>
<li><strong>Multi-AZ Deployment</strong>: <!-- -->✅</li>
<li><strong>Flavor</strong>: <code>s7n.xlarge.4</code></li>
<li><strong>Image</strong>: <code>Ubuntu, Standard_Ubuntu_22.04_latest(6 GiB)</code></li>
<li><strong>System Disk</strong>: <code>General Purpose SSD</code>, <code>100GiB</code></li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.11.0/24</code></li>
<li><strong>Security Groups</strong>: add <code>rds-dokploy-clients</code> and <code>ecs-dokploy</code> additionally to <code>default</code>.</li>
<li><strong>ECS Name</strong>: <code>ecs-dokploy-worker</code></li>
<li><strong>Key Pair</strong>: <code>KeyPair-Dokploy</code></li>
<li><strong>ECS Group</strong>: <code>srvgrp-dokploy</code></li>
<li><strong>Quantity</strong>: <code>3</code></li>
</ul><p>and click <em>Confirm</em> -&gt; <em>Create Now</em>.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Elastic Cloud Server</em> and click <em>Create ECS</em> and configure it with the following settings:</p><ul>
<li><strong>AZ</strong>: <code>Random</code></li>
<li><strong>Flavor</strong>: <code>s7n.medium.2</code></li>
<li><strong>Image</strong>: <code>Ubuntu, Standard_Ubuntu_22.04_latest(6 GiB)</code></li>
<li><strong>System Disk</strong>: <code>General Purpose SSD</code>, <code>40GiB</code></li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.10.0/24</code></li>
<li><strong>Security Groups</strong>: add <code>rds-dokploy-clients</code> and <code>ssh-dokploy</code> additionally to <code>default</code>.</li>
<li><strong>ECS Name</strong>: <code>ecs-dokploy-bastion</code></li>
<li><strong>Key Pair</strong>: <code>KeyPair-Dokploy</code></li>
<li><strong>Quantity</strong>: <code>1</code></li>
</ul><p>and click <em>Confirm</em> -&gt; <em>Create Now</em>.</p></div></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Deploy all seven(7) ECS instances and <strong>carefully verify that each instance is assigned to the correct subnet</strong>.</p></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_07-31-08-64cb58925eda2a620c74ca4c22594cc0.png" width="1907" height="831" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-sfs-turbo-file-system">Creating an SFS Turbo File System<a href="#creating-an-sfs-turbo-file-system" class="hash-link" aria-label="Direct link to Creating an SFS Turbo File System" title="Direct link to Creating an SFS Turbo File System" translate="no">​</a></h3>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Scalable File System</em> -&gt; <em>SFS Turbo</em> -&gt; <em>File Systems</em> and click <em>Create File System</em>.
Name the instance <code>sfs-turbo-dokploy</code> and configure it with the following settings, and click <em>Create Now</em> -&gt; <em>Submit</em>:</p>
<ul>
<li><strong>Type</strong>: <code>Standard</code> (Old Generation)</li>
<li><strong>Capacity</strong>: <code>500GB</code></li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code> and <strong>Subnet</strong>: <code>10.199.11.0/24</code></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You need the <a href="https://docs.otc.t-systems.com/scalable-file-service/umn/faqs/concepts/what_is_sfs_turbo.html" target="_blank" rel="noopener noreferrer">SFS Turbo</a> share because anything you bind-mount into a Swarm service must exist identically on every node where that task might land,
and local Docker volumes are node-scoped. In our design the control-plane services (Traefik, Dokploy, Portainer) run on any manager;
during updates or failover Swarm can relocate a replica to a different manager. If a service relies on a host path such as <strong>/etc/traefik/traefik.yml</strong>,
<strong>/etc/dokploy</strong>, or persistent UI data, that path must contain the same bytes on every manager or the task will be rejected or start with divergent
configuration. Mounting a single NFSv4 export from SFS Turbo at the same mountpoint on each manager gives you a shared POSIX filesystem with
consistent paths and semantics, so the bind mounts resolve everywhere, the configuration becomes a single source of truth, and rescheduling doesn&#x27;t
break because bind source path might not exist or because of stale files.</p><p>This matters for more than configuration. If you keep Portainer or Dokploy state on a node-local volume, you either have to pin the service to
that node forever or accept losing state on failover. With SFS Turbo you move that state onto network storage that all managers can read and write,
so you can keep replicas movable and still preserve data. It also gives you a neutral place to store artifacts that multiple containers need at once;
Traefik dynamic files, bootstrap templates, backup snapshots, build caches without inventing your own replication. Because SFS Turbo is a managed,
high-throughput NFS service inside the VPC, you get low latency from every ECS, consistent locking and file permissions, and durability features
such as snapshots; operationally it&#x27;s much simpler and safer than trying to mirror directories across nodes or relying on ad-hoc rsync jobs.
In short, the share decouples service scheduling from host persistence: Swarm can freely reschedule managers, and your control-plane services
still find their config and data exactly where they expect it.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-obs-bucket">Creating an OBS Bucket<a href="#creating-an-obs-bucket" class="hash-link" aria-label="Direct link to Creating an OBS Bucket" title="Direct link to Creating an OBS Bucket" translate="no">​</a></h3>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Object Storage Service</em> -&gt; <em>Object Storage</em> and click <em>Create Bucket</em>.
Name the instance <code>obs-dokploy</code> and configure it with the following settings, and click <em>Create Now</em>:</p>
<ul>
<li><strong>Region</strong>: the same region as you&#x27;ve already chosen to run this lab</li>
<li><strong>Storage Class</strong>: <code>Standard</code></li>
<li><strong>Bucket Policies</strong>: <code>Private</code></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Dokploy needs an object store because it is not just a control plane; it orchestrates full application lifecycles, including builds, deployments,
backups, and artifacts. A relational database and a key-value store are fine for state and coordination, but they are not suitable for
storing container images, large build outputs, tarballs, or user-generated assets. Those files have to live in a storage system that can
handle unbounded growth, is durable by design, and can be addressed consistently no matter where a container runs.</p><p>When Dokploy builds an application from source or exports a backup, it stages artifacts in object storage and later fetches them back for deployment.
This indirection allows workloads to be moved between Swarm nodes without having to replicate gigabytes of data across managers. Using an OBS bucket
also integrates neatly with Dokploy&#x27;s workflow for volume backups: instead of keeping snapshots on ephemeral node disks, backups are written once
to OBS, where they are durable, versioned if you enable it, and available to restore on any new cluster.</p><p>Another important reason is compatibility. Dokploy assumes an S3 endpoint for its storage backend, which means it can treat local deployments and
cloud deployments the same way. By giving it an OBS bucket, you satisfy that contract with an API that looks like AWS S3 but lives entirely in Open Telekom Cloud,
taking advantage of built-in durability and regional replication. This reduces operational burden compared to stitching together your own distributed file
service for large objects (e.g. with <a href="https://www.min.io/" target="_blank" rel="noopener noreferrer">MinIO</a>).</p><p>In practice the OBS bucket becomes the persistent layer for Dokploy&#x27;s heavy binary data, while Postgres tracks metadata
and Redis accelerates queries. Together, those three backends give Dokploy all the persistence primitives it needs: structured state, ephemeral cache,
and durable object storage.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-nat-gateway">Creating a NAT Gateway<a href="#creating-a-nat-gateway" class="hash-link" aria-label="Direct link to Creating a NAT Gateway" title="Direct link to Creating a NAT Gateway" translate="no">​</a></h2>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>NAT Gateway</em> -&gt; <em>Public NAT Gateways</em> and click <em>Create Public NAT Gateway</em>. Call it <code>nat-dokploy</code> and assign
it to the <code>vpc-dokploy</code> VPC and place it in the subnet <code>10.199.10.0/24</code>. Set <strong>Specifications</strong> to <code>Small</code> and click <em>Create Now</em>.
Skip adding rules at this stage; we will configure them later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configurating-snat--dnat-rules">Configurating SNAT &amp; DNAT Rules<a href="#configurating-snat--dnat-rules" class="hash-link" aria-label="Direct link to Configurating SNAT &amp; DNAT Rules" title="Direct link to Configurating SNAT &amp; DNAT Rules" translate="no">​</a></h3>
<ol>
<li>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Elastic IP &amp; Bandwidth</em> -&gt; <em>EIPs</em> and click <em>Assign EIP</em>. Name it <code>eip-natgw-dokploy</code> and configure
it with the following settings, and click <em>Create Now</em> -&gt; <em>Submit</em>:</p>
<ul>
<li><strong>EIP Type</strong>: <code>Dynamic BGP</code></li>
<li><strong>Billed By</strong>: <code>Dedicated</code></li>
<li><strong>Bandwidth (Mbit/s)</strong>: <code>50</code> (that is an indicative value, adjust according to your needs)</li>
</ul>
</li>
<li>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>NAT Gateway</em> -&gt; <em>Public NAT Gateways</em> and select the NAT gateway you created earlier.</p>
</li>
<li>
<p>Click <em>SNAT Rules</em> -&gt; <em>Add SNAT Rule</em> select the EIP you created earlier (<strong>eip-natgw-dokploy</strong>) and click <em>OK</em>.</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_06-29-02-5958cbf33d74035da33d84b01499b04a.png" width="1916" height="832" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Repeat this step for each subnet in <strong>vpc-dokploy</strong>.</p></div></div>
</li>
<li>
<p>Click <em>DNAT Rules</em> -&gt; <em>Add DNAT Rule</em> and configure it with the following settings:</p>
<ul>
<li><strong>Scenario</strong>: <code>VPC</code></li>
<li><strong>Port Type</strong>: <code>Specific Port</code></li>
<li><strong>Protocol</strong>: <code>TCP</code></li>
<li><strong>Public IP Address Type</strong>: <code>EIP</code> and select from the list the EIP you created earlier.</li>
<li><strong>Outside Port</strong>: <code>2200</code></li>
<li><strong>Instance Type</strong>: <code>Server</code> and select <code>ecs-dokploy-bastion</code> from the list.</li>
<li><strong>Inside Port</strong>: <code>22</code></li>
</ul>
<p>and click <em>OK</em>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-elastic-load-balancer">Creating an Elastic Load Balancer<a href="#creating-an-elastic-load-balancer" class="hash-link" aria-label="Direct link to Creating an Elastic Load Balancer" title="Direct link to Creating an Elastic Load Balancer" translate="no">​</a></h2>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Elastic Load Balancing</em> and click <em>Create Elastic Load Balancer</em>. Name the instance <code>elb-dokploy</code>
and configure it with the following settings, and click <em>Create Now</em> -&gt; <em>Submit</em>:</p>
<ul>
<li><strong>Type</strong>: <code>Dedicated</code></li>
<li><strong>AZ</strong>: select <em>all</em> the available options</li>
<li>Enable both <strong>Application</strong> and <strong>Network Load Balancing</strong> (choose the specs that fit more to your needs)</li>
<li><strong>VPC</strong>: <code>vpc-dokploy</code></li>
<li><strong>Frontend Subnet</strong>: <code>10.199.10.0/24</code></li>
<li><strong>Backend Subnet</strong>: <code>10.199.11.0/24</code></li>
<li><strong>EIP</strong>: select <em>New IP</em></li>
<li><strong>Bandwidth</strong>: <code>300Mbit/s</code></li>
</ul>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_07-22-46-88b1785f1ebb5a7f8a31fd74dbc0a2a2.png" width="1907" height="831" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Make a note of the EIP of the load balancer, as it will be required in the next steps when creating the necessary DNS records.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-dns-records">Creating DNS Records<a href="#creating-dns-records" class="hash-link" aria-label="Direct link to Creating DNS Records" title="Direct link to Creating DNS Records" translate="no">​</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>You must delegate the management of your domain&#x27;s NS records to the Open Telekom Cloud Domain Name Service.
At your domain registrar, configure the following:</p><ul>
<li>Disable any dynamic DNS service for the domain or for the subdomain you plan to use with Dokploy.</li>
<li>Update the NS records of your domain to point to <code>ns1.open-telekom-cloud.com</code> and <code>ns2.open-telekom-cloud.com</code>.</li>
</ul><p>Once these changes are in place, you can proceed to create a new DNS Public Zone and the required record sets for your domain in Open Telekom Cloud.</p><p>If delegating domain management to Open Telekom Cloud DNS <strong>is not an option</strong>,
you will need to apply the following steps in your existing DNS service (for example, at your registrar or through Cloudflare).</p></div></div>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Domain Name Service</em> -&gt; <em>Public Zones</em> and select the zone corresponding
to the domain through which you will expose Dokploy and the workloads hosted on it. Create the following A Records by clicking <em>Add Record Set</em>:</p>
<table><thead><tr><th>Domain</th><th>Type</th><th>TTL (s)</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>*.dokploy.example.com</td><td>A</td><td>300</td><td>EIP_ELB</td><td>Wildcard record for all applications exposed through Dokploy via the ELB</td></tr><tr><td>dokploy.example.com</td><td>A</td><td>300</td><td>EIP_ELB</td><td>Root domain pointing to the ELB, reserved for future use or redirects</td></tr><tr><td>console.dokploy.example.com</td><td>A</td><td>300</td><td>EIP_ELB</td><td>Dokploy management console routed through the ELB</td></tr><tr><td>bastion.dokploy.example.com</td><td>A</td><td>300</td><td>EIP_NATGW</td><td>Bastion host used for administrative SSH access to the Swarm cluster</td></tr><tr><td>portainer.dokploy.example.com</td><td>A</td><td>300</td><td>EIP_ELB</td><td><a href="https://www.portainer.io/" target="_blank" rel="noopener noreferrer">Portainer</a> UI for Swarm management, exposed through the ELB (Optional)</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Replace <strong>EIP_ELB</strong> and <strong>EIP_NATGW</strong> with the actual Elastic IP addresses assigned to the load balancer and the NAT gateway.</p></div></div>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_08-11-44-879227c77e8fb04fa33b9bf08bb0485e.png" width="1907" height="694" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-swarm">Creating the Swarm<a href="#creating-the-swarm" class="hash-link" aria-label="Direct link to Creating the Swarm" title="Direct link to Creating the Swarm" translate="no">​</a></h2>
<ol>
<li>
<p>Use a tool such as <a href="https://linux.die.net/man/1/dig" target="_blank" rel="noopener noreferrer">dig</a> or <a href="https://github.com/mr-karan/doggo" target="_blank" rel="noopener noreferrer">doggo</a> to verify that the bastion host domain resolves to the Elastic IP address of the NAT gateway:</p>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">dig</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">doggo</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong>dig</strong> (Domain Information Groper) is a widely used command-line DNS client included in most Unix-like systems. It is commonly used for
troubleshooting and verifying DNS records, providing detailed output about queries and responses.
<strong>dig</strong> supports multiple query types and
options, making it a standard tool for administrators to inspect domain resolution and DNS server behavior.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> dnsutils</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">dig</span><span class="token plain"> +short bastion.dokploy.example.com</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><strong>doggo</strong> is a modern command-line DNS client, similar to <strong>dig</strong>, developed in Go.
It provides clear and concise output and supports additional protocols such as DoH, DoT, DoQ, and DNSCrypt.</p><div class="language-terminal codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-terminal codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">curl -sS https://raw.githubusercontent.com/mr-karan/doggo/main/install.sh | sh</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">doggo bastion.dokplay.example.com</span><br></span></code></pre></div></div></div></div></div>
</li>
<li>
<p>Copy the KeyPair we created previously to the bastion host:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">chmod</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">400</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">scp</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-P</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">2200</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem ubuntu@bastion.dokploy.example.com:/home/ubuntu/.ssh</span><br></span></code></pre></div></div>
</li>
<li>
<p>Connect to the bastion host using SSH:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">ssh</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-p</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">2200</span><span class="token plain"> ubuntu@bastion.dokploy.example.com</span><br></span></code></pre></div></div>
<p>and from the bastion host, connect in sequence to <strong>each</strong> manager node, e.g.:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">ssh</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem </span><span class="token number" style="color:hsl(29, 54%, 61%)">10.199</span><span class="token plain">.11.xxx</span><br></span></code></pre></div></div>
</li>
<li>
<p>Deploy Docker and various utilities on <strong>every</strong> node:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token comment" style="color:hsl(220, 10%, 40%)"># basic packages</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt-get</span><span class="token plain"> update </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-y</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-y</span><span class="token plain"> ca-certificates </span><span class="token function" style="color:hsl(207, 82%, 66%)">curl</span><span class="token plain"> gnupg nfs-common</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-sSL</span><span class="token plain"> https://get.docker.com </span><span class="token operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">groupadd</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">usermod</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-aG</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token environment constant" style="color:hsl(29, 54%, 61%)">$USER</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">newgrp </span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><br></span></code></pre></div></div>
</li>
<li>
<p>From the bastion host, connect to the first manager node using its private IP address:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">ssh</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> ~/.ssh/KeyPair-Dokploy.pem </span><span class="token number" style="color:hsl(29, 54%, 61%)">10.199</span><span class="token plain">.11.141</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>critical</div><div class="admonitionContent_BuS1"><p>Replace <code>10.199.11.141</code> with the private IP address of the first manager node in your environment.</p></div></div>
</li>
<li>
<p>Initialize the Docker Swarm:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">PRIVATE_IP</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token variable" style="color:hsl(207, 82%, 66%)">$(</span><span class="token variable function" style="color:hsl(207, 82%, 66%)">ip</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable parameter variable" style="color:hsl(207, 82%, 66%)">-4</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> addr show ens3 </span><span class="token variable operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable function" style="color:hsl(207, 82%, 66%)">awk</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable string" style="color:hsl(95, 38%, 62%)">&#x27;/inet /{print $2}&#x27;</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token variable function" style="color:hsl(207, 82%, 66%)">cut</span><span class="token variable" style="color:hsl(207, 82%, 66%)"> -d/ </span><span class="token variable parameter variable" style="color:hsl(207, 82%, 66%)">-f1</span><span class="token variable" style="color:hsl(207, 82%, 66%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> swarm init --advertise-addr </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$PRIVATE_IP</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><br></span></code></pre></div></div>
<p>If the initialization completes successfully, a message similar to the following will appear:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">Swarm initialized: current </span><span class="token function" style="color:hsl(207, 82%, 66%)">node</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token plain">096mm1ulpf7u0frrme514t99z</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> is now a manager.</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">To </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> a **worker** to this swarm, run the following command:</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> swarm </span><span class="token function" style="color:hsl(207, 82%, 66%)">join</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--token</span><span class="token plain"> SWMTKN-1-6bqpqrh7ztq5u5y465kvvbyjodxzzekrxzyofymt5al4jpx1e7-a0uwmu7mfdrqdne0iyqs65brz </span><span class="token number" style="color:hsl(29, 54%, 61%)">10.199</span><span class="token plain">.11.141:2377</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">To </span><span class="token function" style="color:hsl(207, 82%, 66%)">add</span><span class="token plain"> a **manager** to this swarm, run </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;docker swarm join-token manager&#x27;</span><span class="token plain"> and follow the instructions.</span><br></span></code></pre></div></div>
<p>Run the command provided in the response to add a <strong>manager</strong> to the swarm. You should then see a message similar to the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> swarm </span><span class="token function" style="color:hsl(207, 82%, 66%)">join</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--token</span><span class="token plain"> SWMTKN-1-6bqpqrh7ztq5u5y465kvvbyjodxzzekrxzyofymt5al4jpx1e7-0xfr1nmmigpsqo1mowkdxpg6s </span><span class="token number" style="color:hsl(29, 54%, 61%)">10.199</span><span class="token plain">.11.141:2377</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>critical</div><div class="admonitionContent_BuS1"><p>Note down the two join-token commands that are generated, one for managers and one for workers, and ensure they are not mixed up when
applied to the respective nodes during the next steps.</p></div></div>
</li>
<li>
<p>Create an overlay network on the first manager:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> network create </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--driver</span><span class="token plain"> overlay </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--attachable</span><span class="token plain"> dokploy-network</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>You need to create the network once. Swarm then ensures that <strong>any</strong> node which runs a service attached
to that network gets a local dataplane endpoint automatically.</p></div></div>
</li>
<li>
<p>From the bastion host, connect to <strong>each</strong> node and <strong>run the appropriate join command based on its assigned role in the swarm</strong>.</p>
</li>
<li>
<p>From the bastion host, connect to <strong>each</strong> node and mount the SFS Turbo share (including the bastion):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-p</span><span class="token plain"> /mnt/sfs_turbo</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;10.199.11.11:/ /mnt/sfs_turbo nfs vers=3,nolock,noresvport,proto=tcp,rsize=1048576,wsize=1048576,timeo=600,retrans=2,hard,_netdev,x-systemd.automount,bg,nofail 0 0&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">tee</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><span class="token plain"> /etc/fstab</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mount</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>critical</div><div class="admonitionContent_BuS1"><p>Replace <code>10.199.11.11</code> with the private IP address of the SFS Turbo share in your environment.</p></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-traefik">Deploying Traefik<a href="#deploying-traefik" class="hash-link" aria-label="Direct link to Deploying Traefik" title="Direct link to Deploying Traefik" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-traefik-as-a-global-service">Deploying Traefik as a Global Service<a href="#deploying-traefik-as-a-global-service" class="hash-link" aria-label="Direct link to Deploying Traefik as a Global Service" title="Direct link to Deploying Traefik as a Global Service" translate="no">​</a></h4>
<p>Connect to any manager node (preferrably the first) and create a file named <code>traefik.yml</code> in the <code>/mnt/sfs_turbo</code> directory:</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Replace <code>10.199.0.0/16</code> with the CIDR block of your VPC.</p></div></div>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockTitle_OeMC">traefik.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">entryPoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">web</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">address</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;:80&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">forwardedHeaders</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">insecure</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">trustedIPs</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> 10.199.0.0/16</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> 100.64.0.0/10</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">transport</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">respondingTimeouts</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">readTimeout</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">writeTimeout</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">idleTimeout</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 180s</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">lifeCycle</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">graceTimeOut</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ping</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">entryPoint</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">api</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">dashboard</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">providers</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">docker</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">swarmMode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">watch</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">exposedByDefault</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">network</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">log</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">level</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> INFO</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">accessLog</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">bufferingSize</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">fields</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">defaultMode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> keep</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>TLS Termination &amp; ELB Health Checks</div><div class="admonitionContent_BuS1"><p>Traefik is deployed in Swarm as a <strong>global service</strong>, ensuring one instance runs on every manager node. Because Traefik OSS cannot
reliably share ACME certificate state across replicas, TLS termination is handled at the <strong>Open Telekom Cloud Elastic Load Balancer (ELB)</strong> instead.
The ELB manages certificates and enforces automatic redirection from <code>HTTP/80</code> to <code>HTTPS/443</code>, while Traefik itself only receives plain HTTP
traffic on port 80. An alternative would be to use <strong>Traefik Enterprise</strong>, which supports distributed certificate storage, but it is not
a free open-source product.</p><p>Access to Traefik is restricted so that it only accepts requests originating from the VPC subnets and from Open Telekom Cloud infrastructure
IP ranges. For health monitoring, Traefik exposes an endpoint at <code>/ping</code>. This endpoint will be used in the next step when configuring an
ELB listener to track backend health.</p></div></div>
<p>Connect to any manager node via SSH, and deploy traefik as a global service:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">service</span><span class="token plain"> create </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--name</span><span class="token plain"> traefik </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--mode</span><span class="token plain"> global </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--constraint</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;node.role==manager&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--network</span><span class="token plain"> dokploy-network </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--mount</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">type</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">bind,src</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">/var/run/docker.sock,dst</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">/var/run/docker.sock </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--mount</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">type</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">bind,src</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">/mnt/sfs_turbo/traefik.yml,dst</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">/etc/traefik/traefik.yml,ro </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--publish</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">mode</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">host,target</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain">,published</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">80</span><span class="token plain">,protocol</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">tcp </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    traefik:v2.10.0 </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--configFile</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">/etc/traefik/traefik.yml</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-wildcard-certificate">Creating Wildcard Certificate<a href="#creating-wildcard-certificate" class="hash-link" aria-label="Direct link to Creating Wildcard Certificate" title="Direct link to Creating Wildcard Certificate" translate="no">​</a></h4>
<p>A wildcard certificate is required because the entire platform is designed to expose not just a single control-plane endpoint,
but a dynamic and potentially unbounded set of application domains beneath the same base DNS zone. Dokploy provisions new applications
on the fly and binds them to subdomains such as <code>app1.dokploy.example.com</code>, <code>api.dokploy.example.com</code>, or <code>console.dokploy.example.com</code>.
If you were to use individual certificates for each host, you would have to request, issue, and renew a new certificate every time
an application is deployed, which introduces operational complexity and renewal failures under load.</p>
<p>By using a wildcard certificate for <code>*.dokploy.example.com</code>, the ELB can terminate TLS for any present or future subdomain without having
to be reconfigured. All HTTPS handshakes succeed because the certificate matches the pattern of the hostname, regardless of which application
Traefik forwards the traffic to. This design also separates responsibilities cleanly: the ELB is responsible for presenting a valid chain
of trust to the client, while Traefik only has to handle HTTP routing inside the cluster. Without the wildcard, you would need either
centralized certificate management inside Traefik with distributed ACME storage, which Traefik OSS cannot do safely, or you would be forced
to update the ELB configuration for every new app domain. The wildcard makes the system elastic: new services can be deployed and exposed
under unique subdomains immediately, with no TLS changes, while still maintaining full encryption and trust at the entry point.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>If you already have a wildcard certificate for the domain you plan to use, you can skip this step and proceed directly to <a href="#creating-elb-listeners">configuring
the ELB listeners</a>.</p></div></div>
<p>Deploy the <a href="https://github.com/certbot/certbot" target="_blank" rel="noopener noreferrer">certbot</a> on your workstation:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-y</span><span class="token plain"> certbot</span><br></span></code></pre></div></div>
<p>We are going to use certbot to issue a TLS certificate for both the base domain <code>dokploy.example.com</code> and every possible subdomain under it
via the wildcard pattern <code>*.dokploy.example.com</code>. Execute the command below, and follow the instructions of the certbot to complete the task:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> certbot certonly </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--manual</span><span class="token plain"> --preferred-challenges dns </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;*.dokploy.example.com&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;dokploy.example.com&quot;</span><br></span></code></pre></div></div>
<p>at a certain point the certbot will request from you to add a TXT record in DNS, e.g.:</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_13-27-45-16c3f4f7c74b3a7afb988b2466f65fa9.png" width="740" height="255" class="img_ev3q"></p>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Domain Name Service</em> -&gt; <em>Public Zones</em> and select the zone corresponding
to the domain through which you will expose Dokploy and the workloads hosted on it. Create a TXT Record by clicking <em>Add Record Set</em> and filling as value
the information expected by certbot. Return to the terminal and press <em>Enter</em> to continue.</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_13-35-10-13c54935d927e57d00b0dd948719d3e2.png" width="1910" height="790" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>We this command we are going to obtain a certificate but not install it. Certbot will fetch the cert and place it under <strong>/etc/letsencrypt/live/dokploy.example.com</strong>,
leaving you to configure the load balancer manually.</p><ul>
<li><code>--manual</code>, instructs Certbot not to use an automated DNS or HTTP plugin, but instead to guide you through the challenge process manually. In this mode it will stop and display TXT records that you must create in your domain’s DNS zone.</li>
<li>-<code>-preferred-challenges</code>, dns forces certbot to use a <em>DNS-01</em> challenge. This is required for issuing a wildcard certificate, because
Let&#x27;s Encrypt only allows wildcards to be validated through proving control of the domain via DNS TXT records.</li>
<li><code>-d &quot;*.dokploy.example.com&quot;</code>, requests coverage for all subdomains of <strong>dokploy.example.com</strong>.</li>
<li><code>-d &quot;dokploy.example.com&quot;</code>, requests coverage for the apex domain itself, so that both <strong>console.dokploy.example.com</strong> and the bare <strong>dokploy.example.com</strong>
resolve with a valid certificate.</li>
</ul><p>Certbot will obtain a Let&#x27;s Encrypt wildcard certificate valid for *<strong>.dokploy.example.com</strong> and <strong>dokploy.example.com</strong>, by instructing you to place specific
<code> _acme-challenge</code> TXT records in DNS. Once you prove ownership through DNS, certbot downloads the certificate files, which you can then upload in
Open Telekom Cloud and use in your ELB to terminate TLS for the entire platform.</p></div></div>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Elastic Load Balancing</em> -&gt; <em>Certificates</em> and click <em>Add Certificate</em>. Name it <code>cert-wildcard-dokploy</code>
and configure it with the following settings and click <em>OK</em>:</p>
<ul>
<li><strong>Certificate Type</strong>: <code>Server certificate</code></li>
<li><strong>Certificate Content</strong>: upload <strong>/etc/letsencrypt/live/dokploy.example.com/fullchain.pem</strong> (or paste directly the contents)</li>
<li><strong>Private Key</strong>: upload <strong>/etc/letsencrypt/live/dokploy.example.com/privkey.pem</strong> (or paste directly the contents)</li>
<li><strong>Domain Name</strong>: <code>dkploy.example.com,*.dkploy.example.com</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-elb-listeners">Creating ELB Listeners<a href="#creating-elb-listeners" class="hash-link" aria-label="Direct link to Creating ELB Listeners" title="Direct link to Creating ELB Listeners" translate="no">​</a></h4>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Elastic Load Balancing</em> -&gt; <em>Load Balancers</em>, select the ELB we created for this lab and click <em>Add Listener</em>.
Name it <code>listener_managers-https</code> and configure it with the following settings:</p>
<ul>
<li><strong>Frontend Protocol</strong>: <code>HTTPS</code></li>
<li><strong>Frontend Port</strong>: <code>443</code></li>
<li><strong>SSL Authentication</strong>: <code>One-way authentication</code></li>
<li><strong>Server Certificate</strong>: select <code>cert-wildcard-dokploy</code> from the list</li>
</ul>
<p>click <em>Next: Configure Request Routing Policy</em>, and configure the following:</p>
<ul>
<li><strong>Backend Server Group</strong>: choose <code>Create new</code></li>
<li><strong>Backend server group name</strong>: <code>server_group-managers</code></li>
<li><strong>Backend Protocol</strong>: <code>HTTP</code></li>
</ul>
<p>click <em>Next: Add Backend Server</em> -&gt; <em>Add Backend Server</em>, select <strong>ALL</strong> the manager nodes from the list and set:</p>
<ul>
<li><strong>Backend Port</strong>: <code>80</code></li>
<li><strong>Weight</strong>: <code>1</code></li>
</ul>
<p>click <em>Health Check</em> -&gt; <em>Advanced Settings</em> and set:</p>
<ul>
<li><strong>Path</strong>: <code>/ping</code></li>
</ul>
<p>and finally <em>Next: Confirm</em> -&gt; <em>Submit</em>.If the configuration above applied correct and Traefik is running in the backgroup as global service,
you should see a healthy status for each backend group member after a few seconds:</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_16-27-44-5f44e144f077e6a97b00c1937361b30d.png" width="1910" height="795" class="img_ev3q"></p>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Network Console</em> -&gt; <em>Elastic Load Balancing</em> -&gt; <em>Load Balancers</em>, select the ELB we created for this lab and click <em>Add Listener</em>.
Name it <code>listener_managers-http</code> and configure it with the following settings:</p>
<ul>
<li><strong>Frontend Protocol</strong>: <code>HTTP</code></li>
<li><strong>Frontend Port</strong>: <code>80</code></li>
<li><strong>Redirect</strong>: <!-- -->✅</li>
<li><strong>Redirect</strong>: choose <code>listener_managers-https</code> from the list</li>
</ul>
<p>click <em>Next: Confirm</em> -&gt; <em>Submit</em>.</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_16-36-11-a68b46e7afeaf5d3023ad275966b8deb.png" width="1910" height="795" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-portainer-optional">Deploying Portainer (Optional)<a href="#deploying-portainer-optional" class="hash-link" aria-label="Direct link to Deploying Portainer (Optional)" title="Direct link to Deploying Portainer (Optional)" translate="no">​</a></h3>
<p>Connect to any manager node (preferrably the first) and create a file named <code>portainer-stack.yml</code> in the <code>/mnt/sfs_turbo</code> directory:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockTitle_OeMC">portainer-stack.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;3.8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">networks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">dokploy-network</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">external</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">portainer_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">agent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> portainer/agent</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">2.21.4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">environment</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> AGENT_CLUSTER_ADDR=tasks.agent</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> /var/run/docker.sock</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/var/run/docker.sock</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> /var/lib/docker/volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/var/lib/docker/volumes</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">networks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">mode</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> global</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">placement</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">constraints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> node.platform.os == linux</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">portainer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> portainer/portainer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">ce</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">2.21.4</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">command</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token scalar string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token scalar string" style="color:hsl(95, 38%, 62%)">      -H tcp://tasks.agent:9001</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token scalar string" style="color:hsl(95, 38%, 62%)">      --tlsskipverify</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> portainer_data</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/data</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">networks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">replicas</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">placement</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">constraints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> node.role == manager</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.enable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Router</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.routers.portainer.rule</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Host(`portainer.dokploy.example.com`)</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.routers.portainer.entrypoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.routers.portainer.middlewares</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> portainer</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">https</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">hdr</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Service (backend)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.portainer.loadbalancer.server.port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;9000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.portainer.loadbalancer.server.scheme</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.portainer.loadbalancer.passHostHeader</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Force headers so Portainer knows TLS was at the ELB</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.middlewares.portainer-https-hdr.headers.customRequestHeaders.X-Forwarded-Proto</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;https&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.middlewares.portainer-https-hdr.headers.customRequestHeaders.X-Forwarded-Port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;443&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.middlewares.portainer-https-hdr.headers.customRequestHeaders.X-Forwarded-Host</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;portainer.dokploy.example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># Make sure Traefik connects over the right overlay network</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.docker.network</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;dokploy-network&quot;</span><br></span></code></pre></div></div>
<p>and then deploy the stack:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> stack deploy </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-c</span><span class="token plain"> /mnt/sfs_turbo/portainer-stack.yml portainer</span><br></span></code></pre></div></div>
<p>Swarm will:</p>
<ul>
<li>start one Portainer server on a manager,</li>
<li>start an agent on <strong>every</strong> node,</li>
<li>and Traefik will route <a href="https://portainer.dokploy.example.com" target="_blank" rel="noopener noreferrer">https://portainer.dokploy.example.com</a> (ELB -&gt; Traefik :80 -&gt; Portainer :9000).</li>
</ul>
<p>Open the URL and set the admin password on first login.</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-23_16-55-06-d5a5c88ef21850083eec16badcfaefbf.png" width="1915" height="969" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Portainer gives a clean, web-based control plane for everything running on Swarm, which dramatically lowers the operational friction of the
platform we just built. Instead of hopping between managers and executing <code>docker</code> commands, we can get real-time visibility of services, tasks,
nodes, networks, volumes, logs, container consoles, and placement/health details when something misbehaves. It integrates with Swarm natively,
so we can deploy and update stacks directly from the UI or from Git, inspect configs and secrets without copying them around, roll back a service
if an update breaks, and confirm constraints and overlay network changes.</p><p>In the architecture of this blueprint specifically (where ELB is terminating TLS, Traefik on the managers, and an external overlay for ingress)
Portainer sits behind the same Traefik reverse proxy.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-dokploy">Deploying Dokploy<a href="#deploying-dokploy" class="hash-link" aria-label="Direct link to Deploying Dokploy" title="Direct link to Deploying Dokploy" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-the-database">Preparing the Database<a href="#preparing-the-database" class="hash-link" aria-label="Direct link to Preparing the Database" title="Direct link to Preparing the Database" translate="no">​</a></h4>
<p>Go to <em>Open Telekom Cloud Console</em> -&gt; <em>Relational Database Service</em>. Choose your database, go to <em>Plugins</em>,
search the catalog for the <strong>pgcrypto</strong> plugin, and install it:</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-24_07-23-15-61f6bde45a01ab574ad18837985a17e8.png" width="1917" height="795" class="img_ev3q"></p>
<p>Connect to the bastion host using SSH and install the following tools:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">sudo</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-y</span><span class="token plain"> postgresql-client netcat redis-tools</span><br></span></code></pre></div></div>
<p>Next we need to initialize our environment variables and create a <code>.pgpass</code> file to simplify future access to the database:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">cat</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> .env </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;&lt;</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;EOF&#x27;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">RDS_HOST=&quot;REPLACE_WITH_VALUE&quot;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">RDS_PORT=&quot;5432&quot;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">RDS_USER=&quot;root&quot;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">RDS_PASSWORD=&quot;REPLACE_WITH_VALUE&quot;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">REDIS_HOST=REPLACE_WITH_VALUE</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">REDIS_PORT=6379</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">TRAEFIK_HOST=console.dokploy.example.com</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">POSTGRES_HOST=REPLACE_WITH_VALUE</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">POSTGRES_PORT=5432</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">POSTGRES_DB=dokploy</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">POSTGRES_USER=dokploy</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">source</span><span class="token plain"> .env </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> +a</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_HOST}</span><span class="token string" style="color:hsl(95, 38%, 62%)">:</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_PORT}</span><span class="token string" style="color:hsl(95, 38%, 62%)">:*:</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">:</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_PASSWORD}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;</span><span class="token plain"> ~/.pgpass </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">chmod</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">600</span><span class="token plain"> ~/.pgpass</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Substitute all instances of <code>REPLACE_WITH_VALUE</code> and <code>TRAEFIK_HOST</code> with the actual values specific to your environment.</p></div></div>
<p>Next we are going to create a script that will idempotently create the dokploy role and database,
while also ensuring the public schema ownership is correctly assigned. It is designed so it can be re-run safely without causing errors:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockTitle_OeMC">bootstrap_dokploy.sh</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token shebang important" style="color:hsl(220, 14%, 71%);font-weight:bold">#!/usr/bin/env bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-euo</span><span class="token plain"> pipefail</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># --- required: RDS connection for the *admin* user (root) ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_HOST</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:?</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">set RDS_HOST}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_PORT</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">5432}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_USER</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">root}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># If your root password is in ~/.pgpass, you don&#x27;t need RDS_PASSWORD here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># --- dokploy app db/user ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">dokploy}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">dokploy}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># If not provided, autogenerate</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">DOKPLOY_PASSWORD</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_PASSWORD</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:-</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${DOKPLOY_PASSWORD</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:-</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">}</span><span class="token string" style="color:hsl(95, 38%, 62%)">}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">[</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-z</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${DOKPLOY_PASSWORD}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">]</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">DOKPLOY_PASSWORD</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$(</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">openssl rand </span><span class="token string variable parameter variable" style="color:hsl(207, 82%, 66%)">-base64</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable number" style="color:hsl(29, 54%, 61%)">32</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable function" style="color:hsl(207, 82%, 66%)">tr</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable parameter variable" style="color:hsl(207, 82%, 66%)">-dc</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable string" style="color:hsl(95, 38%, 62%)">&#x27;A-Za-z0-9&#x27;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">|</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable function" style="color:hsl(207, 82%, 66%)">head</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable parameter variable" style="color:hsl(207, 82%, 66%)">-c</span><span class="token string variable" style="color:hsl(207, 82%, 66%)"> </span><span class="token string variable number" style="color:hsl(29, 54%, 61%)">32</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">)</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token keyword" style="color:hsl(286, 60%, 67%)">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># --- update or create .env (idempotent line replace/add) ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">ENV_FILE</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${ENV_FILE</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:-</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">.env}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">touch</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$ENV_FILE</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">chmod</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">600</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$ENV_FILE</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">||</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(29, 54%, 61%)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function-name function" style="color:hsl(207, 82%, 66%)">upsert_env</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">(</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">local</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">key</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$1</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">val</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$2</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">if</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">grep</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-qE</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;^[# ]*</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${key}</span><span class="token string" style="color:hsl(95, 38%, 62%)">=&quot;</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$ENV_FILE</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">;</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># replace existing</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token function" style="color:hsl(207, 82%, 66%)">sed</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-i</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;s|^[# ]*</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${key}</span><span class="token string" style="color:hsl(95, 38%, 62%)">=.*|</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${key}</span><span class="token string" style="color:hsl(95, 38%, 62%)">=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${val}</span><span class="token string" style="color:hsl(95, 38%, 62%)">|&quot;</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$ENV_FILE</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${key}</span><span class="token string" style="color:hsl(95, 38%, 62%)">=</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${val}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&gt;&gt;</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$ENV_FILE</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(286, 60%, 67%)">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">upsert_env POSTGRES_HOST </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_HOST}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">upsert_env POSTGRES_PORT </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${RDS_PORT}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">upsert_env POSTGRES_DB   </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">upsert_env POSTGRES_USER </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">upsert_env POSTGRES_PASSWORD </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${DOKPLOY_PASSWORD}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;Wrote/updated DB values in </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${ENV_FILE}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token comment" style="color:hsl(220, 10%, 40%)"># --- run SQL (role, db, grants). Creates password only once; keeps it on re-runs. ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">PGPASSFILE</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${PGPASSFILE</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">:-</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$HOME</span><span class="token string variable operator" style="color:hsl(207, 82%, 66%)">/</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">.pgpass}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">psql </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-h</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$RDS_HOST</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-p</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$RDS_PORT</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-U</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$RDS_USER</span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-d</span><span class="token plain"> postgres </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">--set</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token plain">ON_ERROR_STOP</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&lt;&lt;</span><span class="token string" style="color:hsl(95, 38%, 62%)">SQL</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">DO \$\$</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">DECLARE</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  role_exists boolean;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  pwd text := \</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$pw</span><span class="token string" style="color:hsl(95, 38%, 62%)">\$</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${DOKPLOY_PASSWORD}</span><span class="token string" style="color:hsl(95, 38%, 62%)">\</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">$pw</span><span class="token string" style="color:hsl(95, 38%, 62%)">\$;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">BEGIN</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  SELECT EXISTS (SELECT 1 FROM pg_roles WHERE rolname = &#x27;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;) INTO role_exists;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  IF NOT role_exists THEN</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    PERFORM 1 FROM pg_extension WHERE extname = &#x27;pgcrypto&#x27;;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    IF NOT FOUND THEN</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">      CREATE EXTENSION IF NOT EXISTS pgcrypto;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    END IF;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    EXECUTE format(&#x27;CREATE ROLE </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)"> LOGIN PASSWORD %L&#x27;, pwd);</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    RAISE NOTICE &#x27;DOKPLOY_PASSWORD=%&#x27;, pwd;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  ELSE</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">    ALTER ROLE </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)"> LOGIN;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">  END IF;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">END</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">\$\$ LANGUAGE plpgsql;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">-- Create DB if missing</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">SELECT &#x27;CREATE DATABASE </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)"> OWNER </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">WHERE NOT EXISTS (SELECT 1 FROM pg_database WHERE datname = &#x27;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;);</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><span class="token string entity" style="color:hsl(220, 14%, 71%)">\\</span><span class="token string" style="color:hsl(95, 38%, 62%)">gexec</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">-- Ensure ownership if DB existed</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">SELECT &#x27;ALTER DATABASE </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)"> OWNER TO </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">WHERE EXISTS (SELECT 1 FROM pg_database WHERE datname = &#x27;</span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)">&#x27;);</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><span class="token string entity" style="color:hsl(220, 14%, 71%)">\\</span><span class="token string" style="color:hsl(95, 38%, 62%)">gexec</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><span class="token string entity" style="color:hsl(220, 14%, 71%)">\\</span><span class="token string" style="color:hsl(95, 38%, 62%)">connect </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_DB}</span><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">-- We **don&#x27;t** try to re-own public on RDS (often blocked). Give full rights instead.</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">GRANT USAGE, CREATE ON SCHEMA public TO </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES    TO </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON SEQUENCES TO </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON FUNCTIONS TO </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${POSTGRES_USER}</span><span class="token string" style="color:hsl(95, 38%, 62%)">;</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token string" style="color:hsl(95, 38%, 62%)">SQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;Bootstrap complete. Password saved to </span><span class="token string variable" style="color:hsl(207, 82%, 66%)">${ENV_FILE}</span><span class="token string" style="color:hsl(95, 38%, 62%)"> (POSTGRES_PASSWORD).&quot;</span><br></span></code></pre></div></div>
<p>and execute the script on the bastion (or whereever you chose to install <strong>postgresql-client</strong>):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">source</span><span class="token plain"> .env </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> +a</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">./bootstrap_dokploy.sh</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-dokploy-as-a-stack">Deploying Dokploy as a Stack<a href="#deploying-dokploy-as-a-stack" class="hash-link" aria-label="Direct link to Deploying Dokploy as a Stack" title="Direct link to Deploying Dokploy as a Stack" translate="no">​</a></h4>
<p>Create a file named <code>dokploy-stack.yml</code> in the <code>/mnt/sfs_turbo</code> directory:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockTitle_OeMC">dokploy-stack.yml</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token key atrule" style="color:hsl(29, 54%, 61%)">version</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;3.8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">networks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">dokploy-network</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">external</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(220, 14%, 71%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">services</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">image</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> dokploy/dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">environment</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">DATABASE_URL</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">//$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">POSTGRES_USER</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">POSTGRES_PASSWORD</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">@$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">POSTGRES_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">POSTGRES_PORT</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">/$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">POSTGRES_DB</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">?</span><span class="token plain">sslmode=require</span><span class="token important" style="color:hsl(220, 14%, 71%);font-weight:bold">&amp;options=-c%20search_path%3Dpublic</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">REDIS_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">REDIS_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">ADVERTISE_ADDR</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;0.0.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">TRAEFIK_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">TRAEFIK_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">volumes</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> /var/run/docker.sock</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/var/run/docker.sock</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> /mnt/sfs_turbo/dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain">/etc/dokploy</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">networks</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> dokploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">network</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">replicas</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token plain">   </span><span class="token comment" style="color:hsl(220, 10%, 40%)"># start with one replica to let migrations run</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">placement</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">constraints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">          </span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain"> node.role == manager</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">update_config</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">order</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> stop</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">-</span><span class="token plain">first</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">parallelism</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(29, 54%, 61%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">labels</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.enable</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;true&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.routers.dokploy.rule</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> Host(`$</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">{</span><span class="token plain">TRAEFIK_HOST</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">}</span><span class="token plain">`)</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.routers.dokploy.entrypoints</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.dokploy.loadbalancer.server.port</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;3000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.dokploy.loadbalancer.server.scheme</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;http&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(29, 54%, 61%)">traefik.http.services.dokploy.loadbalancer.passHostHeader</span><span class="token punctuation" style="color:hsl(220, 14%, 71%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(95, 38%, 62%)">&quot;true&quot;</span><br></span></code></pre></div></div>
<p>and execute the following on one of the manager nodes:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">cd</span><span class="token plain"> /mnt/sfs_turbo </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">mkdir</span><span class="token plain"> dokploy</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-a</span><span class="token plain"> </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">source</span><span class="token plain"> .env </span><span class="token operator" style="color:hsl(207, 82%, 66%)">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(29, 54%, 61%)">set</span><span class="token plain"> +a</span><br></span><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token plain"></span><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> stack deploy </span><span class="token parameter variable" style="color:hsl(207, 82%, 66%)">-c</span><span class="token plain"> dokploy-stack.yml dokploy</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>We start with <code>replicas: 1</code> to ensure database migrations run safely without conflicts.
Once the service is up and stable, scale up to <code>3</code> replicas to take advantage of all manager nodes and provide high availability.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(220, 13%, 18%);--prism-color:hsl(220, 14%, 71%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="background-color:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3)"><span class="token function" style="color:hsl(207, 82%, 66%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(207, 82%, 66%)">service</span><span class="token plain"> scale </span><span class="token assign-left variable" style="color:hsl(207, 82%, 66%)">dokploy_dokploy</span><span class="token operator" style="color:hsl(207, 82%, 66%)">=</span><span class="token number" style="color:hsl(29, 54%, 61%)">3</span><br></span></code></pre></div></div></div></div>
<p>Next, open the console URL you set in <code>TRAEFIK_HOST</code> (for example, <code>console.dokploy.example.com</code>) and create the administrative
account for your Dokploy instance:</p>
<p><img decoding="async" loading="lazy" alt="img" src="/docs-next/pr-preview/pr-341/assets/images/Screenshot_from_2025-09-24_12-49-52-f1d51da72f2ae1a9bbaa6a47757f1d30.png" width="1906" height="971" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-341/docs/tags/dokploy">dokploy</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-341/docs/tags/paas">paas</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-341/docs/tags/ecs">ecs</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-341/docs/tags/docker">docker</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs-next/pr-preview/pr-341/docs/tags/swarm">swarm</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/opentelekomcloud/docs-next/tree/main/docs/blueprints/by-use-case/devops/dokploy/deploy-dokploy-on-ecs.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/dokploy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Build a Self-Service App Hosting Platform with Dokploy</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs-next/pr-preview/pr-341/docs/blueprints/by-use-case/devops/dokploy/configure-dokploy-for-otc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configure Dokploy for Open Telekom Cloud</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-vpc-and-subnets" class="table-of-contents__link toc-highlight">Creating VPC and Subnets</a></li><li><a href="#creating-a-postgresql-database" class="table-of-contents__link toc-highlight">Creating a PostgreSQL Database</a></li><li><a href="#creating-a-redis-instance" class="table-of-contents__link toc-highlight">Creating a Redis Instance</a></li><li><a href="#preparing-security-groups" class="table-of-contents__link toc-highlight">Preparing Security Groups</a></li><li><a href="#preparing-compute--storage" class="table-of-contents__link toc-highlight">Preparing Compute &amp; Storage</a><ul><li><a href="#creating-an-ecs-group" class="table-of-contents__link toc-highlight">Creating an ECS Group</a></li><li><a href="#creating-a-key-pair" class="table-of-contents__link toc-highlight">Creating a Key Pair</a></li><li><a href="#creating-nodes" class="table-of-contents__link toc-highlight">Creating Nodes</a></li><li><a href="#creating-an-sfs-turbo-file-system" class="table-of-contents__link toc-highlight">Creating an SFS Turbo File System</a></li><li><a href="#creating-an-obs-bucket" class="table-of-contents__link toc-highlight">Creating an OBS Bucket</a></li></ul></li><li><a href="#creating-a-nat-gateway" class="table-of-contents__link toc-highlight">Creating a NAT Gateway</a><ul><li><a href="#configurating-snat--dnat-rules" class="table-of-contents__link toc-highlight">Configurating SNAT &amp; DNAT Rules</a></li></ul></li><li><a href="#creating-an-elastic-load-balancer" class="table-of-contents__link toc-highlight">Creating an Elastic Load Balancer</a></li><li><a href="#creating-dns-records" class="table-of-contents__link toc-highlight">Creating DNS Records</a></li><li><a href="#creating-the-swarm" class="table-of-contents__link toc-highlight">Creating the Swarm</a><ul><li><a href="#deploying-traefik" class="table-of-contents__link toc-highlight">Deploying Traefik</a></li><li><a href="#deploying-portainer-optional" class="table-of-contents__link toc-highlight">Deploying Portainer (Optional)</a></li><li><a href="#deploying-dokploy" class="table-of-contents__link toc-highlight">Deploying Dokploy</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="align-items-center" style="margin:0 0 0 32px"><div class="col-10 text-right"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Help Center</a></li><li class="footer__item"><a class="footer__link-item" href="/docs-next/pr-preview/pr-341/portfolio">Portfolio Navigator</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Portfolio Roadmap</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/support/release-notes" target="_blank" rel="noopener noreferrer" class="footer__link-item">Release Notes</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/products-services/core-services/certifications" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core Services Certifications</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://marketplace.otc.t-systems.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Marketplace</a></li><li class="footer__item"><a href="https://community.open-telekom-cloud.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Portal</a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PLS60dhorR-hgQ5n5L1boEQh0oVD-_k75p" target="_blank" rel="noopener noreferrer" class="footer__link-item">Webinars in YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SDKs</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/drivers.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Drivers &amp; Tools</a></li><li class="footer__item"><a href="https://registry.terraform.io/providers/opentelekomcloud/opentelekomcloud/latest/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terraform Provider<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/ansible-collection-cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ansible Collections</a></li><li class="footer__item"><a href="https://designer.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Create</a></li></ul></div><div class="col footer__col"><div class="footer__title">API</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/developer/api_guidelines/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">REST API Usage Guidelines</a></li><li class="footer__item"><a href="https://docs.otc.t-systems.com/regions-and-endpoints/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Regions &amp; Endpoints</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://enterprise-dashboard.otc-service.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Enterprise Dashboard</a></li><li class="footer__item"><a href="https://www.open-telekom-cloud.com/en/prices/price-calculator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Price Calculator</a></li><li class="footer__item"><a href="https://status.otc-service.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Dashboard</a></li></ul></div></div></div></div></div><scale-telekom-footer type="minimal"><scale-telekom-footer-content><span slot="notice">© T-Systems International GmbH 2025<!-- --> <scale-tag size="small" style="margin:0 0 0 8px" color="orange" type="strong">0.1.PR341-256-63ee06f-ephemeral</scale-tag></span><ul slot="navigation"><li><a href="https://open-telekom-cloud.com/en/contact"> Contact </a></li><li><a href="https://open-telekom-cloud.com/en/data-protection"> Data privacy </a></li><li><a href="https://open-telekom-cloud.com/en/disclaimer-of-liability"> Disclaimer of liabilities </a></li><li><a href="https://open-telekom-cloud.com/en/imprint"> Imprint </a></li></ul></scale-telekom-footer-content></scale-telekom-footer></footer></div>
</body>
</html>